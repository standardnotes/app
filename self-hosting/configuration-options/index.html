<!doctype html>
<html lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-alpha.73">
<link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="Standard Notes Documentation Blog RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="Standard Notes Documentation Blog Atom Feed">
<link rel="search" type="application/opensearchdescription+xml" title="Standard Notes Documentation" href="/opensearch.xml">
<link rel="stylesheet" href="/katex/v0.12.0/katex.min.css" integrity="sha384-AfEj0r4/OFrOo5t7NnNe46zW/tFgW6x/bCJG8FqQCEo3+Aro6EYUG4+cU+KJWu/X" crossorigin="anonymous">
<script src="https://plausible.standardnotes.com/js/plausible.js" data-domain="docs.standardnotes.com" defer="defer"></script><title data-react-helmet="true">Configuration options | Standard Notes Documentation</title><meta data-react-helmet="true" property="og:url" content="https://docs.standardnotes.com/self-hosting/configuration-options"><meta data-react-helmet="true" name="docsearch:language" content="en"><meta data-react-helmet="true" name="docsearch:version" content="current"><meta data-react-helmet="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="Configuration options | Standard Notes Documentation"><meta data-react-helmet="true" name="description" content="Manage options for your Standard Notes Standalone Infrastructure."><meta data-react-helmet="true" property="og:description" content="Manage options for your Standard Notes Standalone Infrastructure."><meta data-react-helmet="true" name="keywords" content="standard notes,docs,notes app,end-to-end encryption,self-hosting,sync server,configuration options"><meta data-react-helmet="true" property="og:image" content="https://docs.standardnotes.com/img/logo.png"><meta data-react-helmet="true" name="twitter:image" content="https://docs.standardnotes.com/img/logo.png"><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><link data-react-helmet="true" rel="shortcut icon" href="/img/favicon.png"><link data-react-helmet="true" rel="canonical" href="https://docs.standardnotes.com/self-hosting/configuration-options"><link data-react-helmet="true" rel="alternate" href="https://docs.standardnotes.com/self-hosting/configuration-options" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://docs.standardnotes.com/self-hosting/configuration-options" hreflang="x-default"><link data-react-helmet="true" rel="preconnect" href="https://BH4D9OD16A-dsn.algolia.net" crossorigin="anonymous"><link rel="stylesheet" href="/assets/css/styles.db5fed33.css">
<link rel="stylesheet" href="/assets/css/main.116d80c7.css">
<link rel="preload" href="/assets/js/styles.565bd87c.js" as="script">
<link rel="preload" href="/assets/js/runtime~main.5f44d871.js" as="script">
<link rel="preload" href="/assets/js/main.8739964d.js" as="script">
<link rel="preload" href="/assets/js/1.25e740a8.js" as="script">
<link rel="preload" href="/assets/js/2.c2880936.js" as="script">
<link rel="preload" href="/assets/js/67.65386a98.js" as="script">
<link rel="preload" href="/assets/js/70.ea01afed.js" as="script">
<link rel="preload" href="/assets/js/935f2afb.0ba3a290.js" as="script">
<link rel="preload" href="/assets/js/17896441.17d9078c.js" as="script">
<link rel="preload" href="/assets/js/35307e8a.994decd6.js" as="script">
</head>
<body>
<script>!function(){function e(e){document.documentElement.setAttribute("data-theme",e)}var t=function(){var e=null;try{e=localStorage.getItem("theme")}catch(e){}return e}();null!==t?e(t):window.matchMedia("(prefers-color-scheme: dark)").matches?e("dark"):(window.matchMedia("(prefers-color-scheme: light)").matches,e("light"))}()</script><div id="__docusaurus">
<div><a href="#main" class="skipToContent_OuoZ">Skip to main content</a></div><nav class="navbar navbar--fixed-top navbarHideable_RReh"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle" type="button" tabindex="0"><svg aria-label="Menu" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><img src="/img/logo.png" alt="Standard Notes Logo" class="themedImage_TMUO themedImage--light_4Vu1 navbar__logo"><img src="/img/logo.png" alt="Standard Notes Logo" class="themedImage_TMUO themedImage--dark_uzRr navbar__logo"><strong class="navbar__title">Standard Notes</strong></a><div class="navbar__item dropdown dropdown--hoverable dropdown--left"><a class="navbar__item navbar__link">Developers</a><ul class="dropdown__menu"><li><a class="dropdown__link" position="left" href="/self-hosting/getting-started">Self-Host a Sync Server</a></li><li><a class="dropdown__link" position="left" href="/specification/encryption">Client Encryption API</a></li><li><a class="dropdown__link" position="left" href="/specification/sync">Server API</a></li><li><a class="dropdown__link" position="left" href="/extensions/intro">Build an Extension</a></li><li><a class="dropdown__link" position="left" href="/extensions/editors">Build an Editor</a></li></ul></div></div><div class="navbar__items navbar__items--right"><a href="https://app.standardnotes.com" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Encrypted Notes App</a><a href="https://standardnotes.com" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Standard Notes Website</a><a href="https://standardnotes.com/help" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Help</a><a href="https://blog.standardnotes.com" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Blog</a><a href="https://github.com/standardnotes" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub</a><div class="react-toggle displayOnlyInLargeViewport_cxYs react-toggle--disabled" role="button" tabindex="-1"><div class="react-toggle-track"><div class="react-toggle-track-check"><span class="toggle_iYfV">ðŸŒœ</span></div><div class="react-toggle-track-x"><span class="toggle_iYfV">ðŸŒž</span></div></div><div class="react-toggle-thumb"></div><input type="checkbox" class="react-toggle-screenreader-only" aria-label="Switch between dark and light mode"></div><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a class="navbar__brand" href="/"><img src="/img/logo.png" alt="Standard Notes Logo" class="themedImage_TMUO themedImage--light_4Vu1 navbar__logo"><img src="/img/logo.png" alt="Standard Notes Logo" class="themedImage_TMUO themedImage--dark_uzRr navbar__logo"><strong class="navbar__title">Standard Notes</strong></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item menu__list-item--collapsed"><a role="button" class="menu__link menu__link--sublist">Developers</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" position="left" href="/self-hosting/getting-started">Self-Host a Sync Server</a></li><li class="menu__list-item"><a class="menu__link" position="left" href="/specification/encryption">Client Encryption API</a></li><li class="menu__list-item"><a class="menu__link" position="left" href="/specification/sync">Server API</a></li><li class="menu__list-item"><a class="menu__link" position="left" href="/extensions/intro">Build an Extension</a></li><li class="menu__list-item"><a class="menu__link" position="left" href="/extensions/editors">Build an Editor</a></li></ul></li><li class="menu__list-item"><a href="https://app.standardnotes.com" target="_blank" rel="noopener noreferrer" class="menu__link">Encrypted Notes App</a></li><li class="menu__list-item"><a href="https://standardnotes.com" target="_blank" rel="noopener noreferrer" class="menu__link">Standard Notes Website</a></li><li class="menu__list-item"><a href="https://standardnotes.com/help" target="_blank" rel="noopener noreferrer" class="menu__link">Help</a></li><li class="menu__list-item"><a href="https://blog.standardnotes.com" target="_blank" rel="noopener noreferrer" class="menu__link">Blog</a></li><li class="menu__list-item"><a href="https://github.com/standardnotes" target="_blank" rel="noopener noreferrer" class="menu__link">GitHub</a></li></ul></div></div></div></nav><div class="main-wrapper docs-wrapper doc-page"><div class="docPage_lDyR"><div class="docSidebarContainer_0YBq" role="complementary"><div class="sidebar_a3j0 sidebarWithHideableNavbar_VlPv"><a tabindex="-1" class="sidebarLogo_hmkv" href="/"><img src="/img/logo.png" alt="Standard Notes Logo" class="themedImage_TMUO themedImage--light_4Vu1"><img src="/img/logo.png" alt="Standard Notes Logo" class="themedImage_TMUO themedImage--dark_uzRr"><strong>Standard Notes</strong></a><div class="menu menu--responsive thin-scrollbar menu_cyFh"><button aria-label="Open menu" aria-haspopup="true" class="button button--secondary button--sm menu__button" type="button"><svg aria-label="Menu" class="sidebarMenuIcon_iZzd" width="24" height="24" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><ul class="menu__list"><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#!">Developers</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#!" tabindex="0">Self Hosting</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/self-hosting/getting-started">Getting Started</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/self-hosting/docker">Docker</a></li><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active active" tabindex="0" href="/self-hosting/configuration-options">Configuration options</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/self-hosting/legacy-migration">Migrating From Legacy</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/self-hosting/https-support">Securing HTTP traffic of your Sync server</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/self-hosting/updating">Updating</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/self-hosting/subscriptions">Subscriptions</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/self-hosting/file-uploads">File Uploads</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="0">API</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/specification/encryption">Client Encryption</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/specification/sync">Sync</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/specification/auth">Auth</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="0">Extensions</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/extensions/intro">Intro to Extensions</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">Editors</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/extensions/editors">Building Editors</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/extensions/editors/getting-started">Getting Started</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/extensions/editorkit">EditorKit</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/extensions/stylekit">StyleKit</a></li></ul></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/extensions/local-setup">Local Setup</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/extensions/themes">Themes</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/extensions/actions">Actions</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/extensions/publishing">Publishing</a></li></ul></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Editors</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/usage/bold-editor">Bold Editor</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/usage/markdown-basic">Markdown Basic</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/usage/markdown-math">Markdown Math</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/usage/markdown-pro">Markdown Pro</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/usage/secure-spreadsheets">Secure Spreadsheets</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/usage/task-editor">Task Editor</a></li></ul></li></ul></div><button type="button" title="Collapse sidebar" aria-label="Collapse sidebar" class="button button--secondary button--outline collapseSidebarButton_eoK2"><svg width="20" height="20" role="img" class="collapseSidebarButtonIcon_e+kA"><g fill="#7a7a7a"><path d="M9.992 10.023c0 .2-.062.399-.172.547l-4.996 7.492a.982.982 0 01-.828.454H1c-.55 0-1-.453-1-1 0-.2.059-.403.168-.551l4.629-6.942L.168 3.078A.939.939 0 010 2.528c0-.548.45-.997 1-.997h2.996c.352 0 .649.18.828.45L9.82 9.472c.11.148.172.347.172.55zm0 0"></path><path d="M19.98 10.023c0 .2-.058.399-.168.547l-4.996 7.492a.987.987 0 01-.828.454h-3c-.547 0-.996-.453-.996-1 0-.2.059-.403.168-.551l4.625-6.942-4.625-6.945a.939.939 0 01-.168-.55 1 1 0 01.996-.997h3c.348 0 .649.18.828.45l4.996 7.492c.11.148.168.347.168.55zm0 0"></path></g></svg></button></div></div><main class="docMainContainer_r8cw"><div class="container padding-vert--lg docItemWrapper_NJLN"><div class="row"><div class="col docItemCol_zHA2"><div class="docItemContainer_oiyr"><article><header><h1 class="docTitle_-X99">Configuration options</h1></header><div class="markdown"><h2><a aria-hidden="true" tabindex="-1" class="anchor" id="note"></a>Note<a class="hash-link" href="#note" title="Direct link to heading">#</a></h2><p>After changing any of the environment variables mentioned below you will have to restart the infrastructure in order for the changes to take effect. You can do so with the following command:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI bash"><div tabindex="0" class="prism-code language-bash codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">$ ./server.sh stop </span><span class="token operator" style="color:rgb(137, 221, 255)">&amp;&amp;</span><span class="token plain"> ./server.sh start</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor" id="syncing-server-js--syncing-server-worker"></a>Syncing Server JS &amp; Syncing Server Worker<a class="hash-link" href="#syncing-server-js--syncing-server-worker" title="Direct link to heading">#</a></h2><p>All configuration options mentioned below are controlled by environment variables located in the <code>.env</code> file.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="basics"></a>Basics<a class="hash-link" href="#basics" title="Direct link to heading">#</a></h3><ul><li><code>LOG_LEVEL</code>: the level of logs outputted by the Syncing Server JS and Syncing Server JS Worker services.</li><li><code>NODE_ENV</code>: Node environment in which the service is running.</li></ul><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="secrets"></a>Secrets<a class="hash-link" href="#secrets" title="Direct link to heading">#</a></h3><ul><li><code>AUTH_JWT_SECRET</code>: secret used to sign the JWT tokens that are used for authorization &amp; authentication purposes between services.</li></ul><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="ports"></a>Ports<a class="hash-link" href="#ports" title="Direct link to heading">#</a></h3><ul><li><code>EXPOSED_PORT</code>: the port on which the API Gateway will run. It is your main entry point for the entire infrastructure.</li></ul><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="database"></a>Database<a class="hash-link" href="#database" title="Direct link to heading">#</a></h3><ul><li><code>DB_HOST</code>: database host.</li><li><code>DB_REPLICA_HOST</code>: database replica host. If no replica is supported it should point to the same host as the primary DB.</li><li><code>DB_PORT</code>: database port.</li><li><code>DB_USERNAME</code>: database username.</li><li><code>DB_PASSWORD</code>: database password.</li><li><code>DB_DATABASE</code>: database name.</li><li><code>DB_DEBUG_LEVEL</code>: the level of logs which are outputted in the database context. Related to TypeORM.</li><li><code>DB_MIGRATIONS_PATH</code>: path to migrations folder that should be run against the database. Related to TypeORM.</li></ul><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="cache"></a>Cache<a class="hash-link" href="#cache" title="Direct link to heading">#</a></h3><ul><li><code>REDIS_URL</code>: url to Redis node.</li></ul><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="redis-async-communication-default"></a>Redis Async Communication (Default)<a class="hash-link" href="#redis-async-communication-default" title="Direct link to heading">#</a></h3><ul><li><code>REDIS_EVENTS_CHANNEL</code>: name of the Redis Pub/Sub channel used for communication between the service and its worker.</li></ul><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="aws-async-communication-optional"></a>AWS Async Communication (Optional)<a class="hash-link" href="#aws-async-communication-optional" title="Direct link to heading">#</a></h3><p>If you do not want to use Redis as the communication channel between services, you can configure your async communication to be done via Amazon Web Services.</p><blockquote><p><strong>Note</strong> We do not support configuring AWS secret and access keys in the environment variables as this is generally bad practice. If you would like to utilize SNS, SQS and S3, please configure an appropriate IAM user and role for the server on which you self-host your application as <a href="https://docs.aws.amazon.com/IAM/latest/UserGuide/best-practices.html#sharing-credentials" target="_blank" rel="noopener noreferrer">best practice</a>.</p></blockquote><ul><li><code>SNS_TOPIC_ARN</code>: ARN of the SNS topic that the service will publish events to.</li><li><code>SNS_AWS_REGION</code>: AWS region of the SNS topic.</li><li><code>SQS_QUEUE_URL</code>: URL of the SQS queue from which a worker will consume events.</li><li><code>SQS_AWS_REGION</code>: AWS region of the SQS queue.</li><li><code>S3_BACKUP_BUCKET_NAME</code>: name of the S3 bucket on which a file backup will be performed to transfer large data between services.</li><li><code>S3_AWS_REGION</code>: AWS region of the S3 bucket.</li></ul><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="auth-service"></a>Auth Service<a class="hash-link" href="#auth-service" title="Direct link to heading">#</a></h3><p>-<code>AUTH_SERVER_URL</code>: url to the Auth service. Default value should be kept.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="emails"></a>Emails<a class="hash-link" href="#emails" title="Direct link to heading">#</a></h3><ul><li><code>EMAIL_ATTACHMENT_MAX_BYTE_SIZE</code>: Amount of bytes allowed for daily email backup attachments.</li></ul><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="revisions"></a>Revisions<a class="hash-link" href="#revisions" title="Direct link to heading">#</a></h3><ul><li><code>REVISIONS_FREQUENCY</code>: Amount of seconds that should pass between each save of a note for a new history revision to be created.</li></ul><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="new-relic-optional"></a>New Relic (Optional)<a class="hash-link" href="#new-relic-optional" title="Direct link to heading">#</a></h3><p>We are utilizing New Relic to monitor our infrastructure. If you wish to set up your own monitoring in New Relic you can utilize the following environment variables:</p><ul><li><code>NEW_RELIC_ENABLED</code>: enable or disable New Relic agent.</li><li><code>NEW_RELIC_APP_NAME</code>: name of the application to show in New Relic.</li><li><code>NEW_RELIC_LICENSE_KEY</code>: New Relic license key.</li><li><code>NEW_RELIC_NO_CONFIG_FILE</code>: should be true as we do not use configuration files for New Relic and fallback to environment variables.</li><li><code>NEW_RELIC_DISTRIBUTED_TRACING_ENABLED</code>: enable or disable distrubuted tracing.</li><li><code>NEW_RELIC_LOG_ENABLED</code>: enable or disable logs in New Relic.</li><li><code>NEW_RELIC_LOG_LEVEL</code>: level of logs in New Relic.</li></ul><h2><a aria-hidden="true" tabindex="-1" class="anchor" id="auth--auth-worker"></a>Auth &amp; Auth Worker<a class="hash-link" href="#auth--auth-worker" title="Direct link to heading">#</a></h2><p>All configuration options mentioned below are controlled by environment variables located in the <code>docker/auth.env</code> file.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="basics-1"></a>Basics<a class="hash-link" href="#basics-1" title="Direct link to heading">#</a></h3><ul><li><code>LOG_LEVEL</code>: the level of logs outputted by the Auth and Auth Worker services.</li><li><code>NODE_ENV</code>: Node environment in which the service is running.</li></ul><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="secrets-1"></a>Secrets<a class="hash-link" href="#secrets-1" title="Direct link to heading">#</a></h3><ul><li><code>JWT_SECRET</code>: secret used to sign the JWT tokens that are used for authorization &amp; authentication purposes between client and server.</li><li><code>LEGACY_JWT_SECRET</code>: This parameter is a fallback for supporting old client applications that had a different authorization mechanism. You don&#x27;t need to change this if you are just starting to self-host your setup and do not own a legacy client application.</li><li><code>AUTH_JWT_TTL</code>: Time to live in seconds for the JWT token used for communication between services.</li><li><code>PSEUDO_KEY_PARAMS_KEY</code>: key used to generate password nonce in the process of creating user authentication parameters.</li><li><code>ENCRYPTION_SERVER_KEY</code>: key used for ecrypting user server key. Must be a hex string exactly 32 bytes long e.g. <code>feffe9928665731c6d6a8f9467308308feffe9928665731c6d6a8f9467308308</code>.</li></ul><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="authentication-and-authorization"></a>Authentication and Authorization<a class="hash-link" href="#authentication-and-authorization" title="Direct link to heading">#</a></h3><ul><li><code>ACCESS_TOKEN_AGE</code>: time to live (in seconds) of the access token used to communicate with the server.</li><li><code>REFRESH_TOKEN_AGE</code>: time to live (in seconds) of the refresh token used to obtain a new access token.</li><li><code>EPHEMERAL_SESSION_AGE</code>: time to live (in seconds) of an ephemeral session. Used when you sign in without the &quot;Stay signed in&quot; option checked.</li><li><code>MAX_LOGIN_ATTEMPTS</code>: number of login attempts before locking the account.</li><li><code>FAILED_LOGIN_LOCKOUT</code>: lockout period in seconds after maximum failed login attempts.</li></ul><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="redis-async-communication-default-1"></a>Redis Async Communication (Default)<a class="hash-link" href="#redis-async-communication-default-1" title="Direct link to heading">#</a></h3><ul><li><code>REDIS_EVENTS_CHANNEL</code>: name of the Redis Pub/Sub channel used for communication between the service and its worker.</li></ul><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="syncing-server-service"></a>Syncing Server Service<a class="hash-link" href="#syncing-server-service" title="Direct link to heading">#</a></h3><p>-<code>SYNCING_SERVER_URL</code>: url to the Syncing Server service. Default value should be kept.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="disabling-new-user-registrations"></a>Disabling new user registrations<a class="hash-link" href="#disabling-new-user-registrations" title="Direct link to heading">#</a></h3><ul><li><code>DISABLE_USER_REGISTRATION</code>: disable the option to register new users on the server.</li></ul><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="new-relic-optional-1"></a>New Relic (Optional)<a class="hash-link" href="#new-relic-optional-1" title="Direct link to heading">#</a></h3><p>We are utilizing New Relic to monitor our infrastructure. If you wish to set up your own monitoring in New Relic you can utilize the following environment variables:</p><ul><li><code>NEW_RELIC_ENABLED</code>: enable or disable New Relic agent.</li><li><code>NEW_RELIC_APP_NAME</code>: name of the application to show in New Relic.</li><li><code>NEW_RELIC_LICENSE_KEY</code>: New Relic license key.</li><li><code>NEW_RELIC_NO_CONFIG_FILE</code>: should be true as we do not use configuration files for New Relic and fallback to environment variables.</li><li><code>NEW_RELIC_DISTRIBUTED_TRACING_ENABLED</code>: enable or disable distrubuted tracing.</li><li><code>NEW_RELIC_LOG_ENABLED</code>: enable or disable logs in New Relic.</li><li><code>NEW_RELIC_LOG_LEVEL</code>: level of logs in New Relic.</li></ul><h2><a aria-hidden="true" tabindex="-1" class="anchor" id="api-gateway"></a>API Gateway<a class="hash-link" href="#api-gateway" title="Direct link to heading">#</a></h2><p>All configuration options mentioned below are controlled by environment variables located in the <code>docker/api-gateway.env</code> file.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="basics-2"></a>Basics<a class="hash-link" href="#basics-2" title="Direct link to heading">#</a></h3><ul><li><code>LOG_LEVEL</code>: the level of logs outputted by the API Gateway service.</li><li><code>NODE_ENV</code>: Node environment in which the service is running.</li></ul><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="routing"></a>Routing<a class="hash-link" href="#routing" title="Direct link to heading">#</a></h3><ul><li><code>SYNCING_SERVER_JS_URL</code>: url to the Syncing Server JS service.</li><li><code>AUTH_SERVER_URL</code>: url to the Auth service.</li></ul><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="new-relic-optional-2"></a>New Relic (Optional)<a class="hash-link" href="#new-relic-optional-2" title="Direct link to heading">#</a></h3><p>We are utilizing New Relic to monitor our infrastructure. If you wish to set up your own monitoring in New Relic you can utilize the following environment variables:</p><ul><li><code>NEW_RELIC_ENABLED</code>: enable or disable New Relic agent.</li><li><code>NEW_RELIC_APP_NAME</code>: name of the application to show in New Relic.</li><li><code>NEW_RELIC_LICENSE_KEY</code>: New Relic license key.</li><li><code>NEW_RELIC_NO_CONFIG_FILE</code>: should be true as we do not use configuration files for New Relic and fallback to environment variables.</li><li><code>NEW_RELIC_DISTRIBUTED_TRACING_ENABLED</code>: enable or disable distrubuted tracing.</li><li><code>NEW_RELIC_LOG_ENABLED</code>: enable or disable logs in New Relic.</li><li><code>NEW_RELIC_LOG_LEVEL</code>: level of logs in New Relic.</li></ul></div></article><div class="margin-vert--xl"><div class="row"><div class="col"><a href="https://github.com/standardnotes/docs/edit/main/docs/self-hosting/configuration-options.md" target="_blank" rel="noreferrer noopener"><svg fill="currentColor" height="1.2em" width="1.2em" preserveAspectRatio="xMidYMid meet" role="img" viewBox="0 0 40 40" class="iconEdit_mS5F" aria-label="Edit page"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col text--right"><em><small>Last updated on <time datetime="2022-11-15T13:56:50.000Z" class="lastUpdatedDate_nN9m">11/15/2022</time></small></em></div></div></div><div class="margin-vert--lg"><nav class="pagination-nav" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/self-hosting/docker"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Â« Self-hosting with Docker</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/self-hosting/legacy-migration"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Migrating From Legacy Â»</div></a></div></nav></div></div></div><div class="col col--3"><div class="tableOfContents_vrFS thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#note" class="table-of-contents__link">Note</a></li><li><a href="#syncing-server-js--syncing-server-worker" class="table-of-contents__link">Syncing Server JS &amp; Syncing Server Worker</a><ul><li><a href="#basics" class="table-of-contents__link">Basics</a></li><li><a href="#secrets" class="table-of-contents__link">Secrets</a></li><li><a href="#ports" class="table-of-contents__link">Ports</a></li><li><a href="#database" class="table-of-contents__link">Database</a></li><li><a href="#cache" class="table-of-contents__link">Cache</a></li><li><a href="#redis-async-communication-default" class="table-of-contents__link">Redis Async Communication (Default)</a></li><li><a href="#aws-async-communication-optional" class="table-of-contents__link">AWS Async Communication (Optional)</a></li><li><a href="#auth-service" class="table-of-contents__link">Auth Service</a></li><li><a href="#emails" class="table-of-contents__link">Emails</a></li><li><a href="#revisions" class="table-of-contents__link">Revisions</a></li><li><a href="#new-relic-optional" class="table-of-contents__link">New Relic (Optional)</a></li></ul></li><li><a href="#auth--auth-worker" class="table-of-contents__link">Auth &amp; Auth Worker</a><ul><li><a href="#basics-1" class="table-of-contents__link">Basics</a></li><li><a href="#secrets-1" class="table-of-contents__link">Secrets</a></li><li><a href="#authentication-and-authorization" class="table-of-contents__link">Authentication and Authorization</a></li><li><a href="#redis-async-communication-default-1" class="table-of-contents__link">Redis Async Communication (Default)</a></li><li><a href="#syncing-server-service" class="table-of-contents__link">Syncing Server Service</a></li><li><a href="#disabling-new-user-registrations" class="table-of-contents__link">Disabling new user registrations</a></li><li><a href="#new-relic-optional-1" class="table-of-contents__link">New Relic (Optional)</a></li></ul></li><li><a href="#api-gateway" class="table-of-contents__link">API Gateway</a><ul><li><a href="#basics-2" class="table-of-contents__link">Basics</a></li><li><a href="#routing" class="table-of-contents__link">Routing</a></li><li><a href="#new-relic-optional-2" class="table-of-contents__link">New Relic (Optional)</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><h4 class="footer__title">Developers</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/self-hosting/getting-started">Self-Host a Sync Server</a></li><li class="footer__item"><a class="footer__link-item" href="/extensions/intro">Build an Extension</a></li><li class="footer__item"><a class="footer__link-item" href="/specification/encryption">Encryption Specification</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">Community</h4><ul class="footer__items"><li class="footer__item"><a href="https://standardnotes.com/discord" target="_blank" rel="noopener noreferrer" class="footer__link-item">Join our Discord</a></li><li class="footer__item"><a href="https://standardnotes.com/forum" target="_blank" rel="noopener noreferrer" class="footer__link-item">Community Forum</a></li><li class="footer__item"><a href="https://listed.to" target="_blank" rel="noopener noreferrer" class="footer__link-item">Listed Blogging Platform</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">Support</h4><ul class="footer__items"><li class="footer__item"><a href="https://standardnotes.com/help" target="_blank" rel="noopener noreferrer" class="footer__link-item">Help &amp; Contact</a></li><li class="footer__item"><a href="https://twitter.com/standardnotes" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter</a></li><li class="footer__item"><a href="https://reddit.com/r/standardnotes" target="_blank" rel="noopener noreferrer" class="footer__link-item">Reddit</a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright Â© 2022 <a href="https://standardnotes.com">Standard Notes</a></div></div></div></footer></div>
<script src="/assets/js/styles.565bd87c.js"></script>
<script src="/assets/js/runtime~main.5f44d871.js"></script>
<script src="/assets/js/main.8739964d.js"></script>
<script src="/assets/js/1.25e740a8.js"></script>
<script src="/assets/js/2.c2880936.js"></script>
<script src="/assets/js/67.65386a98.js"></script>
<script src="/assets/js/70.ea01afed.js"></script>
<script src="/assets/js/935f2afb.0ba3a290.js"></script>
<script src="/assets/js/17896441.17d9078c.js"></script>
<script src="/assets/js/35307e8a.994decd6.js"></script>
</body>
</html>