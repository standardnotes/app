!function(t){"object"==typeof exports&&"object"==typeof module?t(require("../../lib/codemirror"),require("../yaml/yaml")):"function"==typeof define&&define.amd?define(["../../lib/codemirror","../yaml/yaml"],t):t(CodeMirror)}((function(t){t.defineMode("yaml-frontmatter",(function(e,n){var r=t.getMode(e,"yaml"),i=t.getMode(e,n&&n.base||"gfm");function a(t){return 2==t.state?i:r}return{startState:function(){return{state:0,inner:t.startState(r)}},copyState:function(e){return{state:e.state,inner:t.copyState(a(e),e.inner)}},token:function(e,n){if(0==n.state)return e.match("---",!1)?(n.state=1,r.token(e,n.inner)):(n.state=2,n.inner=t.startState(i),i.token(e,n.inner));if(1==n.state){var a=e.sol()&&e.match(/(---|\.\.\.)/,!1),o=r.token(e,n.inner);return a&&(n.state=2,n.inner=t.startState(i)),o}return i.token(e,n.inner)},innerMode:function(t){return{mode:a(t),state:t.inner}},blankLine:function(t){var e=a(t);if(e.blankLine)return e.blankLine(t.inner)}}}))}));