{"version":3,"file":"editor-kit.js","mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,O;;;;;;ACVA;AACA,eAAe,KAAiD,oBAAoB,CAA4I,CAAC,iBAAiB,OAAO,QAAQ,MAAM,iBAAiB,aAAa,OAAO,cAAc,sCAAsC,SAAS,iDAAiD,UAAU,+DAA+D,IAAI,kEAAkE,qBAAqB,SAAS,UAAU,UAAU,+DAA+D,8DAA8D,oCAAoC,cAAc,sCAAsC,SAAS,EAAE,eAAe,MAAM,sCAAsC,SAAS,iEAAiE,8kBAA8kB,mCAAmC,6CAA6C,OAAO,4XAA4X,KAAK,eAAe,sCAAsC,SAAS,EAAE,eAAe,sCAAsC,SAAS,EAAE,eAAe,sCAAsC,SAAS,EAAE,eAAe,sCAAsC,SAAS,EAAE,eAAe,sCAAsC,SAAS,EAAE,eAAe,MAAM,sCAAsC,SAAS,2FAA2F,msCAAmsC,eAAe,MAAM,sCAAsC,SAAS,iDAAiD,8UAA8U,eAAe,sCAAsC,SAAS,EAAE,eAAe,sCAAsC,SAAS,EAAE,eAAe,sCAAsC,SAAS,EAAE,eAAe,sCAAsC,SAAS,EAAE,eAAe,sCAAsC,SAAS,EAAE,eAAe,sCAAsC,SAAS,EAAE,eAAe,MAAM,sCAAsC,SAAS,qFAAqF,0MAA0M,eAAe,MAAM,sCAAsC,SAAS,0DAA0D,yCAAyC,eAAe,MAAM,gBAAgB,2BAA2B,sCAAsC,SAAS,4SAA4S,iEAAiE,2CAA2C,uHAAuH,oEAAoE,yCAAyC,qCAAqC,kCAAkC,4EAA4E,+CAA+C,yCAAyC,wDAAwD,0EAA0E,iBAAiB,4CAA4C,kBAAkB,iBAAiB,sCAAsC,SAAS,qBAAqB,iBAAiB,yEAAyE,eAAe,MAAM,sCAAsC,SAAS,iDAAiD,sGAAsG,cAAc,MAAM,sCAAsC,SAAS,6GAA6G,kDAAkD,eAAe,MAAM,sCAAsC,SAAS,yEAAyE,6CAA6C,eAAe,sCAAsC,SAAS,EAAE,eAAe,sCAAsC,SAAS,EAAE,eAAe,sCAAsC,SAAS,oEAAoE,gCAAgC,cAAc,sCAAsC,SAAS,+CAA+C,cAAc,QAAQ,aAAa,EAAE,UAAU,EAAE,eAAe,EAAE,iBAAiB,EAAE,UAAU,GAAG,0DAA0D,kDAAkD,YAAY,YAAY,+DAA+D,eAAe,sCAAsC,SAAS,EAAE,eAAe,MAAM,sCAAsC,SAAS,qFAAqF,wFAAwF,cAAc,MAAM,sCAAsC,SAAS,gEAAgE,iDAAiD,cAAc,MAAM,sCAAsC,SAAS,kFAAkF,wDAAwD,uBAAuB,mEAAmE,kBAAkB,2CAA2C,8DAA8D,6BAA6B,aAAa,+BAA+B,mBAAmB,4BAA4B,2CAA2C,mFAAmF,sCAAsC,SAAS,+aAA+a,uBAAuB,mEAAmE,kBAAkB,2CAA2C,8DAA8D,6BAA6B,aAAa,+BAA+B,mBAAmB,4BAA4B,2CAA2C,mFAAmF,sCAAsC,SAAS,gBAAgB,eAAe,MAAM,sCAAsC,SAAS,gEAAgE,mEAAmE,eAAe,MAAM,sCAAsC,SAAS,2FAA2F,yDAAyD,eAAe,MAAM,sCAAsC,SAAS,qFAAqF,yDAAyD,eAAe,MAAM,sCAAsC,SAAS,uGAAuG,yDAAyD,eAAe,sCAAsC,SAAS,EAAE,eAAe,MAAM,sCAAsC,SAAS,oGAAoG,2CAA2C,eAAe,MAAM,sCAAsC,SAAS,gHAAgH,wCAAwC,eAAe,MAAM,sCAAsC,SAAS,+HAA+H,wCAAwC,eAAe,MAAM,sCAAsC,SAAS,oGAAoG,wCAAwC,eAAe,MAAM,sCAAsC,SAAS,2FAA2F,wCAAwC,eAAe,MAAM,sCAAsC,SAAS,8FAA8F,yDAAyD,eAAe,sCAAsC,SAAS,EAAE,eAAe,MAAM,sCAAsC,SAAS,0DAA0D,8sBAA8sB,eAAe,MAAM,sCAAsC,SAAS,8FAA8F,iGAAiG,uBAAuB,mEAAmE,kBAAkB,2CAA2C,8DAA8D,6BAA6B,aAAa,+BAA+B,mBAAmB,4BAA4B,2CAA2C,mFAAmF,sCAAsC,SAAS,sMAAsM,sBAAsB,mEAAmE,kBAAkB,2CAA2C,8DAA8D,6BAA6B,aAAa,+BAA+B,mBAAmB,4BAA4B,2CAA2C,mFAAmF,sCAAsC,SAAS,gBAAgB,mBAAmB,qBAAqB,cAAc,iFAAiF,gBAAgB,aAAa,oGAAoG,MAAM,gBAAgB,8CAA8C,uBAAuB,QAAQ,aAAa,4DAA4D,mCAAmC,qCAAqC,IAAI,gFAAgF,OAAO,SAAS,UAAU,kBAAkB,+CAA+C,aAAa,kBAAkB,oCAAoC,6BAA6B,yBAAyB,cAAc,mBAAmB,gCAAgC,iBAAiB,oGAAoG,mBAAmB,MAAM,oCAAoC,oDAAoD,gLAAgL,gBAAgB,4JAA4J,GAAG,gBAAgB,oCAAoC,2BAA2B,IAAI,cAAc,SAAS,6OAA6O,sBAAsB,oBAAoB,oBAAoB,SAAS,oBAAoB,SAAS,sBAAsB,iBAAiB,EAAE,gSAAgS,8CAA8C,IAAI,sBAAsB,cAAc,EAAE,cAAc,mBAAmB,sDAAsD,IAAI,wBAAwB,iBAAiB,kBAAkB,oBAAoB,mBAAmB,IAAI,EAAE,WAAW,uBAAuB,WAAW,4BAA4B,QAAQ,SAAS,cAAc,gBAAgB,mCAAmC,SAAS,gBAAgB,KAAK,SAAS,EAAE,aAAa,MAAM,yBAAyB,gDAAgD,OAAO,mBAAmB,kDAAkD,onMAAonM,EAAE,iBAAiB,EAAE,mTAAmT,6CAA6C,iBAAiB,kEAAkE,qCAAqC,sFAAsF,+BAA+B,IAAI,yBAAyB,uBAAuB,SAAS,6BAA6B,UAAU,EAAE,SAAS,8EAA8E,oBAAoB,+EAA+E,aAAa,qGAAqG,qUAAqU,yBAAyB,mCAAmC,mEAAmE,0KAA0K,IAAI,uCAAuC,UAAU,UAAU,gFAAgF,4DAA4D,qDAAqD,oEAAoE,cAAc,qDAAqD,qBAAqB,qDAAqD,iCAAiC,oDAAoD,+HAA+H,gBAAgB,6OAA6O,kEAAkE,qVAAqV,kDAAkD,gBAAgB,sCAAsC,uHAAuH,SAAS,6BAA6B,iDAAiD,gLAAgL,mDAAmD,qBAAqB,0BAA0B,qBAAqB,y5BAAy5B,+fAA+f,QAAQ,uCAAuC,2DAA2D,+CAA+C,IAAI,gBAAgB,WAAW,IAAI,QAAQ,mBAAmB,YAAY,kBAAkB,mCAAmC,EAAE,kCAAkC,0VAA0V,gBAAgB,aAAa,UAAU,EAAE,IAAI,4BAA4B,SAAS,IAAI,eAAe,SAAS,aAAa,kBAAkB,IAAI,aAAa,uCAAuC,EAAE,SAAS,aAAa,sBAAsB,EAAE,uDAAuD,MAAM,UAAU,SAAS,qBAAqB,WAAW,gBAAgB,QAAQ,8BAA8B,KAAK,yBAAyB,UAAU,sHAAsH,4BAA4B,eAAe,gCAAgC,UAAU,2BAA2B,wCAAwC,IAAI,oCAAoC,WAAW,gCAAgC,qIAAqI,gBAAgB,uFAAuF,gBAAgB,kSAAkS,gBAAgB,kHAAkH,oBAAoB,4BAA4B,iBAAiB,GAAG,gBAAgB,MAAM,6DAA6D,mDAAmD,qBAAqB,+BAA+B,yBAAyB,wKAAwK,6DAA6D,kBAAkB,kBAAkB,oEAAoE,oEAAoE,eAAe,gDAAgD,6BAA6B,KAAK,qCAAqC,gBAAgB,kNAAkN,sBAAsB,sEAAsE,oBAAoB,0DAA0D,wBAAwB,qBAAqB,uBAAuB,sbAAsb,eAAe,0BAA0B,kHAAkH,mBAAmB,SAAS,gBAAgB,wBAAwB,gBAAgB,YAAY,sCAAsC,mBAAmB,MAAM,OAAO,2DAA2D,eAAe,IAAI,EAAE,uCAAuC,wNAAwN,KAAK,kCAAkC,qBAAqB,cAAc,gHAAgH,qCAAqC,qCAAqC,MAAM,+CAA+C,IAAI,2DAA2D,aAAa,sCAAsC,kBAAkB,cAAc,yCAAyC,eAAe,yFAAyF,qCAAqC,8BAA8B,0EAA0E,0DAA0D,uEAAuE,+EAA+E,mBAAmB,oEAAoE,+CAA+C,4CAA4C,SAAS,0DAA0D,eAAe,qBAAqB,qFAAqF,8JAA8J,KAAK,uEAAuE,sCAAsC,wBAAwB,qBAAqB,eAAe,iFAAiF,sBAAsB,OAAO,qCAAqC,aAAa,6BAA6B,SAAS,4CAA4C,iCAAiC,wPAAwP,yBAAyB,YAAY,0BAA0B,cAAc,oCAAoC,SAAS,EAAE,oBAAoB,iBAAiB,yBAAyB,mDAAmD,0BAA0B,yBAAyB,2BAA2B,kBAAkB,6BAA6B,MAAM,GAAG,GAAG,GAAG,iBAAiB,oCAAoC,YAAY,iBAAiB,2DAA2D,cAAc,8BAA8B,iBAAiB,MAAM,EAAE,WAAW,qBAAqB,2GAA2G,iBAAiB,0DAA0D,cAAc,8BAA8B,iBAAiB,MAAM,EAAE,WAAW,qBAAqB,2GAA2G,iBAAiB,+BAA+B,YAAY,iBAAiB,2DAA2D,cAAc,8BAA8B,iBAAiB,MAAM,EAAE,WAAW,qBAAqB,2GAA2G,iBAAiB,mCAAmC,YAAY,iBAAiB,+BAA+B,YAAY,iBAAiB,oCAAoC,cAAc,8BAA8B,wBAAwB,MAAM,gBAAgB,iEAAiE,iBAAiB,qEAAqE,cAAc,6BAA6B,iBAAiB,2GAA2G,iBAAiB,sBAAsB,YAAY,iBAAiB,0BAA0B,YAAY,iBAAiB,mCAAmC,YAAY,UAAU,0BAA0B,iBAAiB,wBAAwB,6BAA6B,kCAAkC,uCAAuC,qBAAqB,WAAW,wBAAwB,2CAA2C,MAAM,EAAE,WAAW,qBAAqB,UAAU,iBAAiB,eAAe,wBAAwB,0CAA0C,WAAW,0BAA0B,kCAAkC,MAAM,uBAAuB,UAAU,iBAAiB,wGAAwG,wBAAwB,0GAA0G,wJAAwJ,UAAU,WAAW,wBAAwB,6CAA6C,MAAM,kBAAkB,UAAU,WAAW,wBAAwB,mCAAmC,MAAM,aAAa,UAAU,WAAW,wBAAwB,kCAAkC,MAAM,yBAAyB,UAAU,iBAAiB,0BAA0B,0BAA0B,2DAA2D,iBAAiB,4DAA4D,0BAA0B,WAAW,qDAAqD,iBAAiB,eAAe,wBAAwB,mBAAmB,IAAI,0BAA0B,UAAU,iBAAiB,eAAe,0BAA0B,yBAAyB,kDAAkD,UAAU,iBAAiB,4CAA4C,cAAc,mBAAmB,kBAAkB,iBAAiB,cAAc,YAAY,6BAA6B,GAAG,YAAY,WAAW,4BAA4B,gCAAgC,YAAY,yBAAyB,UAAU,iBAAiB,iBAAiB,YAAY,iBAAiB,0BAA0B,wBAAwB,gCAAgC,aAAa,gBAAgB,yBAAyB,iBAAiB,0BAA0B,0BAA0B,WAAW,yBAAyB,iBAAiB,8DAA8D,sBAAsB,4FAA4F,WAAW,wBAAwB,gCAAgC,iBAAiB,qCAAqC,0BAA0B,+BAA+B,iBAAiB,0BAA0B,sBAAsB,yCAAyC,gBAAgB,0BAA0B,gCAAgC,0EAA0E,iBAAiB,2LAA2L,gCAAgC,mFAAmF,YAAY,kBAAkB,UAAU,qEAAqE,WAAW,8DAA8D,SAAS,oCAAoC,kCAAkC,0CAA0C,iBAAiB,yBAAyB,4BAA4B,wBAAwB,oBAAoB,gBAAgB,IAAI,EAAE,WAAW,+CAA+C,KAAK,MAAM,EAAE,gCAAgC,YAAY,kCAAkC,KAAK,YAAY,0BAA0B,0CAA0C,UAAU,WAAW,sBAAsB,aAAa,iBAAiB,wMAAwM,4FAA4F,sBAAsB,6CAA6C,iBAAiB,0CAA0C,wkBAAwkB,qCAAqC,iBAAiB,yDAAyD,sBAAsB,uFAAuF,iBAAiB,4DAA4D,sBAAsB,qBAAqB,SAAS,gEAAgE,UAAU,iBAAiB,uEAAuE,sBAAsB,qBAAqB,gBAAgB,8DAA8D,UAAU,gBAAgB,qCAAqC,sBAAsB,WAAW,2DAA2D,yBAAyB,gBAAgB,gFAAgF,wBAAwB,wCAAwC,aAAa,2CAA2C,iBAAiB,iFAAiF,gCAAgC,0BAA0B,sCAAsC,KAAK,sCAAsC,4BAA4B,MAAM,iBAAiB,yKAAyK,kCAAkC,iCAAiC,cAAc,KAAK,8CAA8C,MAAM,qCAAqC,oIAAoI,oDAAoD,WAAW,sBAAsB,mBAAmB,6BAA6B,iBAAiB,eAAe,sBAAsB,mBAAmB,gBAAgB,iBAAiB,mDAAmD,wBAAwB,6BAA6B,IAAI,EAAE,WAAW,gBAAgB,QAAQ,2BAA2B,UAAU,iBAAiB,qCAAqC,wBAAwB,yBAAyB,iBAAiB,uDAAuD,uBAAuB,qDAAqD,EAAE,GAAG,YAAY,WAAW,0BAA0B,oBAAoB,iEAAiE,mBAAmB,MAAM,aAAa,UAAU,WAAW,wBAAwB,wBAAwB,MAAM,WAAW,UAAU,iBAAiB,4FAA4F,wBAAwB,+BAA+B,yBAAyB,8BAA8B,WAAW,gCAAgC,iBAAiB,wBAAwB,sBAAsB,4CAA4C,WAAW,sBAAsB,mBAAmB,cAAc,eAAe,sEAAsE,0BAA0B,sCAAsC,cAAc,gBAAgB,kBAAkB,iBAAiB,iBAAiB,cAAc,OAAO,MAAM,EAAE,sBAAsB,2BAA2B,mBAAmB,IAAI,wBAAwB,uBAAuB,4CAA4C,UAAU,iBAAiB,+CAA+C,wBAAwB,qDAAqD,WAAW,wBAAwB,iBAAiB,iBAAiB,gDAAgD,wBAAwB,kCAAkC,iBAAiB,eAAe,sBAAsB,sCAAsC,iCAAiC,iBAAiB,WAAW,sHAAsH,wBAAwB,sBAAsB,6CAA6C,oBAAoB,iBAAiB,eAAe,wBAAwB,6BAA6B,mDAAmD,WAAW,wBAAwB,oBAAoB,oBAAoB,MAAM,WAAW,UAAU,iBAAiB,0BAA0B,4BAA4B,SAAS,QAAQ,EAAE,wBAAwB,MAAM,EAAE,yCAAyC,yCAAyC,UAAU,iBAAiB,qCAAqC,YAAY,iBAAiB,0BAA0B,sBAAsB,wBAAwB,0DAA0D,0GAA0G,MAAM,EAAE,WAAW,cAAc,SAAS,IAAI,WAAW,sBAAsB,uBAAuB,2CAA2C,IAAI,EAAE,iBAAiB,0BAA0B,WAAW,iBAAiB,qCAAqC,sBAAsB,uBAAuB,gBAAgB,UAAU,aAAa,qBAAqB,oBAAoB,eAAe,iCAAiC,iBAAiB,gFAAgF,gBAAgB,GAAG,YAAY,iBAAiB,4BAA4B,IAAI,iCAAiC,WAAW,MAAM,IAAI,WAAW,GAAG,YAAY,iBAAiB,qCAAqC,gCAAgC,gCAAgC,4BAA4B,0BAA0B,0BAA0B,iCAAiC,0BAA0B,MAAM,EAAE,kBAAkB,2CAA2C,eAAe,cAAc,KAAK,MAAM,MAAM,uBAAuB,mDAAmD,IAAI,KAAK,OAAO,8BAA8B,KAAK,OAAO,kCAAkC,gBAAgB,kHAAkH,kCAAkC,UAAU,2FAA2F,sBAAsB,sFAAsF,iFAAiF,iEAAiE,2DAA2D,2BAA2B,6BAA6B,wCAAwC,eAAe,iBAAiB,gBAAgB,2BAA2B,qBAAqB,uDAAuD,UAAU,iBAAiB,iDAAiD,gCAAgC,4BAA4B,+BAA+B,YAAY,IAAI,EAAE,WAAW,oCAAoC,0BAA0B,0BAA0B,SAAS,sBAAsB,YAAY,MAAM,EAAE,uBAAuB,2CAA2C,wCAAwC,KAAK,MAAM,wBAAwB,UAAU,oCAAoC,qIAAqI,kCAAkC,iBAAiB,0DAA0D,YAAY,iBAAiB,qCAAqC,sBAAsB,iBAAiB,iBAAiB,eAAe,wBAAwB,iBAAiB,yDAAyD,iBAAiB,0BAA0B,sBAAsB,0BAA0B,IAAI,EAAE,kBAAkB,gBAAgB,UAAU,iBAAiB,0BAA0B,wBAAwB,aAAa,sBAAsB,iBAAiB,6CAA6C,YAAY,iBAAiB,2FAA2F,sBAAsB,yBAAyB,IAAI,YAAY,SAAS,UAAU,gBAAgB,oCAAoC,iBAAiB,iHAAiH,mDAAmD,mBAAmB,IAAI,GAAG,YAAY,iBAAiB,0NAA0N,2HAA2H,mEAAmE,eAAe,gBAAgB,gBAAgB,gBAAgB,gBAAgB,gBAAgB,SAAS,cAAc,WAAW,wBAAwB,4BAA4B,gBAAgB,sEAAsE,0BAA0B,sCAAsC,MAAM,EAAE,cAAc,8BAA8B,OAAO,yEAAyE,iBAAiB,eAAe,qBAAqB,0BAA0B,cAAc,WAAW,sBAAsB,2CAA2C,2BAA2B,iBAAiB,iDAAiD,sBAAsB,oBAAoB,MAAM,WAAW,+CAA+C,gCAAgC,iBAAiB,iDAAiD,sBAAsB,oBAAoB,oCAAoC,iBAAiB,eAAe,wBAAwB,oBAAoB,yFAAyF,iBAAiB,qCAAqC,sBAAsB,+CAA+C,UAAU,WAAW,yBAAyB,wBAAwB,eAAe,kGAAkG,iBAAiB,gDAAgD,0BAA0B,kBAAkB,eAAe,0EAA0E,iBAAiB,wFAAwF,wBAAwB,iBAAiB,eAAe,iHAAiH,WAAW,sBAAsB,eAAe,oFAAoF,iBAAiB,2FAA2F,sBAAsB,mBAAmB,WAAW,uBAAuB,sBAAsB,uBAAuB,mDAAmD,iBAAiB,eAAe,sBAAsB,oBAAoB,WAAW,qBAAqB,8BAA8B,gBAAgB,wCAAwC,sBAAsB,6BAA6B,mEAAmE,iBAAiB,eAAe,sBAAsB,6BAA6B,2BAA2B,iBAAiB,eAAe,sBAAsB,8BAA8B,iBAAiB,eAAe,wBAAwB,6BAA6B,uDAAuD,iBAAiB,qCAAqC,qBAAqB,2BAA2B,wCAAwC,iBAAiB,eAAe,sBAAsB,0BAA0B,2BAA2B,iBAAiB,eAAe,sBAAsB,yBAAyB,iBAAiB,eAAe,sBAAsB,yBAAyB,iBAAiB,eAAe,wBAAwB,yBAAyB,iDAAiD,WAAW,sBAAsB,yBAAyB,gCAAgC,aAAa,MAAM,WAAW,wBAAwB,mBAAmB,yDAAyD,iBAAiB,eAAe,sBAAsB,uBAAuB,iCAAiC,aAAa,UAAU,iBAAiB,gCAAgC,YAAY,iBAAiB,mCAAmC,YAAY,WAAW,sBAAsB,SAAS,4CAA4C,UAAU,iBAAiB,WAAW,qGAAqG,IAAI,8EAA8E,WAAW,GAAG,YAAY,WAAW,gCAAgC,sBAAsB,kBAAkB,WAAW,wBAAwB,mBAAmB,iBAAiB,iBAAiB,yBAAyB,0BAA0B,iDAAiD,sDAAsD,MAAM,aAAa,KAAK,qBAAqB,MAAM,WAAW,+BAA+B,iBAAiB,0BAA0B,wBAAwB,oCAAoC,iBAAiB,2GAA2G,YAAY,WAAW,wBAAwB,6EAA6E,WAAW,sBAAsB,8DAA8D,UAAU,sBAAsB,6BAA6B,WAAW,sBAAsB,yBAAyB,8BAA8B,SAAS,MAAM,iBAAiB,6BAA6B,YAAY,WAAW,eAAe,sBAAsB,YAAY,kBAAkB,qBAAqB,YAAY,gCAAgC,SAAS,mCAAmC,iBAAiB,eAAe,qBAAqB,iCAAiC,WAAW,sBAAsB,kCAAkC,2BAA2B,WAAW,sBAAsB,6BAA6B,WAAW,sBAAsB,6BAA6B,gBAAgB,qCAAqC,wBAAwB,oBAAoB,mBAAmB,iBAAiB,iEAAiE,yBAAyB,yCAAyC,WAAW,0BAA0B,yBAAyB,MAAM,sBAAsB,UAAU,iBAAiB,kJAAkJ,SAAS,uEAAuE,iCAAiC,KAAK,GAAG,YAAY,iBAAiB,cAAc,sBAAsB,qCAAqC,WAAW,gCAAgC,WAAW,kCAAkC,sBAAsB,YAAY,IAAI,iBAAiB,UAAU,IAAI,YAAY,WAAW,UAAU,WAAW,WAAW,sBAAsB,mBAAmB,yBAAyB,EAAE,UAAU,WAAW,sBAAsB,kBAAkB,WAAW,WAAW,wBAAwB,0BAA0B,gBAAgB,yBAAyB,YAAY,iBAAiB,+CAA+C,0BAA0B,yBAAyB,eAAe,qBAAqB,wCAAwC,iBAAiB,eAAe,0BAA0B,4BAA4B,uBAAuB,iBAAiB,yBAAyB,wBAAwB,0BAA0B,WAAW,sBAAsB,UAAU,iBAAiB,wGAAwG,iBAAiB,kBAAkB,sDAAsD,YAAY,WAAW,oBAAoB,YAAY,iBAAiB,0BAA0B,sBAAsB,oCAAoC,iBAAiB,0BAA0B,sBAAsB,mBAAmB,iBAAiB,WAAW,mIAAmI,YAAY,iBAAiB,0BAA0B,sBAAsB,kBAAkB,WAAW,iHAAiH,WAAW,sBAAsB,6DAA6D,WAAW,sBAAsB,eAAe,8CAA8C,WAAW,sBAAsB,oCAAoC,iBAAiB,8HAA8H,sBAAsB,2CAA2C,WAAW,qBAAqB,6CAA6C,0DAA0D,gBAAgB,0BAA0B,sBAAsB,yDAAyD,iBAAiB,oEAAoE,YAAY,iBAAiB,qCAAqC,sBAAsB,uBAAuB,iBAAiB,qCAAqC,sBAAsB,0BAA0B,UAAU,sBAAsB,yBAAyB,wBAAwB,uBAAuB,MAAM,sBAAsB,43BAA43B,yDAAyD,8BAA8B,6SAA6S,kDAAkD,+CAA+C,sGAAsG,iCAAiC,MAAM,aAAa,OAAO,0vBAA0vB,EAAE,2yBAA2yB,EAAE,sYAAsY,sJAAsJ,UAAU,4JAA4J,QAAQ,sEAAsE,uRAAuR,IAAI,oFAAoF,WAAW,sHAAsH,mBAAmB,iBAAiB,wBAAwB,6BAA6B,kCAAkC,uCAAuC,oBAAoB,qBAAqB,kCAAkC,MAAM,EAAE,WAAW,cAAc,SAAS,iBAAiB,kCAAkC,wBAAwB,EAAE,SAAS,iBAAiB,6BAA6B,sBAAsB,EAAE,SAAS,iBAAiB,kCAAkC,MAAM,0BAA0B,SAAS,iBAAiB,2CAA2C,MAAM,EAAE,WAAW,qBAAqB,SAAS,iBAAiB,0CAA0C,mBAAmB,kCAAkC,MAAM,uBAAuB,SAAS,iBAAiB,6CAA6C,MAAM,kBAAkB,SAAS,iBAAiB,mCAAmC,MAAM,aAAa,SAAS,qBAAqB,8BAA8B,qBAAqB,MAAM,iBAAiB,SAAS,qBAAqB,yBAAyB,qBAAqB,IAAI,iBAAiB,SAAS,iBAAiB,kCAAkC,MAAM,yBAAyB,SAAS,oBAAoB,mBAAmB,MAAM,4BAA4B,0BAA0B,KAAK,qBAAqB,gCAAgC,YAAY,yBAAyB,SAAS,mBAAmB,4BAA4B,yBAAyB,MAAM,sBAAsB,SAAS,mBAAmB,qBAAqB,yBAAyB,MAAM,uBAAuB,SAAS,eAAe,YAAY,iBAAiB,yBAAyB,qBAAqB,eAAe,mBAAmB,uBAAuB,eAAe,mBAAmB,uBAAuB,uBAAuB,4BAA4B,wBAAwB,KAAK,iBAAiB,0BAA0B,MAAM,EAAE,cAAc,uBAAuB,SAAS,iBAAiB,wBAAwB,MAAM,WAAW,SAAS,eAAe,6CAA6C,eAAe,mBAAmB,aAAa,iBAAiB,yBAAyB,YAAY,GAAG,iBAAiB,gBAAgB,iBAAiB,wBAAwB,uBAAuB,EAAE,SAAS,iBAAiB,mBAAmB,qBAAqB,EAAE,SAAS,iBAAiB,uBAAuB,IAAI,eAAe,SAAS,WAAW,8nCAA8nC,SAAS,UAAU,WAAW,WAAW,aAAa,YAAY,EAAE,EAAE,eAAe,iBAAiB,eAAe,kBAAkB,eAAe,yBAAyB,gCAAgC,aAAa,KAAK,iBAAiB,mBAAmB,gBAAgB,iBAAiB,iCAAiC,MAAM,EAAE,WAAW,gCAAgC,SAAS,eAAe,yBAAyB,8BAA8B,SAAS,KAAK,eAAe,yBAAyB,8BAA8B,aAAa,KAAK,eAAe,yBAAyB,yBAAyB,WAAW,KAAK,SAAS,UAAU,eAAe,yBAAyB,uBAAuB,gBAAgB,mBAAmB,IAAI,eAAe,mBAAmB,0BAA0B,EAAE,SAAS,WAAW,MAAM,WAAW,WAAW,aAAa,YAAY,MAAM,mBAAmB,kvBAAkvB,IAAI,8BAA8B,WAAW,MAAM,IAAI,WAAW,gcAAgc,+GAA+G,eAAe,sCAAsC,4BAA4B,yCAAyC,iBAAiB,kBAAkB,cAAc,mBAAmB,mBAAmB,mBAAmB,cAAc,YAAY,wBAAwB,GAAG,eAAe,iBAAiB,6FAA6F,eAAe,wIAAwI,eAAe,8BAA8B,iBAAiB,MAAM,EAAE,WAAW,qBAAqB,eAAe,8BAA8B,iBAAiB,MAAM,EAAE,WAAW,qBAAqB,eAAe,8BAA8B,iBAAiB,MAAM,EAAE,WAAW,qBAAqB,eAAe,8BAA8B,yBAAyB,MAAM,gBAAgB,eAAe,8BAA8B,iBAAiB,iBAAiB,2GAA2G,0JAA0J,SAAS,eAAe,eAAe,wBAAwB,iBAAiB,kCAAkC,eAAe,iBAAiB,mBAAmB,kDAAkD,mBAAmB,WAAW,kDAAkD,iBAAiB,mBAAmB,IAAI,2BAA2B,SAAS,qBAAqB,6BAA6B,cAAc,KAAK,iBAAiB,wBAAwB,mBAAmB,2BAA2B,kDAAkD,SAAS,iBAAiB,yCAAyC,MAAM,qBAAqB,SAAS,mBAAmB,yDAAyD,yBAAyB,wBAAwB,2CAA2C,mBAAmB,YAAY,MAAM,iBAAiB,sCAAsC,yFAAyF,sBAAsB,KAAK,yBAAyB,wBAAwB,sBAAsB,YAAY,iCAAiC,qBAAqB,iBAAiB,wBAAwB,qBAAqB,qBAAqB,YAAY,KAAK,wBAAwB,kBAAkB,sBAAsB,UAAU,oBAAoB,+BAA+B,4BAA4B,8BAA8B,sDAAsD,MAAM,8EAA8E,oBAAoB,8BAA8B,0BAA0B,6CAA6C,iCAAiC,IAAI,oBAAoB,wCAAwC,SAAS,cAAc,eAAe,cAAc,wCAAwC,uBAAuB,mCAAmC,yBAAyB,GAAG,iCAAiC,8BAA8B,sCAAsC,KAAK,mBAAmB,eAAe,oBAAoB,YAAY,IAAI,EAAE,yBAAyB,oCAAoC,SAAS,mBAAmB,wCAAwC,sBAAsB,aAAa,KAAK,qBAAqB,8CAA8C,eAAe,wEAAwE,OAAO,MAAM,EAAE,4BAA4B,2BAA2B,YAAY,IAAI,wBAAwB,UAAU,yBAAyB,SAAS,qBAAqB,uDAAuD,MAAM,yMAAyM,4BAA4B,aAAa,iCAAiC,2CAA2C,0BAA0B,8BAA8B,oBAAoB,OAAO,WAAW,iBAAiB,2BAA2B,8BAA8B,oBAAoB,gCAAgC,gCAAgC,oBAAoB,0DAA0D,+BAA+B,6BAA6B,iCAAiC,8BAA8B,mEAAmE,8BAA8B,8BAA8B,qBAAqB,8BAA8B,8BAA8B,gCAAgC,8BAA8B,sDAAsD,+BAA+B,2BAA2B,2CAA2C,iCAAiC,2BAA2B,0BAA0B,8BAA8B,yBAAyB,8BAA8B,yBAAyB,gCAAgC,0BAA0B,gDAAgD,gDAAgD,mCAAmC,8BAA8B,4BAA4B,+BAA+B,iCAAiC,iCAAiC,kCAAkC,0BAA0B,8BAA8B,4BAA4B,8BAA8B,4BAA4B,gCAAgC,oBAAoB,oBAAoB,iBAAiB,kEAAkE,0BAA0B,yCAAyC,2BAA2B,iBAAiB,SAAS,6BAA6B,oBAAoB,KAAK,mBAAmB,wBAAwB,MAAM,EAAE,kBAAkB,oDAAoD,SAAS,iBAAiB,SAAS,6BAA6B,oBAAoB,KAAK,uBAAuB,oBAAoB,wBAAwB,MAAM,EAAE,WAAW,yDAAyD,SAAS,sBAAsB,iBAAiB,qBAAqB,iBAAiB,qBAAqB,iBAAiB,yBAAyB,gBAAgB,GAAG,iBAAiB,iCAAiC,aAAa,iBAAiB,mBAAmB,mBAAmB,WAAW,0BAA0B,eAAe,sFAAsF,4BAA4B,IAAI,QAAQ,SAAS,UAAU,iBAAiB,qCAAqC,gBAAgB,kBAAkB,IAAI,iBAAiB,WAAW,iBAAiB,6BAA6B,iBAAiB,2BAA2B,mBAAmB,iEAAiE,IAAI,EAAE,WAAW,0FAA0F,OAAO,gBAAgB,OAAO,kBAAkB,EAAE,sBAAsB,yCAAyC,QAAQ,IAAI,EAAE,WAAW,uCAAuC,wBAAwB,SAAS,mBAAmB,+CAA+C,2BAA2B,eAAe,uBAAuB,uBAAuB,iFAAiF,uFAAuF,aAAa,mBAAmB,UAAU,+EAA+E,UAAU,0EAA0E,sBAAsB,oEAAoE,sCAAsC,mDAAmD,6BAA6B,gBAAgB,iBAAiB,yCAAyC,eAAe,iBAAiB,gBAAgB,4BAA4B,qBAAqB,2CAA2C,SAAS,gBAAgB,WAAW,gEAAgE,SAAS,oCAAoC,mCAAmC,gDAAgD,6BAA6B,gCAAgC,YAAY,IAAI,EAAE,WAAW,qCAAqC,0BAA0B,0BAA0B,SAAS,sBAAsB,YAAY,MAAM,EAAE,uBAAuB,2CAA2C,mCAAmC,KAAK,MAAM,wBAAwB,UAAU,oCAAoC,qIAAqI,iCAAiC,eAAe,gBAAgB,qBAAqB,wBAAwB,oBAAoB,YAAY,IAAI,EAAE,WAAW,+CAA+C,KAAK,MAAM,EAAE,gCAAgC,YAAY,6BAA6B,KAAK,aAAa,0BAA0B,sCAAsC,SAAS,eAAe,8DAA8D,MAAM,eAAe,2FAA2F,eAAe,uBAAuB,SAAS,6DAA6D,SAAS,iBAAiB,WAAW,iBAAiB,gCAAgC,6BAA6B,gBAAgB,KAAK,eAAe,YAAY,4DAA4D,yBAAyB,iBAAiB,4CAA4C,cAAc,uCAAuC,uBAAuB,2BAA2B,gDAAgD,mCAAmC,eAAe,KAAK,oCAAoC,MAAM,wCAAwC,gJAAgJ,oDAAoD,iBAAiB,KAAK,kCAAkC,wBAAwB,MAAM,iBAAiB,eAAe,oCAAoC,mBAAmB,6BAA6B,yBAAyB,iCAAiC,GAAG,QAAQ,SAAS,iBAAiB,4BAA4B,wBAAwB,YAAY,GAAG,OAAO,8BAA8B,GAAG,qBAAqB,eAAe,0BAA0B,uBAAuB,6DAA6D,MAAM,EAAE,oBAAoB,yCAAyC,uBAAuB,QAAQ,GAAG,IAAI,iBAAiB,SAAS,IAAI,mBAAmB,6BAA6B,MAAM,EAAE,qBAAqB,wBAAwB,SAAS,qBAAqB,kCAAkC,wCAAwC,MAAM,+BAA+B,kBAAkB,sCAAsC,SAAS,iBAAiB,6BAA6B,IAAI,EAAE,WAAW,gBAAgB,QAAQ,8BAA8B,SAAS,iBAAiB,0BAA0B,iBAAiB,SAAS,yBAAyB,GAAG,gCAAgC,SAAS,SAAS,iBAAiB,2BAA2B,eAAe,iBAAiB,iBAAiB,YAAY,8BAA8B,qBAAqB,mBAAmB,4CAA4C,eAAe,EAAE,mBAAmB,gEAAgE,SAAS,WAAW,iDAAiD,EAAE,iBAAiB,SAAS,wBAAwB,qBAAqB,wBAAwB,wBAAwB,sDAAsD,EAAE,IAAI,eAAe,iBAAiB,mBAAmB,oBAAoB,iEAAiE,eAAe,MAAM,aAAa,SAAS,iBAAiB,MAAM,6BAA6B,oBAAoB,OAAO,mBAAmB,6BAA6B,4CAA4C,KAAK,IAAI,EAAE,qBAAqB,yCAAyC,SAAS,oBAAoB,qBAAqB,6BAA6B,kBAAkB,iDAAiD,IAAI,EAAE,8DAA8D,gBAAgB,4EAA4E,YAAY,wBAAwB,iBAAiB,iCAAiC,MAAM,EAAE,sBAAsB,iBAAiB,QAAQ,kBAAkB,SAAS,eAAe,sCAAsC,eAAe,+BAA+B,4BAA4B,iCAAiC,WAAW,+BAA+B,mBAAmB,uCAAuC,eAAe,gBAAgB,mBAAmB,kBAAkB,mBAAmB,cAAc,OAAO,MAAM,EAAE,sBAAsB,2BAA2B,mBAAmB,IAAI,wBAAwB,uBAAuB,4CAA4C,SAAS,iBAAiB,sDAAsD,qBAAqB,4BAA4B,qBAAqB,4BAA4B,2BAA2B,EAAE,iDAAiD,iBAAiB,QAAQ,0DAA0D,8CAA8C,KAAK,mBAAmB,eAAe,4BAA4B,oBAAoB,MAAM,qBAAqB,MAAM,mCAAmC,uBAAuB,mBAAmB,wCAAwC,MAAM,EAAE,iBAAiB,YAAY,SAAS,eAAe,kBAAkB,eAAe,gCAAgC,iBAAiB,qCAAqC,UAAU,mBAAmB,eAAe,wCAAwC,uBAAuB,2BAA2B,iBAAiB,sBAAsB,+CAA+C,mBAAmB,eAAe,sCAAsC,kCAAkC,iBAAiB,8BAA8B,kDAAkD,iBAAiB,UAAU,wEAAwE,iEAAiE,iEAAiE,SAAS,qBAAqB,6EAA6E,MAAM,WAAW,KAAK,MAAM,0BAA0B,KAAK,IAAI,eAAe,SAAS,qBAAqB,kFAAkF,MAAM,WAAW,YAAY,MAAM,aAAa,KAAK,MAAM,8BAA8B,SAAS,iBAAiB,oBAAoB,gBAAgB,MAAM,WAAW,SAAS,qBAAqB,SAAS,QAAQ,EAAE,wBAAwB,MAAM,EAAE,oCAAoC,sCAAsC,SAAS,iBAAiB,qBAAqB,6BAA6B,yBAAyB,eAAe,yBAAyB,gDAAgD,6FAA6F,MAAM,EAAE,WAAW,cAAc,SAAS,GAAG,iBAAiB,qBAAqB,oBAAoB,wBAAwB,oCAAoC,gCAAgC,EAAE,UAAU,eAAe,uBAAuB,uCAAuC,IAAI,EAAE,iBAAiB,0BAA0B,UAAU,eAAe,mBAAmB,+EAA+E,iBAAiB,eAAe,mBAAmB,0CAA0C,eAAe,kBAAkB,gBAAgB,iBAAiB,oBAAoB,0BAA0B,+BAA+B,oCAAoC,yCAAyC,8CAA8C,mDAAmD,wDAAwD,qCAAqC,kBAAkB,eAAe,uBAAuB,YAAY,WAAW,cAAc,sBAAsB,oBAAoB,eAAe,2BAA2B,eAAe,uBAAuB,uCAAuC,mBAAmB,IAAI,EAAE,WAAW,wCAAwC,+CAA+C,YAAY,MAAM,EAAE,wCAAwC,8GAA8G,kBAAkB,uBAAuB,mDAAmD,qCAAqC,MAAM,qBAAqB,UAAU,GAAG,iCAAiC,iDAAiD,oBAAoB,sCAAsC,IAAI,mBAAmB,2BAA2B,sDAAsD,cAAc,8CAA8C,0BAA0B,sIAAsI,iBAAiB,qBAAqB,yBAAyB,6BAA6B,cAAc,KAAK,YAAY,GAAG,iBAAiB,qBAAqB,MAAM,yBAAyB,uBAAuB,kBAAkB,oFAAoF,UAAU,eAAe,uBAAuB,wCAAwC,WAAW,wBAAwB,iBAAiB,GAAG,GAAG,GAAG,iBAAiB,iCAAiC,0BAA0B,wBAAwB,iDAAiD,eAAe,uBAAuB,mGAAmG,6CAA6C,IAAI,mBAAmB,SAAS,gCAAgC,eAAe,qBAAqB,wEAAwE,iCAAiC,UAAU,oCAAoC,2DAA2D,gDAAgD,eAAe,YAAY,qBAAqB,+CAA+C,6BAA6B,yEAAyE,aAAa,iDAAiD,iBAAiB,IAAI,eAAe,mBAAmB,YAAY,2CAA2C,yBAAyB,eAAe,GAAG,UAAU,6BAA6B,UAAU,4CAA4C,mBAAmB,iFAAiF,YAAY,MAAM,wCAAwC,oBAAoB,+GAA+G,mBAAmB,4BAA4B,WAAW,MAAM,WAAW,6CAA6C,sKAAsK,4IAA4I,YAAY,oBAAoB,8CAA8C,IAAI,mBAAmB,2CAA2C,gHAAgH,8DAA8D,kBAAkB,oBAAoB,kGAAkG,MAAM,WAAW,KAAK,IAAI,uBAAuB,yBAAyB,UAAU,2BAA2B,kBAAkB,oBAAoB,0EAA0E,QAAQ,8BAA8B,qBAAqB,6CAA6C,yBAAyB,+DAA+D,eAAe,iBAAiB,yBAAyB,gCAAgC,4BAA4B,0BAA0B,0BAA0B,6BAA6B,0BAA0B,MAAM,EAAE,kBAAkB,2CAA2C,UAAU,cAAc,KAAK,MAAM,MAAM,wBAAwB,oDAAoD,IAAI,KAAK,OAAO,8BAA8B,KAAK,OAAO,iCAAiC,eAAe,2BAA2B,eAAe,mBAAmB,eAAe,mBAAmB,sBAAsB,iBAAiB,IAAI,eAAe,uDAAuD,IAAI,EAAE,oBAAoB,+BAA+B,SAAS,eAAe,mDAAmD,cAAc,sBAAsB,qEAAqE,iBAAiB,qBAAqB,+IAA+I,eAAe,2BAA2B,IAAI,EAAE,kBAAkB,iBAAiB,SAAS,iBAAiB,oBAAoB,sBAAsB,MAAM,iBAAiB,sBAAsB,iDAAiD,oBAAoB,IAAI,sBAAsB,aAAa,EAAE,qBAAqB,SAAS,UAAU,mBAAmB,uCAAuC,MAAM,EAAE,eAAe,8BAA8B,OAAO,4EAA4E,eAAe,gDAAgD,WAAW,eAAe,sCAAsC,iBAAiB,eAAe,mFAAmF,mBAAmB,mBAAmB,eAAe,4EAA4E,iBAAiB,kBAAkB,eAAe,6GAA6G,eAAe,oBAAoB,uDAAuD,kBAAkB,YAAY,oBAAoB,2IAA2I,gDAAgD,eAAe,iBAAiB,iBAAiB,iBAAiB,iBAAiB,iBAAiB,SAAS,EAAE,gBAAgB,eAAe,uBAAuB,mDAAmD,eAAe,oBAAoB,iBAAiB,mBAAmB,+CAA+C,mBAAmB,6CAA6C,mDAAmD,MAAM,aAAa,KAAK,iBAAiB,MAAM,WAAW,+BAA+B,iBAAiB,qCAAqC,iBAAiB,4CAA4C,IAAI,EAAE,WAAW,oBAAoB,SAAS,iBAAiB,4EAA4E,mCAAmC,0BAA0B,WAAW,mBAAmB,WAAW,0BAA0B,eAAe,eAAe,UAAU,qEAAqE,iCAAiC,iBAAiB,yBAAyB,gBAAgB,4BAA4B,YAAY,aAAa,kBAAkB,2BAA2B,SAAS,eAAe,YAAY,kBAAkB,sBAAsB,YAAY,gCAAgC,SAAS,6BAA6B,iBAAiB,0BAA0B,gBAAgB,MAAM,EAAE,qBAAqB,iBAAiB,oBAAoB,iCAAiC,SAAS,wEAAwE,kCAAkC,KAAK,eAAe,mCAAmC,mBAAmB,eAAe,sCAAsC,WAAW,+BAA+B,eAAe,YAAY,IAAI,kBAAkB,UAAU,IAAI,YAAY,WAAW,SAAS,eAAe,oCAAoC,wCAAwC,2FAA2F,yBAAyB,oCAAoC,wBAAwB,YAAY,yDAAyD,wBAAwB,YAAY,qDAAqD,GAAG,mBAAmB,yBAAyB,eAAe,sBAAsB,0CAA0C,mBAAmB,yBAAyB,eAAe,UAAU,qEAAqE,eAAe,oCAAoC,eAAe,0BAA0B,uBAAuB,eAAe,sCAAsC,sBAAsB,uBAAuB,oEAAoE,sBAAsB,uBAAuB,+EAA+E,GAAG,eAAe,yBAAyB,kBAAkB,cAAc,iBAAiB,0CAA0C,yBAAyB,mCAAmC,8BAA8B,oBAAoB,eAAe,GAAG,eAAe,4BAA4B,uBAAuB,yBAAyB,sBAAsB,YAAY,8CAA8C,sBAAsB,YAAY,wDAAwD,GAAG,eAAe,0BAA0B,QAAQ,2BAA2B,oCAAoC,qBAAqB,mBAAmB,GAAG,iBAAiB,0BAA0B,YAAY,mCAAmC,iBAAiB,GAAG,yBAAyB,wBAAwB,sBAAsB,oBAAoB,sBAAsB,YAAY,yCAAyC,sBAAsB,YAAY,mDAAmD,gCAAgC,8BAA8B,oDAAoD,GAAG,eAAe,YAAY,wBAAwB,iBAAiB,YAAY,uBAAuB,2DAA2D,gBAAgB,2GAA2G,2BAA2B,6CAA6C,iCAAiC,iBAAiB,0BAA0B,8BAA8B,uBAAuB,iBAAiB,+BAA+B,iBAAiB,+BAA+B,2BAA2B,sCAAsC,0BAA0B,uDAAuD,yBAAyB,6BAA6B,KAAK,0BAA0B,UAAU,GAAG,iBAAiB,+BAA+B,2BAA2B,iBAAiB,cAAc,cAAc,wBAAwB,oBAAoB,eAAe,sFAAsF,qBAAqB,sBAAsB,mBAAmB,yDAAyD,iBAAiB,MAAM,wCAAwC,0BAA0B,wDAAwD,2BAA2B,QAAQ,aAAa,mBAAmB,KAAK,qBAAqB,0BAA0B,QAAQ,aAAa,mBAAmB,KAAK,qBAAqB,GAAG,mBAAmB,mCAAmC,wCAAwC,cAAc,YAAY,gCAAgC,cAAc,8BAA8B,cAAc,UAAU,mCAAmC,aAAa,WAAW,oBAAoB,mBAAmB,cAAc,yBAAyB,KAAK,cAAc,+BAA+B,aAAa,kBAAkB,6BAA6B,qBAAqB,iCAAiC,4BAA4B,0IAA0I,2BAA2B,oBAAoB,uBAAuB,GAAG,yBAAyB,iBAAiB,0BAA0B,wBAAwB,GAAG,iBAAiB,uEAAuE,mBAAmB,mDAAmD,4BAA4B,sBAAsB,gCAAgC,mCAAmC,eAAe,wCAAwC,kBAAkB,gBAAgB,iBAAiB,2BAA2B,gCAAgC,qCAAqC,0CAA0C,wBAAwB,YAAY,yBAAyB,8EAA8E,uBAAuB,8BAA8B,MAAM,2BAA2B,oBAAoB,GAAG,wBAAwB,mBAAmB,qBAAqB,wBAAwB,mBAAmB,sBAAsB,wBAAwB,yBAAyB,GAAG,iBAAiB,yBAAyB,mCAAmC,YAAY,oBAAoB,iBAAiB,mBAAmB,wDAAwD,uCAAuC,wBAAwB,eAAe,qCAAqC,eAAe,oBAAoB,uCAAuC,wBAAwB,eAAe,mBAAmB,YAAY,qGAAqG,eAAe,mBAAmB,YAAY,oEAAoE,eAAe,mCAAmC,eAAe,6CAA6C,eAAe,eAAe,6CAA6C,eAAe,mCAAmC,6BAA6B,wBAAwB,eAAe,0CAA0C,eAAe,6BAA6B,YAAY,qBAAqB,8CAA8C,2DAA2D,6BAA6B,uBAAuB,0BAA0B,wBAAwB,eAAe,kDAAkD,eAAe,0CAA0C,6BAA6B,wCAAwC,gCAAgC,YAAY,GAAG,eAAe,eAAe,kCAAkC,gCAAgC,eAAe,mBAAmB,iBAAiB,SAAS,UAAU,YAAY,8BAA8B,eAAe,qFAAqF,eAAe,kBAAkB,sBAAsB,eAAe,yBAAyB,eAAe,+BAA+B,kBAAkB,UAAU,iDAAiD,eAAe,wCAAwC,QAAQ,iBAAiB,0DAA0D,eAAe,mBAAmB,eAAe,wBAAwB,yBAAyB,8BAA8B,+CAA+C,wBAAwB,cAAc,4BAA4B,gBAAgB,4BAA4B,gBAAgB,kCAAkC,QAAQ,iCAAiC,8BAA8B,MAAM,wCAAwC,MAAM,EAAE,kBAAkB,iDAAiD,SAAS,sBAAsB,+BAA+B,GAAG,mBAAmB,wBAAwB,iBAAiB,iBAAiB,2BAA2B,2BAA2B,8DAA8D,iCAAiC,0FAA0F,gBAAgB,eAAe,yBAAyB,eAAe,kCAAkC,6BAA6B,SAAS,wCAAwC,SAAS,IAAI,iBAAiB,+DAA+D,SAAS,IAAI,2BAA2B,UAAU,4BAA4B,YAAY,wBAAwB,SAAS,oBAAoB,SAAS,oBAAoB,qCAAqC,mCAAmC,mBAAmB,IAAI,YAAY,SAAS,wBAAwB,iBAAiB,eAAe,6BAA6B,eAAe,GAAG,MAAM,GAAG,iBAAiB,oBAAoB,4BAA4B,UAAU,GAAG,qCAAqC,iBAAiB,GAAG,wBAAwB,eAAe,8BAA8B,2BAA2B,uCAAuC,GAAG,eAAe,+BAA+B,eAAe,iDAAiD,2BAA2B,oCAAoC,0BAA0B,oCAAoC,+CAA+C,oCAAoC,0BAA0B,0BAA0B,0BAA0B,oCAAoC,wBAAwB,mBAAmB,yCAAyC,kBAAkB,gBAAgB,uBAAuB,gBAAgB,uBAAuB,mBAAmB,yBAAyB,IAAI,iBAAiB,SAAS,0BAA0B,wBAAwB,yBAAyB,2BAA2B,KAAK,GAAG,eAAe,kBAAkB,UAAU,sBAAsB,eAAe,SAAS,eAAe,0CAA0C,yBAAyB,mBAAmB,kBAAkB,wBAAwB,mBAAmB,kBAAkB,GAAG,mBAAmB,sBAAsB,sEAAsE,8CAA8C,yBAAyB,WAAW,qCAAqC,qBAAqB,SAAS,+DAA+D,eAAe,gCAAgC,kBAAkB,+CAA+C,EAAE,KAAK,eAAe,kCAAkC,eAAe,mCAAmC,mBAAmB,gBAAgB,IAAI,sBAAsB,cAAc,SAAS,cAAc,SAAS,4BAA4B,WAAW,wCAAwC,WAAW,yCAAyC,WAAW,yCAAyC,WAAW,KAAK,8BAA8B,wCAAwC,0BAA0B,yCAAyC,gKAAgK,8BAA8B,mBAAmB,mBAAmB,sCAAsC,oCAAoC,yBAAyB,oBAAoB,6BAA6B,IAAI,qBAAqB,SAAS,wBAAwB,2CAA2C,MAAM,EAAE,WAAW,cAAc,SAAS,sBAAsB,uBAAuB,eAAe,oCAAoC,IAAI,qBAAqB,mCAAmC,qBAAqB,gCAAgC,6BAA6B,2CAA2C,qBAAqB,sBAAsB,aAAa,MAAM,EAAE,WAAW,2CAA2C,GAAG,yBAAyB,mBAAmB,YAAY,mBAAmB,kBAAkB,UAAU,sDAAsD,YAAY,yBAAyB,4BAA4B,gCAAgC,qCAAqC,iCAAiC,iCAAiC,qCAAqC,2JAA2J,yBAAyB,+CAA+C,8BAA8B,yBAAyB,qDAAqD,iCAAiC,0CAA0C,4BAA4B,uCAAuC,2BAA2B,yBAAyB,wEAAwE,eAAe,+EAA+E,IAAI,UAAU,SAAS,cAAc,yBAAyB,+BAA+B,0BAA0B,qBAAqB,8BAA8B,qBAAqB,iCAAiC,qCAAqC,0CAA0C,oCAAoC,+BAA+B,kDAAkD,qBAAqB,iBAAiB,qDAAqD,uCAAuC,MAAM,EAAE,WAAW,aAAa,SAAS,0BAA0B,8BAA8B,4BAA4B,8BAA8B,sCAAsC,uCAAuC,kMAAkM,SAAS,uCAAuC,iBAAiB,KAAK,4BAA4B,SAAS,uCAAuC,iBAAiB,KAAK,wBAAwB,mBAAmB,kCAAkC,qBAAqB,sHAAsH,+BAA+B,eAAe,GAAG,oCAAoC,uBAAuB,qBAAqB,eAAe,8BAA8B,wFAAwF,4KAA4K,mBAAmB,0BAA0B,uDAAuD,kDAAkD,gCAAgC,8CAA8C,+EAA+E,mCAAmC,yBAAyB,SAAS,0BAA0B,yBAAyB,cAAc,MAAM,EAAE,WAAW,gCAAgC,iBAAiB,uBAAuB,wCAAwC,6BAA6B,6CAA6C,wDAAwD,wBAAwB,2BAA2B,8BAA8B,wDAAwD,wBAAwB,uBAAuB,0BAA0B,yBAAyB,uGAAuG,wCAAwC,4BAA4B,+BAA+B,oCAAoC,0BAA0B,qKAAqK,yBAAyB,wCAAwC,+CAA+C,uBAAuB,+BAA+B,GAAG,qBAAqB,yBAAyB,sBAAsB,yBAAyB,yDAAyD,8BAA8B,yBAAyB,qDAAqD,iCAAiC,0CAA0C,4BAA4B,oCAAoC,sBAAsB,cAAc,6BAA6B,cAAc,wCAAwC,sFAAsF,+BAA+B,EAAE,8EAA8E,8CAA8C,kDAAkD,8BAA8B,sBAAsB,uBAAuB,yCAAyC,mCAAmC,kBAAkB,KAAK,sBAAsB,eAAe,+DAA+D,4BAA4B,yBAAyB,oCAAoC,2BAA2B,2DAA2D,wBAAwB,wBAAwB,uDAAuD,+BAA+B,iCAAiC,4DAA4D,sCAAsC,8BAA8B,iDAAiD,mBAAmB,0EAA0E,0BAA0B,gCAAgC,0BAA0B,kLAAkL,8FAA8F,sBAAsB,eAAe,0BAA0B,eAAe,gCAAgC,0CAA0C,4BAA4B,0CAA0C,6BAA6B,8BAA8B,yCAAyC,yBAAyB,0CAA0C,gBAAgB,yCAAyC,wCAAwC,gCAAgC,6CAA6C,6BAA6B,mDAAmD,0BAA0B,kBAAkB,wCAAwC,qDAAqD,wBAAwB,iEAAiE,wBAAwB,qEAAqE,kCAAkC,6BAA6B,kCAAkC,yBAAyB,wBAAwB,8BAA8B,wBAAwB,mDAAmD,2BAA2B,qEAAqE,gCAAgC,eAAe,0EAA0E,4BAA4B,yBAAyB,eAAe,sBAAsB,oCAAoC,4BAA4B,uDAAuD,6BAA6B,cAAc,qIAAqI,sCAAsC,sDAAsD,qCAAqC,wBAAwB,oBAAoB,wGAAwG,YAAY,4BAA4B,6BAA6B,wCAAwC,SAAS,0BAA0B,eAAe,gCAAgC,4CAA4C,6BAA6B,uCAAuC,gCAAgC,sFAAsF,4BAA4B,gCAAgC,kDAAkD,sBAAsB,oBAAoB,yBAAyB,yFAAyF,aAAa,sBAAsB,eAAe,uBAAuB,gBAAgB,kHAAkH,yCAAyC,yFAAyF,aAAa,0BAA0B,uBAAuB,0BAA0B,wCAAwC,uBAAuB,+BAA+B,2DAA2D,yBAAyB,eAAe,QAAQ,uEAAuE,cAAc,IAAI,sBAAsB,SAAS,sBAAsB,wEAAwE,iCAAiC,wBAAwB,sCAAsC,qBAAqB,gBAAgB,yBAAyB,qBAAqB,oBAAoB,iCAAiC,wBAAwB,sCAAsC,0DAA0D,SAAS,0BAA0B,SAAS,wBAAwB,SAAS,qCAAqC,iCAAiC,0BAA0B,mCAAmC,6CAA6C,QAAQ,wBAAwB,qBAAqB,cAAc,iCAAiC,2BAA2B,QAAQ,wBAAwB,4BAA4B,6BAA6B,QAAQ,wBAAwB,4BAA4B,6BAA6B,8DAA8D,2BAA2B,kLAAkL,QAAQ,QAAQ,gBAAgB,WAAW,mDAAmD,eAAe,2BAA2B,uCAAuC,2BAA2B,gCAAgC,uCAAuC,2BAA2B,2BAA2B,iDAAiD,uBAAuB,2BAA2B,yCAAyC,2BAA2B,8BAA8B,iBAAiB,MAAM,EAAE,4BAA4B,qCAAqC,SAAS,qDAAqD,uBAAuB,qBAAqB,oBAAoB,qCAAqC,YAAY,sCAAsC,yCAAyC,kBAAkB,wCAAwC,8BAA8B,eAAe,kCAAkC,uBAAuB,gCAAgC,yBAAyB,MAAM,cAAc,4BAA4B,SAAS,kCAAkC,kBAAkB,sCAAsC,0BAA0B,oCAAoC,sBAAsB,mBAAmB,uBAAuB,SAAS,+CAA+C,iFAAiF,mCAAmC,8BAA8B,wBAAwB,mCAAmC,6BAA6B,0BAA0B,mCAAmC,SAAS,eAAe,gTAAgT,mCAAmC,kGAAkG,QAAQ,qFAAqF,SAAS,IAAI,wCAAwC,MAAM,iFAAiF,oBAAoB,UAAU,IAAI,sDAAsD,gCAAgC,2BAA2B,EAAE,oFAAoF,qBAAqB,gCAAgC,MAAM,qBAAqB,EAAE,qBAAqB,sCAAsC,GAAG,4BAA4B,SAAS,wBAAwB,6BAA6B,kBAAkB,aAAa,kBAAkB,MAAM,MAAM,SAAS,sEAAsE,2BAA2B,6CAA6C,iDAAiD,uCAAuC,2BAA2B,yBAAyB,sCAAsC,2BAA2B,oBAAoB,wCAAwC,4BAA4B,mDAAmD,2BAA2B,YAAY,sCAAsC,8BAA8B,iDAAiD,2BAA2B,YAAY,kCAAkC,2BAA2B,iBAAiB,UAAU,oCAAoC,gEAAgE,uBAAuB,UAAU,YAAY,WAAW,iBAAiB,cAAc,gBAAgB,wCAAwC,oBAAoB,6BAA6B,yBAAyB,UAAU,gEAAgE,YAAY,eAAe,wBAAwB,+BAA+B,uBAAuB,uBAAuB,WAAW,yBAAyB,6CAA6C,yBAAyB,WAAW,eAAe,qFAAqF,sBAAsB,mCAAmC,QAAQ,SAAS,wGAAwG,qBAAqB,qCAAqC,4BAA4B,sBAAsB,sDAAsD,8EAA8E,6CAA6C,IAAI,qCAAqC,uCAAuC,kDAAkD,uBAAuB,4BAA4B,mBAAmB,6BAA6B,wBAAwB,sCAAsC,qCAAqC,4BAA4B,2BAA2B,8BAA8B,wCAAwC,4BAA4B,2BAA2B,kDAAkD,mCAAmC,uBAAuB,+BAA+B,6BAA6B,mCAAmC,8BAA8B,0CAA0C,8DAA8D,iBAAiB,GAAG,mCAAmC,8BAA8B,kCAAkC,QAAQ,WAAW,0IAA0I,yCAAyC,6CAA6C,iCAAiC,oBAAoB,gCAAgC,4IAA4I,+BAA+B,2FAA2F,4BAA4B,oBAAoB,kDAAkD,iEAAiE,UAAU,mBAAmB,mBAAmB,2BAA2B,2BAA2B,cAAc,0EAA0E,EAAE,oEAAoE,yFAAyF,2BAA2B,gBAAgB,uBAAuB,mBAAmB,6BAA6B,4BAA4B,6BAA6B,IAAI,kCAAkC,YAAY,MAAM,gBAAgB,sCAAsC,cAAc,GAAG,sBAAsB,sBAAsB,gCAAgC,+BAA+B,6MAA6M,iCAAiC,sBAAsB,mBAAmB,+BAA+B,iCAAiC,SAAS,+BAA+B,6FAA6F,wBAAwB,MAAM,EAAE,oBAAoB,eAAe,gBAAgB,MAAM,qBAAqB,MAAM,uBAAuB,MAAM,6BAA6B,OAAO,eAAe,sHAAsH,oDAAoD,SAAS,OAAO,SAAS,EAAE,uBAAuB,MAAM,EAAE,wCAAwC,YAAY,YAAY,mBAAmB,SAAS,SAAS,SAAS,kDAAkD,gBAAgB,gCAAgC,2CAA2C,8BAA8B,wDAAwD,6CAA6C,OAAO,oDAAoD,gCAAgC,iBAAiB,gBAAgB,EAAE,YAAY,mDAAmD,QAAQ,gBAAgB,yBAAyB,iCAAiC,uBAAuB,oBAAoB,QAAQ,mFAAmF,4BAA4B,2BAA2B,qBAAqB,wEAAwE,6CAA6C,uEAAuE,YAAY,KAAK,GAAG,sBAAsB,UAAU,mCAAmC,YAAY,iBAAiB,eAAe,gBAAgB,kGAAkG,mBAAmB,mDAAmD,4BAA4B,sBAAsB,gCAAgC,iCAAiC,sBAAsB,gBAAgB,2CAA2C,SAAS,GAAG,YAAY,WAAW,uBAAuB,iBAAiB,gDAAgD,sBAAsB,0BAA0B,gBAAgB,0BAA0B,wBAAwB,SAAS,0BAA0B,yBAAyB,aAAa,MAAM,EAAE,WAAW,gCAAgC,iBAAiB,WAAW,qBAAqB,UAAU,WAAW,qBAAqB,UAAU,gBAAgB,eAAe,sBAAsB,4FAA4F,gBAAgB,cAAc,sBAAsB,iBAAiB,uBAAuB,iBAAiB,qGAAqG,sBAAsB,+BAA+B,mBAAmB,SAAS,iDAAiD,cAAc,wCAAwC,OAAO,gBAAgB,0DAA0D,iBAAiB,0BAA0B,sBAAsB,kBAAkB,iBAAiB,eAAe,sBAAsB,wBAAwB,iBAAiB,aAAa,sBAAsB,4BAA4B,eAAe,6BAA6B,QAAQ,iBAAiB,SAAS,iBAAiB,0BAA0B,gCAAgC,UAAU,gKAAgK,SAAS,6EAA6E,4DAA4D,0IAA0I,WAAW,kBAAkB,QAAQ,6EAA6E,0BAA0B,wBAAwB,SAAS,SAAS,mDAAmD,gBAAgB,qEAAqE,8BAA8B,+BAA+B,8EAA8E,0EAA0E,qhBAAqhB,yBAAyB,YAAY,iBAAiB,SAAS,sDAAsD,iBAAiB,QAAQ,iBAAiB,kHAAkH,4EAA4E,yPAAyP,sBAAsB,oBAAoB,4EAA4E,4EAA4E,aAAa,OAAO,cAAc,SAAS,qFAAqF,WAAW,kBAAkB,cAAc,WAAW,+FAA+F,cAAc,sEAAsE,iIAAiI,yLAAyL,mHAAmH,oDAAoD,kBAAkB,kBAAkB,iBAAiB,kCAAkC,wBAAwB,oBAAoB,gBAAgB,gEAAgE,0GAA0G,QAAQ,eAAe,0BAA0B,wBAAwB,SAAS,SAAS,YAAY,kBAAkB,8CAA8C,UAAU,YAAY,uBAAuB,QAAQ,4CAA4C,uEAAuE,gEAAgE,SAAS,kBAAkB,cAAc,KAAK,YAAY,6CAA6C,SAAS,kOAAkO,2CAA2C,kCAAkC,MAAM,iZAAiZ,GAAG,qEAAqE,eAAe,yEAAyE,kCAAkC,MAAM,+5BAA+5B,GAAG,wFAAwF,WAAW,6CAA6C,oCAAoC,0BAA0B,qCAAqC,2bAA2b,GAAG,omBAAomB,YAAY,WAAW,8BAA8B,8CAA8C,YAAY,WAAW,4EAA4E,oBAAoB,oEAAoE,SAAS,UAAU,iBAAiB,kBAAkB,gCAAgC,WAAW,SAAS,qBAAqB,qBAAqB,UAAU,QAAQ,iBAAiB,0BAA0B,6EAA6E,YAAY,8EAA8E,qFAAqF,iGAAiG,qDAAqD,yDAAyD,yIAAyI,2EAA2E,2EAA2E,8CAA8C,uBAAuB,WAAW,sBAAsB,SAAS,uEAAuE,SAAS,mLAAmL,WAAW,oBAAoB,WAAW,sEAAsE,iDAAiD,wBAAwB,0EAA0E,eAAe,qHAAqH,cAAc,mGAAmG,yDAAyD,0DAA0D,QAAQ,GAAG,6CAA6C,iEAAiE,uBAAuB,uBAAuB,uBAAuB,WAAW,gBAAgB,0CAA0C,QAAQ,GAAG,mCAAmC,iEAAiE,uBAAuB,uBAAuB,uBAAuB,WAAW,SAAS,UAAU,iGAAiG,MAAM,oFAAoF,MAAM,8EAA8E,MAAM,mFAAmF,MAAM,kIAAkI,MAAM,qGAAqG,MAAM,wEAAwE,MAAM,4DAA4D,KAAK,6BAA6B,KAAK,OAAO,kEAAkE,gCAAgC,0GAA0G,MAAM,kEAAkE,iDAAiD,YAAY,iBAAiB,iBAAiB,kBAAkB,2CAA2C,yBAAyB,iBAAiB,wEAAwE,sBAAsB,UAAU,0FAA0F,0FAA0F,wCAAwC,yBAAyB,wBAAwB,yBAAyB,wBAAwB,yBAAyB,8DAA8D,iBAAiB,6BAA6B,SAAS,UAAU,kBAAkB,2BAA2B,oEAAoE,WAAW,WAAW,OAAO,MAAM,KAAK,iEAAiE,8GAA8G,4BAA4B,4BAA4B,uFAAuF,iBAAiB,iBAAiB,oBAAoB,gCAAgC,wCAAwC,iBAAiB,iBAAiB,2BAA2B,iBAAiB,iBAAiB,kDAAkD,iBAAiB,4BAA4B,kBAAkB,uBAAuB,gGAAgG,oFAAoF,WAAW,iBAAiB,iBAAiB,gCAAgC,iBAAiB,iBAAiB,8BAA8B,iBAAiB,iBAAiB,+BAA+B,iBAAiB,iBAAiB,sBAAsB,mCAAmC,IAAI,4DAA4D,SAAS,cAAc,iBAAiB,iBAAiB,8BAA8B,iBAAiB,iBAAiB,+BAA+B,iBAAiB,iBAAiB,kCAAkC,iBAAiB,iBAAiB,kCAAkC,iBAAiB,iBAAiB,gCAAgC,iBAAiB,MAAM,aAAa,WAAW,SAAS,+BAA+B,kBAAkB,kCAAkC,kCAAkC,0BAA0B,uDAAuD,IAAI,kBAAkB,SAAS,cAAc,iBAAiB,iBAAiB,kCAAkC,iBAAiB,iBAAiB,kBAAkB,eAAe,iDAAiD,iBAAiB,iBAAiB,4BAA4B,iBAAiB,iBAAiB,2CAA2C,iBAAiB,iBAAiB,oBAAoB,IAAI,aAAa,SAAS,SAAS,kBAAkB,iBAAiB,iBAAiB,2CAA2C,iBAAiB,iBAAiB,kBAAkB,eAAe,yBAAyB,iBAAiB,ucAAuc,WAAW,sgBAAsgB,WAAW,kDAAkD,WAAW,4FAA4F,WAAW,6HAA6H,8CAA8C,IAAI,sBAAsB,oCAAoC,QAAQ,YAAY,WAAW,6BAA6B,8BAA8B,4DAA4D,WAAW,wDAAwD,UAAU,4CAA4C,mCAAmC,SAAS,mDAAmD,KAAK,iBAAiB,MAAM,4BAA4B,sCAAsC,4BAA4B,QAAQ,kBAAkB,YAAY,wDAAwD,ukEAAukE,gBAAgB,gBAAgB,eAAe,kBAAkB,eAAe,krCAAkrC,iBAAiB,+PAA+P,oBAAoB,MAAM,gBAAgB,WAAW,uBAAuB,6DAA6D,gBAAgB,WAAW,iCAAiC,yBAAyB,wCAAwC,OAAO,iCAAiC,oBAAoB,EAAE,eAAe,YAAY,WAAW,MAAM,gBAAgB,iFAAiF,QAAQ,uBAAuB,mEAAmE,oBAAoB,cAAc,gEAAgE,gBAAgB,eAAe,2BAA2B,MAAM,UAAU,oGAAoG,mBAAmB,oBAAoB,2IAA2I,6GAA6G,WAAW,oFAAoF,uBAAuB,UAAU,eAAe,kBAAkB,YAAY,iBAAiB,eAAe,cAAc,kFAAkF,kBAAkB,aAAa,eAAe,wBAAwB,mFAAmF,kDAAkD,YAAY,uBAAuB,eAAe,aAAa,eAAe,gBAAgB,sBAAsB,cAAc,UAAU,uBAAuB,SAAS,EAAE,eAAe,mBAAmB,aAAa,UAAU,uBAAuB,SAAS,EAAE,eAAe,mBAAmB,OAAO,yCAAyC,SAAS,2CAA2C,QAAQ,uHAAuH,OAAO,oCAAoC,wCAAwC,4BAA4B,UAAU,eAAe,WAAW,qFAAqF,sCAAsC,mBAAmB,8CAA8C,6BAA6B,iIAAiI,yBAAyB,iIAAiI,OAAO,4BAA4B,6BAA6B,iBAAiB,OAAO,oBAAoB,QAAQ,oBAAoB,MAAM,qBAAqB,kCAAkC,OAAO,uBAAuB,QAAQ,aAAa,mBAAmB,qBAAqB,KAAK,KAAK,sBAAsB,2BAA2B,KAAK,YAAY,2BAA2B,QAAQ,yCAAyC,iBAAiB,iBAAiB,gCAAgC,iBAAiB,iBAAiB,+DAA+D,iBAAiB,iBAAiB,gCAAgC,iBAAiB,4BAA4B,oBAAoB,yBAAyB,IAAI,aAAa,SAAS,YAAY,sBAAsB,sDAAsD,MAAM,iBAAiB,4BAA4B,oBAAoB,yBAAyB,IAAI,aAAa,SAAS,YAAY,sBAAsB,qDAAqD,MAAM,iBAAiB,uCAAuC,kBAAkB,aAAa,qBAAqB,sBAAsB,yCAAyC,OAAO,YAAY,eAAe,KAAK,iBAAiB,WAAW,eAAe,gCAAgC,mBAAmB,gFAAgF,kCAAkC,MAAM,uBAAuB,sEAAsE,yBAAyB,4BAA4B,iBAAiB,2BAA2B,MAAM,qEAAqE,sBAAsB,cAAc,oCAAoC,iCAAiC,MAAM,iCAAiC,MAAM,qEAAqE,qBAAqB,YAAY,eAAe,KAAK,iBAAiB,kBAAkB,kBAAkB,0GAA0G,2CAA2C,yDAAyD,0CAA0C,UAAU,iBAAiB,4BAA4B,oBAAoB,WAAW,kBAAkB,kCAAkC,0EAA0E,oBAAoB,WAAW,yJAAyJ,gEAAgE,8BAA8B,iBAAiB,2BAA2B,MAAM,qCAAqC,kBAAkB,kCAAkC,0CAA0C,8DAA8D,kCAAkC,gCAAgC,qBAAqB,gBAAgB,kBAAkB,+HAA+H,wBAAwB,SAAS,4CAA4C,6DAA6D,kBAAkB,oCAAoC,oCAAoC,+CAA+C,SAAS,4IAA4I,0EAA0E,kBAAkB,wQAAwQ,oCAAoC,6DAA6D,sLAAsL,oCAAoC,6DAA6D,uCAAuC,gDAAgD,aAAa,eAAe,+BAA+B,0DAA0D,aAAa,eAAe,+BAA+B,2DAA2D,wBAAwB,gEAAgE,kBAAkB,0BAA0B,SAAS,wBAAwB,sBAAsB,iBAAiB,8BAA8B,cAAc,UAAU,iBAAiB,iBAAiB,0FAA0F,iBAAiB,iBAAiB,kBAAkB,IAAI,6BAA6B,SAAS,cAAc,WAAW,sBAAsB,yCAAyC,oBAAoB,EAAE,yBAAyB,iBAAiB,cAAc,WAAW,uHAAuH,UAAU,GAAG,0DAA0D,IAAI,yBAAyB,SAAS,kBAAkB,uDAAuD,wEAAwE,gBAAgB,iEAAiE,gBAAgB,iEAAiE,oBAAoB,8CAA8C,+GAA+G,mEAAmE,qFAAqF,sBAAsB,mJAAmJ,qCAAqC,kBAAkB,6BAA6B,gBAAgB,uFAAuF,kCAAkC,kBAAkB,6BAA6B,gBAAgB,uFAAuF,6BAA6B,+BAA+B,IAAI,yBAAyB,mBAAmB,gCAAgC,+BAA+B,IAAI,yBAAyB,mBAAmB,4BAA4B,cAAc,sBAAsB,8FAA8F,8BAA8B,cAAc,sBAAsB,8FAA8F,mCAAmC,UAAU,wBAAwB,SAAS,sCAAsC,0CAA0C,UAAU,oCAAoC,SAAS,sCAAsC,6BAA6B,wBAAwB,cAAc,aAAa,kCAAkC,oCAAoC,wBAAwB,cAAc,aAAa,kCAAkC,+BAA+B,UAAU,4BAA4B,SAAS,yCAAyC,SAAS,sCAAsC,UAAU,4BAA4B,SAAS,yCAAyC,SAAS,kCAAkC,kBAAkB,0BAA0B,KAAK,gFAAgF,mCAAmC,YAAY,SAAS,8BAA8B,SAAS,yCAAyC,kBAAkB,0BAA0B,KAAK,gFAAgF,mCAAmC,wBAAwB,SAAS,8BAA8B,SAAS,gCAAgC,iDAAiD,SAAS,0BAA0B,SAAS,uCAAuC,iDAAiD,SAAS,0BAA0B,SAAS,iCAAiC,oEAAoE,YAAY,qBAAqB,0CAA0C,wBAAwB,cAAc,aAAa,KAAK,cAAc,6BAA6B,SAAS,wCAAwC,oEAAoE,YAAY,qBAAqB,0CAA0C,kCAAkC,cAAc,aAAa,KAAK,cAAc,6BAA6B,SAAS,kCAAkC,wDAAwD,wBAAwB,cAAc,aAAa,SAAS,QAAQ,OAAO,yCAAyC,yEAAyE,6CAA6C,mEAAmE,SAAS,gCAAgC,oCAAoC,SAAS,UAAU,aAAa,uBAAuB,qCAAqC,IAAI,YAAY,WAAW,cAAc,sCAAsC,SAAS,qDAAqD,iBAAiB,uBAAuB,mEAAmE,kBAAkB,2CAA2C,8DAA8D,6BAA6B,aAAa,+BAA+B,mBAAmB,4BAA4B,2CAA2C,mFAAmF,sCAAsC,SAAS,eAAe,eAAe,MAAM,sCAAsC,SAAS,oGAAoG,qJAAqJ,uBAAuB,8CAA8C,0CAA0C,cAAc,IAAI,aAAa,SAAS,MAAM,cAAc,IAAI,cAAc,SAAS,MAAM,cAAc,MAAM,iEAAiE,KAAK,cAAc,+BAA+B,IAAI,sCAAsC,SAAS,kCAAkC,4DAA4D,+BAA+B,eAAe,4DAA4D,cAAc,yCAAyC,wIAAwI,6EAA6E,IAAI,mDAAmD,gDAAgD,EAAE,sFAAsF,SAAS,sDAAsD,GAAG,gBAAgB,yCAAyC,yIAAyI,8EAA8E,IAAI,oDAAoD,6DAA6D,EAAE,uFAAuF,SAAS,sDAAsD,GAAG,UAAU,yCAAyC,kIAAkI,uEAAuE,IAAI,8CAA8C,6DAA6D,EAAE,gFAAgF,SAAS,sDAAsD,GAAG,gBAAgB,yCAAyC,yIAAyI,8EAA8E,IAAI,oDAAoD,aAAa,EAAE,uFAAuF,SAAS,sDAAsD,KAAK,eAAe,sCAAsC,SAAS,EAAE,eAAe,MAAM,sCAAsC,SAAS,4EAA4E,wHAAwH,uBAAuB,8CAA8C,0CAA0C,cAAc,IAAI,aAAa,SAAS,MAAM,cAAc,IAAI,cAAc,SAAS,MAAM,cAAc,MAAM,iEAAiE,KAAK,cAAc,+BAA+B,IAAI,sCAAsC,SAAS,0BAA0B,4DAA4D,uBAAuB,iBAAiB,6EAA6E,iBAAiB,yCAAyC,wDAAwD,IAAI,6CAA6C,WAAW,EAAE,mEAAmE,SAAS,kEAAkE,GAAG,qBAAqB,yCAAyC,0DAA0D,IAAI,wDAAwD,8CAA8C,EAAE,qEAAqE,SAAS,kEAAkE,GAAG,YAAY,yCAAyC,oDAAoD,IAAI,sDAAsD,8GAA8G,kCAAkC,+DAA+D,SAAS,kEAAkE,GAAG,iBAAiB,+FAA+F,oCAAoC,mBAAmB,sCAAsC,eAAe,sCAAsC,SAAS,EAAE,eAAe,MAAM,sCAAsC,SAAS,2FAA2F,0DAA0D,uBAAuB,8CAA8C,0CAA0C,cAAc,IAAI,aAAa,SAAS,MAAM,cAAc,IAAI,cAAc,SAAS,MAAM,cAAc,MAAM,iEAAiE,KAAK,cAAc,+BAA+B,IAAI,sCAAsC,SAAS,+BAA+B,uCAAuC,4BAA4B,eAAe,yDAAyD,wBAAwB,yCAAyC,8IAA8I,mFAAmF,IAAI,2DAA2D,EAAE,4FAA4F,SAAS,sDAAsD,KAAK,eAAe,sCAAsC,SAAS,EAAE,eAAe,MAAM,sCAAsC,SAAS,2FAA2F,qOAAqO,uBAAuB,8CAA8C,0CAA0C,cAAc,IAAI,aAAa,SAAS,MAAM,cAAc,IAAI,cAAc,SAAS,MAAM,cAAc,MAAM,iEAAiE,KAAK,cAAc,+BAA+B,IAAI,sCAAsC,SAAS,+BAA+B,uCAAuC,4BAA4B,eAAe,yDAAyD,oBAAoB,yCAAyC,gEAAgE,IAAI,qDAAqD,gGAAgG,EAAE,2EAA2E,SAAS,sDAAsD,GAAG,sBAAsB,yCAAyC,mEAAmE,IAAI,uDAAuD,8BAA8B,EAAE,8EAA8E,SAAS,sDAAsD,GAAG,iBAAiB,yCAAyC,+DAA+D,IAAI,oDAAoD,EAAE,0EAA0E,SAAS,sDAAsD,GAAG,gBAAgB,yCAAyC,uDAAuD,IAAI,iDAAiD,4GAA4G,EAAE,kEAAkE,SAAS,sDAAsD,GAAG,qBAAqB,yCAAyC,sDAAsD,IAAI,sDAAsD,oFAAoF,EAAE,iEAAiE,SAAS,sDAAsD,GAAG,mBAAmB,yCAAyC,sDAAsD,IAAI,oDAAoD,0KAA0K,EAAE,iEAAiE,SAAS,sDAAsD,GAAG,iBAAiB,+FAA+F,oCAAoC,mBAAmB,sCAAsC,eAAe,sCAAsC,SAAS,EAAE,uBAAuB,mEAAmE,kBAAkB,2CAA2C,8DAA8D,6BAA6B,aAAa,+BAA+B,mBAAmB,4BAA4B,2CAA2C,mFAAmF,sCAAsC,SAAS,8IAA8I,eAAe,sCAAsC,SAAS,wBAAwB,sBAAsB,eAAe,kDAAkD,iBAAiB,eAAe,MAAM,sCAAsC,SAAS,6DAA6D,+pBAA+pB,uBAAuB,mEAAmE,kBAAkB,2CAA2C,8DAA8D,6BAA6B,aAAa,+BAA+B,mBAAmB,4BAA4B,2CAA2C,mFAAmF,sCAAsC,SAAS,8BAA8B,eAAe,MAAM,sCAAsC,SAAS,iDAAiD,8UAA8U,eAAe,sCAAsC,SAAS,EAAE,eAAe,sCAAsC,SAAS,EAAE,eAAe,sCAAsC,SAAS,EAAE,cAAc,sCAAsC,SAAS,EAAE,eAAe,sCAAsC,SAAS,EAAE,eAAe,sCAAsC,SAAS,EAAE,eAAe,sCAAsC,SAAS,EAAE,uBAAuB,8CAA8C,0CAA0C,cAAc,IAAI,aAAa,SAAS,MAAM,cAAc,IAAI,cAAc,SAAS,MAAM,cAAc,MAAM,iEAAiE,KAAK,cAAc,+BAA+B,IAAI,sCAAsC,SAAS,uBAAuB,wEAAwE,oBAAoB,uBAAuB,8FAA8F,yBAAyB,0BAA0B,WAAW,YAAY,WAAW,yCAAyC,qBAAqB,+GAA+G,EAAE,GAAG,YAAY,yCAAyC,qBAAqB,gHAAgH,EAAE,GAAG,WAAW,yCAAyC,qBAAqB,+GAA+G,EAAE,GAAG,aAAa,yCAAyC,qBAAqB,iHAAiH,EAAE,GAAG,cAAc,yCAAyC,qBAAqB,kHAAkH,EAAE,GAAG,WAAW,yCAAyC,sFAAsF,iDAAiD,GAAG,qBAAqB,mJAAmJ,oBAAoB,MAAM,2BAA2B,qNAAqN,sDAAsD,+EAA+E,+HAA+H,SAAS,+EAA+E,IAAI,cAAc,GAAG,mDAAmD,0EAA0E,gBAAgB,yCAAyC,4BAA4B,0BAA0B,yCAAyC,WAAW,GAAG,GAAG,oCAAoC,UAAU,yDAAyD,oBAAoB,yBAAyB,qFAAqF,wBAAwB,iDAAiD,mBAAmB,GAAG,IAAI,mCAAmC,MAAM,yIAAyI,kJAAkJ,SAAS,iBAAiB,6LAA6L,wBAAwB,0EAA0E,yCAAyC,eAAe,sCAAsC,SAAS,EAAE,eAAe,MAAM,sCAAsC,SAAS,mEAAmE,iRAAiR,eAAe,MAAM,sCAAsC,SAAS,iDAAiD,yEAAyE,eAAe,MAAM,sCAAsC,SAAS,kFAAkF,8BAA8B,uBAAuB,mEAAmE,kBAAkB,2CAA2C,8DAA8D,6BAA6B,aAAa,+BAA+B,mBAAmB,4BAA4B,2CAA2C,mFAAmF,sCAAsC,SAAS,uLAAuL,eAAe,MAAM,sCAAsC,SAAS,yEAAyE,+HAA+H,eAAe,sCAAsC,SAAS,EAAE,iBAAiB,sCAAsC,SAAS,WAAW,iBAAiB,sCAAsC,SAAS,WAAW,iBAAiB,sCAAsC,SAAS,WAAW,iBAAiB,sCAAsC,SAAS,WAAW,iBAAiB,sCAAsC,SAAS,WAAW,eAAe,sCAAsC,SAAS,EAAE,eAAe,sCAAsC,SAAS,EAAE,eAAe,sCAAsC,SAAS,EAAE,eAAe,sCAAsC,SAAS,EAAE,eAAe,sCAAsC,SAAS,EAAE,eAAe,sCAAsC,SAAS,EAAE,eAAe,sCAAsC,SAAS,EAAE,eAAe,sCAAsC,SAAS,EAAE,uBAAuB,mEAAmE,kBAAkB,2CAA2C,8DAA8D,6BAA6B,aAAa,+BAA+B,mBAAmB,4BAA4B,2CAA2C,mFAAmF,sCAAsC,SAAS,oNAAoN,eAAe,sCAAsC,SAAS,EAAE,eAAe,sCAAsC,SAAS,EAAE,eAAe,sCAAsC,SAAS,EAAE,eAAe,sCAAsC,SAAS,EAAE,eAAe,sCAAsC,SAAS,EAAE,cAAc,sCAAsC,SAAS,EAAE,eAAe,sCAAsC,SAAS,EAAE,eAAe,sCAAsC,SAAS,EAAE,eAAe,sCAAsC,SAAS,EAAE,eAAe,sCAAsC,SAAS,EAAE,aAAa,sCAAsC,SAAS,EAAE,eAAe,sCAAsC,SAAS,EAAE,eAAe,sCAAsC,SAAS,EAAE,eAAe,sCAAsC,SAAS,EAAE,eAAe,sCAAsC,SAAS,EAAE,eAAe,sCAAsC,SAAS,EAAE,eAAe,sCAAsC,SAAS,EAAE,eAAe,sCAAsC,SAAS,EAAE,eAAe,sCAAsC,SAAS,EAAE,eAAe,sCAAsC,SAAS,EAAE,eAAe,sCAAsC,SAAS,EAAE,eAAe,sCAAsC,SAAS,EAAE,eAAe,sCAAsC,SAAS,EAAE,eAAe,sCAAsC,SAAS,EAAE,eAAe,sCAAsC,SAAS,EAAE,eAAe,sCAAsC,SAAS,EAAE,eAAe,sCAAsC,SAAS,EAAE,eAAe,sCAAsC,SAAS,EAAE,eAAe,sCAAsC,SAAS,EAAE,cAAc,sCAAsC,SAAS,EAAE,uBAAuB,mEAAmE,kBAAkB,2CAA2C,8DAA8D,6BAA6B,aAAa,+BAA+B,mBAAmB,4BAA4B,2CAA2C,mFAAmF,sCAAsC,SAAS,kaAAka,eAAe,sCAAsC,SAAS,0BAA0B,mBAAmB,EAAE,iQAAiQ,GAAG,uBAAuB,8CAA8C,0CAA0C,cAAc,IAAI,aAAa,SAAS,MAAM,cAAc,IAAI,cAAc,SAAS,MAAM,cAAc,MAAM,iEAAiE,KAAK,cAAc,+BAA+B,IAAI,sCAAsC,SAAS,8BAA8B,iBAAiB,2BAA2B,eAAe,mBAAmB,gBAAgB,yCAAyC,4EAA4E,GAAG,iBAAiB,yCAAyC,4EAA4E,GAAG,gBAAgB,yCAAyC,8EAA8E,GAAG,eAAe,yCAAyC,4DAA4D,GAAG,UAAU,yCAAyC,wDAAwD,KAAK,eAAe,sCAAsC,SAAS,EAAE,eAAe,sCAAsC,SAAS,0BAA0B,mBAAmB,EAAE,6DAA6D,GAAG,uBAAuB,8CAA8C,0CAA0C,cAAc,IAAI,aAAa,SAAS,MAAM,cAAc,IAAI,cAAc,SAAS,MAAM,cAAc,MAAM,iEAAiE,KAAK,cAAc,+BAA+B,IAAI,sCAAsC,SAAS,sBAAsB,iBAAiB,mBAAmB,eAAe,mBAAmB,iBAAiB,yCAAyC,6EAA6E,GAAG,YAAY,yCAAyC,0DAA0D,KAAK,eAAe,sCAAsC,SAAS,EAAE,eAAe,sCAAsC,SAAS,0BAA0B,mBAAmB,EAAE,wDAAwD,GAAG,uBAAuB,8CAA8C,0CAA0C,cAAc,IAAI,aAAa,SAAS,MAAM,cAAc,IAAI,cAAc,SAAS,MAAM,cAAc,MAAM,iEAAiE,KAAK,cAAc,+BAA+B,IAAI,sCAAsC,SAAS,6BAA6B,iBAAiB,0BAA0B,eAAe,mBAAmB,qBAAqB,yCAAyC,+EAA+E,KAAK,eAAe,sCAAsC,SAAS,EAAE,eAAe,sCAAsC,SAAS,0BAA0B,mBAAmB,EAAE,2CAA2C,GAAG,uBAAuB,8CAA8C,0CAA0C,cAAc,IAAI,aAAa,SAAS,MAAM,cAAc,IAAI,cAAc,SAAS,MAAM,cAAc,MAAM,iEAAiE,KAAK,cAAc,+BAA+B,IAAI,sCAAsC,SAAS,2BAA2B,iBAAiB,wBAAwB,eAAe,mBAAmB,yBAAyB,yCAAyC,uEAAuE,KAAK,eAAe,sCAAsC,SAAS,EAAE,eAAe,sCAAsC,SAAS,0BAA0B,mBAAmB,EAAE,+TAA+T,GAAG,uBAAuB,8CAA8C,0CAA0C,cAAc,IAAI,aAAa,SAAS,MAAM,cAAc,IAAI,cAAc,SAAS,MAAM,cAAc,MAAM,iEAAiE,KAAK,cAAc,+BAA+B,IAAI,sCAAsC,SAAS,2BAA2B,iBAAiB,wBAAwB,eAAe,mBAAmB,oBAAoB,yCAAyC,8FAA8F,GAAG,sBAAsB,yCAAyC,oFAAoF,GAAG,kBAAkB,yCAAyC,+DAA+D,GAAG,gBAAgB,yCAAyC,4EAA4E,GAAG,qBAAqB,yCAAyC,oFAAoF,GAAG,mBAAmB,yCAAyC,iEAAiE,KAAK,eAAe,sCAAsC,SAAS,EAAE,uBAAuB,mEAAmE,kBAAkB,2CAA2C,8DAA8D,6BAA6B,aAAa,+BAA+B,mBAAmB,4BAA4B,2CAA2C,mFAAmF,sCAAsC,SAAS,8IAA8I,uBAAuB,mEAAmE,kBAAkB,2CAA2C,8DAA8D,6BAA6B,aAAa,+BAA+B,mBAAmB,4BAA4B,2CAA2C,mFAAmF,sCAAsC,SAAS,oGAAoG,uBAAuB,mEAAmE,kBAAkB,2CAA2C,8DAA8D,6BAA6B,aAAa,+BAA+B,mBAAmB,4BAA4B,2CAA2C,mFAAmF,sCAAsC,SAAS,gBAAgB,eAAe,UAAU,sCAAsC,SAAS,wHAAwH,mHAAmH,iCAAiC,0NAA0N,yCAAyC,oQAAoQ,uXAAuX,qJAAqJ,eAAe,MAAM,sCAAsC,SAAS,mEAAmE,uJAAuJ,iBAAiB,sCAAsC,SAAS,mCAAmC,4BAA4B,yBAAyB,gDAAgD,gCAAgC,eAAe,0HAA0H,qCAAqC,mCAAmC,4BAA4B,wGAAwG,mDAAmD,eAAe,iBAAiB,sCAAsC,SAAS,2BAA2B,iBAAiB,uCAAuC,iBAAiB,iCAAiC,oBAAoB,iBAAiB,sCAAsC,SAAS,EAAE,kDAAkD,+EAA+E,iBAAiB,sCAAsC,SAAS,2HAA2H,kDAAkD,cAAc,kJAAkJ,+BAA+B,+EAA+E,uDAAuD,oCAAoC,0BAA0B,uEAAuE,iGAAiG,oDAAoD,mCAAmC,iBAAiB,sCAAsC,SAAS,6IAA6I,2BAA2B,cAAc,oEAAoE,kDAAkD,gCAAgC,iCAAiC,YAAY,kCAAkC,YAAY,kCAAkC,YAAY,kCAAkC,YAAY,iEAAiE,UAAU,+MAA+M,GAAG,iBAAiB,sCAAsC,SAAS,uCAAuC,4BAA4B,0CAA0C,8BAA8B,4GAA4G,uLAAuL,iBAAiB,sCAAsC,SAAS,qBAAqB,sCAAsC,gCAAgC,eAAe,mEAAmE,iBAAiB,4BAA4B,eAAe,sBAAsB,gBAAgB,8BAA8B,qBAAqB,mCAAmC,4BAA4B,0CAA0C,WAAW,gPAAgP,+BAA+B,qCAAqC,2BAA2B,4CAA4C,EAAE,mBAAmB,SAAS,kDAAkD,2FAA2F,cAAc,gBAAgB,sCAAsC,SAAS,2BAA2B,kDAAkD,wBAAwB,eAAe,2CAA2C,KAAK,uHAAuH,EAAE,wBAAwB,SAAS,iBAAiB,yDAAyD,cAAc,4BAA4B,kBAAkB,gCAAgC,iBAAiB,oBAAoB,iBAAiB,oBAAoB,iBAAiB,oBAAoB,iBAAiB,oBAAoB,kBAAkB,4EAA4E,WAAW,qCAAqC,kKAAkK,gKAAgK,sDAAsD,mBAAmB,4DAA4D,eAAe,sCAAsC,SAAS,mIAAmI,iBAAiB,sCAAsC,SAAS,8BAA8B,iBAAiB,sBAAsB,+BAA+B,MAAM,uEAAuE,sBAAsB,oIAAoI,sHAAsH,0HAA0H,sJAAsJ,0HAA0H,mIAAmI,2FAA2F,sqBAAsqB,uBAAuB,8CAA8C,0CAA0C,cAAc,IAAI,aAAa,SAAS,MAAM,cAAc,IAAI,cAAc,SAAS,MAAM,cAAc,MAAM,iEAAiE,KAAK,cAAc,+BAA+B,IAAI,sCAAsC,SAAS,iCAAiC,wHAAwH,8BAA8B,eAAe,cAAc,2BAA2B,gBAAgB,cAAc,8BAA8B,6BAA6B,+EAA+E,6BAA6B,0CAA0C,EAAE,iBAAiB,8CAA8C,kHAAkH,oCAAoC,8CAA8C,qBAAqB,yCAAyC,0KAA0K,kHAAkH,EAAE,2BAA2B,GAAG,gCAAgC,oBAAoB,yCAAyC,2BAA2B,GAAG,mBAAmB,yCAAyC,2CAA2C,GAAG,mBAAmB,yCAAyC,2CAA2C,GAAG,sCAAsC,yCAAyC,2RAA2R,uDAAuD,OAAO,sHAAsH,GAAG,sCAAsC,yCAAyC,qGAAqG,gCAAgC,qBAAqB,iBAAiB,yGAAyG,6DAA6D,gCAAgC,qIAAqI,UAAU,kCAAkC,EAAE,gCAAgC,GAAG,oCAAoC,+CAA+C,OAAO,0EAA0E,eAAe,yCAAyC,gHAAgH,+CAA+C,+BAA+B,8BAA8B,iGAAiG,EAAE,KAAK,uBAAuB,8CAA8C,0CAA0C,cAAc,IAAI,aAAa,SAAS,MAAM,cAAc,IAAI,cAAc,SAAS,MAAM,cAAc,MAAM,iEAAiE,KAAK,cAAc,+BAA+B,IAAI,sCAAsC,SAAS,iCAAiC,+HAA+H,wCAAwC,cAAc,8BAA8B,6BAA6B,kHAAkH,0BAA0B,kEAAkE,EAAE,iBAAiB,8CAA8C,kHAAkH,oCAAoC,2CAA2C,qBAAqB,yCAAyC,0LAA0L,kHAAkH,EAAE,2BAA2B,GAAG,oBAAoB,yCAAyC,2BAA2B,GAAG,wBAAwB,yCAAyC,2CAA2C,GAAG,wBAAwB,yCAAyC,2CAA2C,GAAG,+BAA+B,yCAAyC,sKAAsK,uDAAuD,oBAAoB,MAAM,4DAA4D,UAAU,mBAAmB,GAAG,+BAA+B,yCAAyC,qEAAqE,uCAAuC,4DAA4D,kIAAkI,GAAG,+BAA+B,yEAAyE,aAAa,gDAAgD,uBAAuB,IAAI,sCAAsC,yCAAyC,mYAAmY,OAAO,0GAA0G,GAAG,sCAAsC,yCAAyC,qGAAqG,gCAAgC,uNAAuN,sEAAsE,gCAAgC,kOAAkO,UAAU,kCAAkC,EAAE,gCAAgC,GAAG,eAAe,yCAAyC,gHAAgH,+CAA+C,2BAA2B,8BAA8B,4HAA4H,EAAE,GAAG,yCAAyC,qBAAqB,OAAO,0KAA0K,0BAA0B,uBAAuB,8CAA8C,0CAA0C,cAAc,IAAI,aAAa,SAAS,MAAM,cAAc,IAAI,cAAc,SAAS,MAAM,cAAc,MAAM,iEAAiE,KAAK,cAAc,+BAA+B,IAAI,sCAAsC,SAAS,iCAAiC,mFAAmF,wCAAwC,cAAc,8BAA8B,6BAA6B,kHAAkH,6BAA6B,kEAAkE,EAAE,iBAAiB,kFAAkF,yGAAyG,oCAAoC,8CAA8C,oBAAoB,yCAAyC,2BAA2B,GAAG,eAAe,yCAAyC,4NAA4N,+CAA+C,+BAA+B,8BAA8B,4HAA4H,EAAE,GAAG,qBAAqB,yCAAyC,2HAA2H,8EAA8E,EAAE,2BAA2B,GAAG,sBAAsB,yCAAyC,0DAA0D,IAAI,0BAA0B,uBAAuB,8CAA8C,0CAA0C,cAAc,IAAI,aAAa,SAAS,MAAM,cAAc,IAAI,cAAc,SAAS,MAAM,cAAc,MAAM,iEAAiE,KAAK,cAAc,+BAA+B,IAAI,sCAAsC,SAAS,iCAAiC,8FAA8F,8BAA8B,eAAe,cAAc,2BAA2B,2BAA2B,cAAc,8BAA8B,6BAA6B,2EAA2E,6BAA6B,0CAA0C,EAAE,iBAAiB,8CAA8C,kHAAkH,oCAAoC,8CAA8C,qBAAqB,yCAAyC,kDAAkD,8DAA8D,GAAG,oBAAoB,yCAAyC,2BAA2B,GAAG,qBAAqB,yCAAyC,gIAAgI,8EAA8E,EAAE,2BAA2B,GAAG,0BAA0B,sCAAsC,uCAAuC,6EAA6E,0BAA0B,6CAA6C,0BAA0B,4EAA4E,uCAAuC,wEAAwE,+EAA+E,qCAAqC,qBAAqB,OAAO,gEAAgE,+BAA+B,iFAAiF,yCAAyC,yCAAyC,SAAS,mCAAmC,+FAA+F,KAAK,uBAAuB,EAAE,yFAAyF,SAAS,6BAA6B,sFAAsF,+BAA+B,gDAAgD,kDAAkD,QAAQ,qCAAqC,4PAA4P,OAAO,0GAA0G,qCAAqC,qHAAqH,qBAAqB,iGAAiG,qEAAqE,gCAAgC,4GAA4G,UAAU,kCAAkC,EAAE,gCAAgC,eAAe,yCAAyC,iPAAiP,8BAA8B,2FAA2F,EAAE,KAAK,iBAAiB,sCAAsC,SAAS,+BAA+B,uFAAuF,wCAAwC,2BAA2B,2BAA2B,cAAc,SAAS,kBAAkB,oDAAoD,4BAA4B,yIAAyI,wBAAwB,4BAA4B,wBAAwB,uDAAuD,gCAAgC,0EAA0E,4HAA4H,wBAAwB,gCAAgC,0EAA0E,wBAAwB,4CAA4C,wBAAwB,gBAAgB,sCAAsC,SAAS,sDAAsD,6DAA6D,yCAAyC,oEAAoE,oEAAoE,oEAAoE,oEAAoE,8DAA8D,+BAA+B,oDAAoD,eAAe,sCAAsC,SAAS,EAAE,iBAAiB,sCAAsC,SAAS,2BAA2B,2BAA2B,wBAAwB,eAAe,+BAA+B,eAAe,SAAS,qCAAqC,sBAAsB,UAAU,wBAAwB,kFAAkF,kBAAkB,0DAA0D,sBAAsB,8CAA8C,0CAA0C,cAAc,IAAI,aAAa,SAAS,MAAM,cAAc,IAAI,cAAc,SAAS,MAAM,cAAc,MAAM,iEAAiE,KAAK,cAAc,+BAA+B,IAAI,sCAAsC,SAAS,2CAA2C,2BAA2B,iCAAiC,yCAAyC,2CAA2C,MAAM,sKAAsK,SAAS,GAAG,kCAAkC,yCAAyC,wCAAwC,IAAI,gMAAgM,SAAS,sDAAsD,iCAAiC,IAAI,eAAe,sCAAsC,SAAS,EAAE,eAAe,sCAAsC,SAAS,iEAAiE,4BAA4B,mCAAmC,eAAe,sCAAsC,0BAA0B,aAAa,cAAc,MAAM,sCAAsC,SAAS,8CAA8C,mJAAmJ,eAAe,sCAAsC,SAAS,gFAAgF,+CAA+C,eAAe,sCAAsC,SAAS,EAAE,cAAc,sCAAsC,SAAS,kMAAkM,WAAW,yDAAyD,0BAA0B,sDAAsD,2BAA2B,IAAI,kDAAkD,WAAW,yDAAyD,0BAA0B,sDAAsD,2BAA2B,IAAI,8CAA8C,YAAY,mFAAmF,cAAc,kFAAkF,cAAc,gGAAgG,cAAc,+FAA+F,cAAc,uDAAuD,8CAA8C,YAAY,mFAAmF,cAAc,kFAAkF,cAAc,gGAAgG,cAAc,+FAA+F,cAAc,wDAAwD,eAAe,sCAAsC,SAAS,EAAE,iBAAiB,sCAAsC,SAAS,yCAAyC,iBAAiB,4CAA4C,gBAAgB,gGAAgG,OAAO,+EAA+E,eAAe,sCAAsC,SAAS,EAAE,eAAe,sCAAsC,SAAS,EAAE,eAAe,sCAAsC,SAAS,uDAAuD,eAAe,8DAA8D,kEAAkE,eAAe,sCAAsC,SAAS,kHAAkH,yBAAyB,8CAA8C,OAAO,gIAAgI,eAAe,sCAAsC,SAAS,EAAE,eAAe,sCAAsC,SAAS,EAAE,eAAe,sCAAsC,SAAS,EAAE,qBAAqB,8CAA8C,0CAA0C,cAAc,IAAI,aAAa,SAAS,MAAM,cAAc,IAAI,cAAc,SAAS,MAAM,cAAc,MAAM,iEAAiE,KAAK,cAAc,+BAA+B,IAAI,sCAAsC,SAAS,yEAAyE,yCAAyC,mHAAmH,oBAAoB,IAAI,uBAAuB,mEAAmE,kBAAkB,2CAA2C,8DAA8D,6BAA6B,aAAa,+BAA+B,mBAAmB,4BAA4B,2CAA2C,mFAAmF,sCAAsC,SAAS,mgBAAmgB,uBAAuB,mEAAmE,kBAAkB,2CAA2C,8DAA8D,6BAA6B,aAAa,+BAA+B,mBAAmB,4BAA4B,2CAA2C,mFAAmF,sCAAsC,SAAS,gBAAgB,eAAe,MAAM,sCAAsC,SAAS,sEAAsE,quBAAquB,cAAc,MAAM,sCAAsC,SAAS,gEAAgE,yEAAyE,eAAe,MAAM,sCAAsC,SAAS,gEAAgE,uCAAuC,eAAe,sCAAsC,SAAS,EAAE,eAAe,MAAM,sCAAsC,SAAS,iDAAiD,6JAA6J,eAAe,sCAAsC,SAAS,EAAE,eAAe,sCAAsC,SAAS,EAAE,eAAe,MAAM,sCAAsC,SAAS,8HAA8H,q0EAAq0E,iBAAiB,sCAAsC,SAAS,wEAAwE,wEAAwE,aAAa,kKAAkK,yDAAyD,+DAA+D,iCAAiC,wCAAwC,iBAAiB,sCAAsC,SAAS,0BAA0B,uCAAuC,4BAA4B,QAAQ,0OAA0O,EAAE,kRAAkR,EAAE,kNAAkN,EAAE,iNAAiN,EAAE,uMAAuM,EAAE,mOAAmO,EAAE,0NAA0N,GAAG,iBAAiB,sCAAsC,SAAS,iCAAiC,kFAAkF,mCAAmC,0CAA0C,0OAA0O,4EAA4E,EAAE,0JAA0J,qQAAqQ,qCAAqC,kdAAkd,qCAAqC,8gBAA8gB,qCAAqC,uhBAAuhB,qCAAqC,4KAA4K,4EAA4E,EAAE,0JAA0J,oUAAoU,IAAI,iBAAiB,sCAAsC,SAAS,mBAAmB,6DAA6D,qBAAqB,0CAA0C,0gBAA0gB,qCAAqC,weAAwe,qCAAqC,keAAke,qCAAqC,0bAA0b,qCAAqC,8gBAA8gB,qCAAqC,kkBAAkkB,qCAAqC,0hBAA0hB,IAAI,eAAe,sCAAsC,SAAS,kEAAkE,UAAU,iBAAiB,sCAAsC,SAAS,0BAA0B,uCAAuC,4BAA4B,QAAQ,+MAA+M,EAAE,8LAA8L,EAAE,0LAA0L,EAAE,yMAAyM,EAAE,wMAAwM,EAAE,wLAAwL,EAAE,sLAAsL,EAAE,0LAA0L,EAAE,sKAAsK,EAAE,+JAA+J,EAAE,8JAA8J,GAAG,iBAAiB,sCAAsC,SAAS,kBAAkB,kDAAkD,oBAAoB,yCAAyC,oWAAoW,4FAA4F,oCAAoC,0WAA0W,4FAA4F,oCAAoC,sXAAsX,4FAA4F,oCAAoC,2WAA2W,4FAA4F,oCAAoC,4VAA4V,4FAA4F,oCAAoC,0WAA0W,4FAA4F,oCAAoC,2TAA2T,IAAI,iBAAiB,sCAAsC,SAAS,uCAAuC,sCAAsC,0CAA0C,0GAA0G,4EAA4E,qIAAqI,iBAAiB,sCAAsC,SAAS,sCAAsC,2BAA2B,yCAAyC,kIAAkI,cAAc,sCAAsC,SAAS,EAAE,eAAe,MAAM,sCAAsC,SAAS,mEAAmE,+kDAA+kD,uBAAuB,mEAAmE,kBAAkB,2CAA2C,8DAA8D,6BAA6B,aAAa,+BAA+B,mBAAmB,4BAA4B,2CAA2C,mFAAmF,sCAAsC,SAAS,0JAA0J,uBAAuB,mEAAmE,kBAAkB,2CAA2C,8DAA8D,6BAA6B,aAAa,+BAA+B,mBAAmB,4BAA4B,2CAA2C,mFAAmF,sCAAsC,SAAS,gBAAgB,eAAe,sCAAsC,SAAS,EAAE,eAAe,sCAAsC,SAAS,EAAE,eAAe,sCAAsC,SAAS,EAAE,cAAc,sCAAsC,SAAS,EAAE,eAAe,sCAAsC,SAAS,EAAE,eAAe,sCAAsC,SAAS,EAAE,cAAc,sCAAsC,SAAS,EAAE,iBAAiB,sCAAsC,SAAS,2BAA2B,iBAAiB,wBAAwB,eAAe,4BAA4B,sBAAsB,SAAS,iDAAiD,KAAK,+CAA+C,mCAAmC,oDAAoD,WAAW,0FAA0F,OAAO,qBAAqB,UAAU,gEAAgE,QAAQ,aAAa,wBAAwB,qBAAqB,8CAA8C,0CAA0C,cAAc,IAAI,aAAa,SAAS,MAAM,cAAc,IAAI,cAAc,SAAS,MAAM,cAAc,MAAM,iEAAiE,KAAK,cAAc,+BAA+B,IAAI,sCAAsC,SAAS,2CAA2C,iBAAiB,qGAAqG,MAAM,wBAAwB,8CAA8C,IAAI,sBAAsB,gBAAgB,cAAc,yCAAyC,+MAA+M,GAAG,YAAY,yCAAyC,kFAAkF,0LAA0L,KAAK,eAAe,sCAAsC,SAAS,EAAE,qBAAqB,8CAA8C,0CAA0C,cAAc,IAAI,aAAa,SAAS,MAAM,cAAc,IAAI,cAAc,SAAS,MAAM,cAAc,MAAM,iEAAiE,KAAK,cAAc,+BAA+B,IAAI,sCAAsC,SAAS,yDAAyD,iBAAiB,+HAA+H,WAAW,iFAAiF,YAAY,yCAAyC,yFAAyF,GAAG,WAAW,yCAAyC,wDAAwD,mMAAmM,KAAK,cAAc,sCAAsC,SAAS,EAAE,eAAe,sCAAsC,SAAS,4DAA4D,qFAAqF,eAAe,sCAAsC,SAAS,EAAE,eAAe,sCAAsC,SAAS,EAAE,uBAAuB,8CAA8C,0CAA0C,cAAc,IAAI,aAAa,SAAS,MAAM,cAAc,IAAI,cAAc,SAAS,MAAM,cAAc,MAAM,iEAAiE,KAAK,cAAc,+BAA+B,IAAI,sCAAsC,SAAS,2CAA2C,uCAAuC,wCAAwC,mBAAmB,8FAA8F,kBAAkB,kDAAkD,OAAO,yCAAyC,+BAA+B,MAAM,8EAA8E,0BAA0B,6GAA6G,yBAAyB,SAAS,WAAW,iBAAiB,YAAY,iBAAiB,YAAY,EAAE,KAAK,OAAO,wGAAwG,GAAG,QAAQ,0BAA0B,uBAAuB,8CAA8C,0CAA0C,cAAc,IAAI,aAAa,SAAS,MAAM,cAAc,IAAI,cAAc,SAAS,MAAM,cAAc,MAAM,iEAAiE,KAAK,cAAc,+BAA+B,IAAI,sCAAsC,SAAS,yCAAyC,4BAA4B,sCAAsC,qBAAqB,wTAAwT,cAAc,qBAAqB,cAAc,gCAAgC,OAAO,oNAAoN,YAAY,OAAO,+JAA+J,iBAAiB,yCAAyC,oDAAoD,+BAA+B,wCAAwC,oCAAoC,oEAAoE,GAAG,kBAAkB,qCAAqC,iBAAiB,yCAAyC,0DAA0D,KAAK,eAAe,sCAAsC,SAAS,EAAE,uBAAuB,8CAA8C,0CAA0C,cAAc,IAAI,aAAa,SAAS,MAAM,cAAc,IAAI,cAAc,SAAS,MAAM,cAAc,MAAM,iEAAiE,KAAK,cAAc,+BAA+B,IAAI,sCAAsC,SAAS,oCAAoC,4BAA4B,+CAA+C,yCAAyC,wHAAwH,0BAA0B,+BAA+B,KAAK,gEAAgE,oBAAoB,KAAK,IAAI,cAAc,sCAAsC,SAAS,EAAE,eAAe,sCAAsC,SAAS,EAAE,eAAe,sCAAsC,SAAS,EAAE,eAAe,sCAAsC,SAAS,EAAE,eAAe,sCAAsC,SAAS,EAAE,iBAAiB,sCAAsC,SAAS,yBAAyB,iBAAiB,sBAAsB,iBAAiB,4HAA4H,gBAAgB,8FAA8F,iBAAiB,iFAAiF,OAAO,2CAA2C,uBAAuB,8CAA8C,0CAA0C,cAAc,IAAI,aAAa,SAAS,MAAM,cAAc,IAAI,cAAc,SAAS,MAAM,cAAc,MAAM,iEAAiE,KAAK,cAAc,+BAA+B,IAAI,sCAAsC,SAAS,0BAA0B,4BAA4B,uBAAuB,iBAAiB,uGAAuG,cAAc,6DAA6D,OAAO,4KAA4K,OAAO,yCAAyC,mCAAmC,yEAAyE,GAAG,gBAAgB,yCAAyC,8EAA8E,GAAG,qBAAqB,yCAAyC,oFAAoF,iGAAiG,KAAK,0DAA0D,GAAG,QAAQ,wDAAwD,iBAAiB,sCAAsC,SAAS,yBAAyB,iBAAiB,sBAAsB,iBAAiB,0BAA0B,mBAAmB,8FAA8F,eAAe,kFAAkF,kFAAkF,8FAA8F,qBAAqB,8CAA8C,0CAA0C,cAAc,IAAI,aAAa,SAAS,MAAM,cAAc,IAAI,cAAc,SAAS,MAAM,cAAc,MAAM,iEAAiE,KAAK,cAAc,+BAA+B,IAAI,sCAAsC,SAAS,6CAA6C,eAAe,kBAAkB,mBAAmB,yCAAyC,oDAAoD,KAAK,uBAAuB,mEAAmE,kBAAkB,2CAA2C,8DAA8D,6BAA6B,aAAa,+BAA+B,mBAAmB,4BAA4B,2CAA2C,mFAAmF,sCAAsC,SAAS,sYAAsY,uBAAuB,mEAAmE,kBAAkB,2CAA2C,8DAA8D,6BAA6B,aAAa,+BAA+B,mBAAmB,4BAA4B,2CAA2C,mFAAmF,sCAAsC,SAAS,gBAAgB,eAAe,sCAAsC,SAAS,EAAE,eAAe,sCAAsC,SAAS,EAAE,eAAe,sCAAsC,SAAS,EAAE,eAAe,sCAAsC,SAAS,mFAAmF,+CAA+C,eAAe,sCAAsC,SAAS,EAAE,eAAe,MAAM,sCAAsC,SAAS,yEAAyE,gDAAgD,eAAe,sCAAsC,SAAS,EAAE,eAAe,sCAAsC,SAAS,EAAE,iBAAiB,sCAAsC,SAAS,wDAAwD,4BAA4B,cAAc,8DAA8D,wBAAwB,kEAAkE,yJAAyJ,6DAA6D,aAAa,aAAa,sCAAsC,SAAS,EAAE,eAAe,sCAAsC,SAAS,EAAE,eAAe,sCAAsC,SAAS,EAAE,cAAc,sCAAsC,SAAS,mGAAmG,OAAO,+FAA+F,eAAe,sCAAsC,SAAS,uGAAuG,OAAO,+FAA+F,eAAe,sCAAsC,SAAS,EAAE,gBAAgB,sCAAsC,SAAS,oGAAoG,iBAAiB,cAAc,qCAAqC,KAAK,qBAAqB,EAAE,cAAc,iGAAiG,gFAAgF,0BAA0B,4BAA4B,eAAe,sCAAsC,SAAS,mJAAmJ,OAAO,wTAAwT,uDAAuD,OAAO,2OAA2O,iBAAiB,sCAAsC,SAAS,4KAA4K,4BAA4B,6CAA6C,0CAA0C,yDAAyD,OAAO,qZAAqZ,yDAAyD,OAAO,6QAA6Q,uDAAuD,OAAO,iPAAiP,iBAAiB,sCAAsC,SAAS,+CAA+C,iBAAiB,kDAAkD,SAAS,uOAAuO,gEAAgE,KAAK,kBAAkB,gCAAgC,KAAK,kBAAkB,GAAG,iBAAiB,sCAAsC,SAAS,yCAAyC,iBAAiB,4CAA4C,OAAO,4LAA4L,eAAe,sCAAsC,SAAS,wIAAwI,OAAO,wTAAwT,kDAAkD,OAAO,wOAAwO,iBAAiB,sCAAsC,SAAS,wCAAwC,iBAAiB,2CAA2C,OAAO,yNAAyN,eAAe,sCAAsC,SAAS,EAAE,iBAAiB,sCAAsC,SAAS,yBAAyB,4DAA4D,8BAA8B,eAAe,0GAA0G,mGAAmG,6iBAA6iB,0BAA0B,0BAA0B,cAAc,4BAA4B,iBAAiB,2CAA2C,qBAAqB,wDAAwD,iBAAiB,qCAAqC,iBAAiB,qBAAqB,+CAA+C,2BAA2B,kCAAkC,+CAA+C,+BAA+B,yBAAyB,4BAA4B,0CAA0C,sBAAsB,iDAAiD,wCAAwC,iBAAiB,gDAAgD,0BAA0B,4KAA4K,kBAAkB,iBAAiB,sCAAsC,SAAS,uBAAuB,iBAAiB,8BAA8B,eAAe,yBAAyB,yBAAyB,6BAA6B,gBAAgB,iBAAiB,sCAAsC,SAAS,yBAAyB,iBAAiB,8BAA8B,eAAe,SAAS,cAAc,4BAA4B,yBAAyB,4BAA4B,sBAAsB,oCAAoC,oBAAoB,kCAAkC,cAAc,4BAA4B,gBAAgB,+BAA+B,kBAAkB,iBAAiB,sCAAsC,SAAS,uBAAuB,wEAAwE,oBAAoB,eAAe,gRAAgR,uBAAuB,KAAK,WAAW,yBAAyB,mBAAmB,iCAAiC,iBAAiB,+BAA+B,sBAAsB,oCAAoC,+BAA+B,yCAAyC,iBAAiB,4BAA4B,YAAY,0BAA0B,oBAAoB,kCAAkC,kBAAkB,gCAAgC,mBAAmB,iCAAiC,yBAAyB,4BAA4B,kBAAkB,gEAAgE,kBAAkB,SAAS,qBAAqB,+CAA+C,wBAAwB,wCAAwC,qCAAqC,uFAAuF,uDAAuD,iEAAiE,2IAA2I,4GAA4G,yEAAyE,oDAAoD,0FAA0F,YAAY,uLAAuL,4CAA4C,sBAAsB,6BAA6B,eAAe,sCAAsC,SAAS,EAAE,eAAe,sCAAsC,SAAS,EAAE,cAAc,sCAAsC,SAAS,EAAE,eAAe,sCAAsC,SAAS,EAAE,iBAAiB,sCAAsC,SAAS,sIAAsI,iBAAiB,cAAc,0CAA0C,cAAc,0CAA0C,cAAc,wCAAwC,yEAAyE,YAAY,0DAA0D,kBAAkB,sCAAsC,qCAAqC,iBAAiB,sCAAsC,SAAS,gCAAgC,uEAAuE,8BAA8B,iBAAiB,WAAW,kDAAkD,sBAAsB,YAAY,0EAA0E,4BAA4B,wNAAwN,iFAAiF,GAAG,kBAAkB,kDAAkD,yEAAyE,EAAE,oBAAoB,kCAAkC,wBAAwB,uDAAuD,kBAAkB,kCAAkC,iBAAiB,gCAAgC,eAAe,8BAA8B,eAAe,8BAA8B,cAAc,6CAA6C,gBAAgB,+CAA+C,cAAc,6CAA6C,mBAAmB,2DAA2D,wBAAwB,mCAAmC,wBAAwB,2DAA2D,wBAAwB,oEAAoE,sCAAsC,oBAAoB,8CAA8C,4CAA4C,2CAA2C,sCAAsC,wCAAwC,mCAAmC,4BAA4B,yCAAyC,mEAAmE,yBAAyB,gBAAgB,sCAAsC,SAAS,6BAA6B,iDAAiD,8BAA8B,mBAAmB,+CAA+C,0DAA0D,mCAAmC,gJAAgJ,gCAAgC,YAAY,0CAA0C,sBAAsB,iBAAiB,sCAAsC,SAAS,uBAAuB,2BAA2B,oBAAoB,iBAAiB,iEAAiE,UAAU,kCAAkC,UAAU,0BAA0B,YAAY,uGAAuG,qDAAqD,EAAE,kBAAkB,kDAAkD,6CAA6C,EAAE,uBAAuB,oDAAoD,kBAAkB,oDAAoD,4BAA4B,sDAAsD,eAAe,sCAAsC,SAAS,EAAE,eAAe,MAAM,sCAAsC,SAAS,6DAA6D,uVAAuV,eAAe,MAAM,sCAAsC,SAAS,yEAAyE,oNAAoN,eAAe,sCAAsC,SAAS,oJAAoJ,eAAe,sCAAsC,SAAS,EAAE,eAAe,sCAAsC,SAAS,EAAE,eAAe,MAAM,sCAAsC,SAAS,6DAA6D,4IAA4I,eAAe,MAAM,sCAAsC,SAAS,4EAA4E,oCAAoC,uBAAuB,mEAAmE,kBAAkB,2CAA2C,8DAA8D,6BAA6B,aAAa,+BAA+B,mBAAmB,4BAA4B,2CAA2C,mFAAmF,sCAAsC,SAAS,maAAma,iBAAiB,sCAAsC,SAAS,4BAA4B,kDAAkD,8BAA8B,eAAe,sKAAsK,iBAAiB,mCAAmC,gBAAgB,8CAA8C,6CAA6C,SAAS,UAAU,qCAAqC,mBAAmB,0CAA0C,EAAE,QAAQ,yEAAyE,2CAA2C,uBAAuB,sBAAsB,yEAAyE,2CAA2C,wBAAwB,qBAAqB,iBAAiB,sCAAsC,SAAS,0BAA0B,4BAA4B,8BAA8B,eAAe,gIAAgI,kBAAkB,kBAAkB,UAAU,qCAAqC,mBAAmB,oCAAoC,EAAE,QAAQ,yEAAyE,2CAA2C,uBAAuB,sBAAsB,yEAAyE,2CAA2C,wBAAwB,mBAAmB,iBAAiB,sCAAsC,SAAS,4BAA4B,uCAAuC,8BAA8B,eAAe,8WAA8W,UAAU,qCAAqC,mBAAmB,uMAAuM,EAAE,QAAQ,yEAAyE,2CAA2C,uBAAuB,sBAAsB,yEAAyE,2CAA2C,wBAAwB,qBAAqB,iBAAiB,sCAAsC,SAAS,uBAAuB,4BAA4B,oBAAoB,eAAe,yFAAyF,0JAA0J,wkBAAwkB,uBAAuB,KAAK,UAAU,OAAO,ibAAib,sBAAsB,uBAAuB,+BAA+B,mCAAmC,eAAe,sCAAsC,SAAS,EAAE,eAAe,sCAAsC,SAAS,EAAE,eAAe,sCAAsC,SAAS,EAAE,eAAe,sCAAsC,SAAS,EAAE,iBAAiB,sCAAsC,SAAS,iGAAiG,iBAAiB,iCAAiC,0CAA0C,kCAAkC,0CAA0C,gCAAgC,wCAAwC,wCAAwC,iDAAiD,eAAe,sCAAsC,SAAS,EAAE,eAAe,MAAM,sCAAsC,SAAS,oGAAoG,2fAA2f,+CAA+C,+CAA+C,gDAAgD,wCAAwC,4DAA4D,eAAe,MAAM,sCAAsC,SAAS,gEAAgE,2IAA2I,eAAe,sCAAsC,SAAS,0EAA0E,OAAO,2FAA2F,uBAAuB,mEAAmE,kBAAkB,2CAA2C,8DAA8D,6BAA6B,aAAa,+BAA+B,mBAAmB,4BAA4B,2CAA2C,mFAAmF,sCAAsC,SAAS,wLAAwL,eAAe,sCAAsC,SAAS,EAAE,eAAe,sCAAsC,SAAS,EAAE,eAAe,MAAM,sCAAsC,SAAS,qFAAqF,yIAAyI,eAAe,sCAAsC,SAAS,EAAE,iBAAiB,sCAAsC,SAAS,6GAA6G,4BAA4B,0IAA0I,iFAAiF,YAAY,+GAA+G,cAAc,sCAAsC,SAAS,EAAE,eAAe,sCAAsC,SAAS,EAAE,eAAe,sCAAsC,SAAS,EAAE,eAAe,sCAAsC,SAAS,EAAE,eAAe,sCAAsC,SAAS,EAAE,eAAe,sCAAsC,SAAS,EAAE,eAAe,sCAAsC,SAAS,EAAE,cAAc,sCAAsC,SAAS,EAAE,iBAAiB,sCAAsC,SAAS,4JAA4J,iBAAiB,cAAc,+CAA+C,yCAAyC,gCAAgC,+EAA+E,oCAAoC,wCAAwC,oCAAoC,wCAAwC,wCAAwC,wBAAwB,uBAAuB,mEAAmE,kBAAkB,2CAA2C,8DAA8D,6BAA6B,aAAa,+BAA+B,mBAAmB,4BAA4B,2CAA2C,mFAAmF,sCAAsC,SAAS,uEAAuE,eAAe,sCAAsC,SAAS,EAAE,eAAe,MAAM,sCAAsC,SAAS,yEAAyE,iFAAiF,eAAe,MAAM,sCAAsC,SAAS,wFAAwF,6CAA6C,eAAe,MAAM,sCAAsC,SAAS,wFAAwF,+BAA+B,eAAe,sCAAsC,SAAS,EAAE,eAAe,sCAAsC,SAAS,EAAE,cAAc,MAAM,sCAAsC,SAAS,0DAA0D,kEAAkE,eAAe,MAAM,sCAAsC,SAAS,iDAAiD,qOAAqO,eAAe,sCAAsC,SAAS,EAAE,eAAe,sCAAsC,SAAS,EAAE,eAAe,sCAAsC,SAAS,EAAE,eAAe,sCAAsC,SAAS,EAAE,iBAAiB,sCAAsC,SAAS,sBAAsB,4BAA4B,mBAAmB,cAAc,kOAAkO,WAAW,iBAAiB,khBAAkhB,QAAQ,6BAA6B,OAAO,MAAM,MAAM,qBAAqB,WAAW,2DAA2D,SAAS,qEAAqE,mDAAmD,qBAAqB,yCAAyC,wDAAwD,kBAAkB,uCAAuC,uBAAuB,gBAAgB,oCAAoC,uBAAuB,WAAW,WAAW,kBAAkB,oBAAoB,aAAa,SAAS,QAAQ,mBAAmB,OAAO,0BAA0B,0BAA0B,WAAW,kBAAkB,oBAAoB,UAAU,SAAS,OAAO,2DAA2D,0KAA0K,8BAA8B,gIAAgI,kJAAkJ,kEAAkE,WAAW,yBAAyB,mJAAmJ,yBAAyB,mDAAmD,0BAA0B,oDAAoD,wBAAwB,yDAAyD,uBAAuB,eAAe,mDAAmD,uBAAuB,gCAAgC,8DAA8D,6CAA6C,iBAAiB,0CAA0C,gBAAgB,YAAY,4CAA4C,sBAAsB,0CAA0C,gBAAgB,YAAY,oCAAoC,eAAe,sCAAsC,SAAS,4CAA4C,mEAAmE,iBAAiB,sCAAsC,SAAS,0BAA0B,4BAA4B,6BAA6B,YAAY,qCAAqC,kDAAkD,iBAAiB,qBAAqB,6CAA6C,oBAAoB,iDAAiD,8BAA8B,+CAA+C,8CAA8C,GAAG,gBAAgB,8CAA8C,mBAAmB,gBAAgB,sCAAsC,SAAS,yBAAyB,kDAAkD,sBAAsB,eAAe,gEAAgE,wDAAwD,4GAA4G,0BAA0B,uBAAuB,uBAAuB,WAAW,4BAA4B,mBAAmB,mCAAmC,yBAAyB,mCAAmC,wBAAwB,MAAM,2EAA2E,YAAY,mNAAmN,qDAAqD,qBAAqB,kBAAkB,oMAAoM,wGAAwG,sBAAsB,oCAAoC,kBAAkB,gCAAgC,2EAA2E,uDAAuD,kBAAkB,mCAAmC,sEAAsE,8DAA8D,aAAa,4BAA4B,kDAAkD,iBAAiB,sCAAsC,SAAS,sCAAsC,iBAAiB,oCAAoC,eAAe,kBAAkB,sBAAsB,gEAAgE,cAAc,+CAA+C,yBAAyB,sCAAsC,yCAAyC,uHAAuH,0BAA0B,cAAc,wBAAwB,6BAA6B,6EAA6E,4CAA4C,+BAA+B,iBAAiB,sCAAsC,SAAS,6BAA6B,iBAAiB,6BAA6B,oBAAoB,2CAA2C,4DAA4D,KAAK,sBAAsB,iBAAiB,sCAAsC,SAAS,2BAA2B,iBAAiB,gCAAgC,kHAAkH,iBAAiB,sCAAsC,SAAS,yBAAyB,mHAAmH,sBAAsB,qBAAqB,+EAA+E,SAAS,wIAAwI,mCAAmC,OAAO,yCAAyC,sBAAsB,6GAA6G,SAAS,0DAA0D,0DAA0D,4CAA4C,KAAK,+CAA+C,mEAAmE,oKAAoK,0MAA0M,+CAA+C,6MAA6M,wEAAwE,kBAAkB,wEAAwE,0EAA0E,oGAAoG,4FAA4F,0FAA0F,+EAA+E,yBAAyB,6LAA6L,4CAA4C,8GAA8G,4BAA4B,0BAA0B,6CAA6C,2EAA2E,4BAA4B,uCAAuC,oOAAoO,8GAA8G,0DAA0D,2GAA2G,EAAE,oBAAoB,+BAA+B,qCAAqC,0GAA0G,0CAA0C,2EAA2E,2BAA2B,qBAAqB,kCAAkC,sGAAsG,4TAA4T,4CAA4C,oJAAoJ,4BAA4B,aAAa,EAAE,8BAA8B,iBAAiB,sCAAsC,SAAS,2BAA2B,iDAAiD,wBAAwB,mBAAmB,6DAA6D,SAAS,SAAS,2DAA2D,mCAAmC,iCAAiC,2BAA2B,SAAS,oBAAoB,qFAAqF,iDAAiD,yCAAyC,sCAAsC,gFAAgF,6BAA6B,6EAA6E,iBAAiB,iBAAiB,sCAAsC,SAAS,yBAAyB,4BAA4B,sBAAsB,iBAAiB,2CAA2C,SAAS,gBAAgB,mCAAmC,yCAAyC,kEAAkE,8BAA8B,kGAAkG,EAAE,oBAAoB,uEAAuE,uEAAuE,OAAO,qBAAqB,iBAAiB,sCAAsC,SAAS,6BAA6B,4BAA4B,0BAA0B,iBAAiB,qDAAqD,SAAS,WAAW,6CAA6C,yCAAyC,qEAAqE,OAAO,uDAAuD,iBAAiB,sCAAsC,SAAS,0BAA0B,8FAA8F,uBAAuB,mBAAmB,+DAA+D,SAAS,SAAS,gEAAgE,2CAA2C,4CAA4C,8DAA8D,2BAA2B,SAAS,yCAAyC,OAAO,wEAAwE,SAAS,kEAAkE,kDAAkD,qEAAqE,oCAAoC,6EAA6E,WAAW,iBAAiB,sCAAsC,SAAS,oCAAoC,kDAAkD,iCAAiC,mBAAmB,+DAA+D,SAAS,SAAS,gEAAgE,2CAA2C,yCAAyC,YAAY,wEAAwE,SAAS,qEAAqE,oCAAoC,WAAW,iBAAiB,sCAAsC,SAAS,+BAA+B,4BAA4B,4BAA4B,iBAAiB,6CAA6C,SAAS,WAAW,2CAA2C,yCAAyC,eAAe,8BAA8B,8BAA8B,8BAA8B,UAAU,OAAO,kDAAkD,iBAAiB,sCAAsC,SAAS,gCAAgC,mFAAmF,6BAA6B,qBAAqB,yFAAyF,yCAAyC,2DAA2D,SAAS,SAAS,+DAA+D,MAAM,2CAA2C,4CAA4C,8DAA8D,2BAA2B,SAAS,uDAAuD,UAAU,SAAS,yCAAyC,+IAA+I,kBAAkB,yCAAyC,yCAAyC,eAAe,qEAAqE,oCAAoC,WAAW,iBAAiB,sCAAsC,SAAS,4BAA4B,kFAAkF,yBAAyB,iBAAiB,qDAAqD,SAAS,WAAW,6CAA6C,yCAAyC,mCAAmC,+BAA+B,MAAM,yEAAyE,KAAK,sEAAsE,iCAAiC,8BAA8B,gCAAgC,UAAU,WAAW,2DAA2D,KAAK,WAAW,iCAAiC,8BAA8B,gCAAgC,WAAW,KAAK,gFAAgF,KAAK,WAAW,oDAAoD,UAAU,KAAK,yEAAyE,KAAK,0BAA0B,iCAAiC,8BAA8B,gCAAgC,WAAW,OAAO,kDAAkD,iBAAiB,sCAAsC,SAAS,oCAAoC,6DAA6D,iCAAiC,iBAAiB,6CAA6C,SAAS,+CAA+C,2CAA2C,wCAAwC,yCAAyC,0FAA0F,8FAA8F,OAAO,sDAAsD,iBAAiB,sCAAsC,SAAS,wEAAwE,gBAAgB,gBAAgB,uBAAuB,mCAAmC,8BAA8B,EAAE,mGAAmG,6BAA6B,kFAAkF,EAAE,+EAA+E,2BAA2B,eAAe,sCAAsC,SAAS,yEAAyE,UAAU,sBAAsB,mEAAmE,kBAAkB,2CAA2C,8DAA8D,6BAA6B,aAAa,+BAA+B,mBAAmB,4BAA4B,2CAA2C,mFAAmF,sCAAsC,SAAS,8IAA8I,cAAc,sCAAsC,SAAS,2DAA2D,QAAQ,sCAAsC,aAAa,mCAAmC,UAAU,eAAe,sCAAsC,SAAS,EAAE,iBAAiB,sCAAsC,SAAS,mFAAmF,gDAAgD,gBAAgB,WAAW,MAAM,8BAA8B,qEAAqE,gBAAgB,oCAAoC,6FAA6F,wBAAwB,wBAAwB,GAAG,qFAAqF,waAAwa,sBAAsB,2CAA2C,SAAS,sDAAsD,eAAe,uCAAuC,qCAAqC,iBAAiB,sCAAsC,SAAS,iCAAiC,uCAAuC,8BAA8B,mBAAmB,oEAAoE,2GAA2G,QAAQ,wBAAwB,qBAAqB,2CAA2C,wGAAwG,sBAAsB,4GAA4G,+BAA+B,0BAA0B,MAAM,kBAAkB,yEAAyE,qFAAqF,wDAAwD,+LAA+L,iBAAiB,wDAAwD,sBAAsB,4BAA4B,kDAAkD,gDAAgD,uDAAuD,cAAc,oHAAoH,QAAQ,2DAA2D,qBAAqB,gBAAgB,sCAAsC,SAAS,wBAAwB,iBAAiB,gCAAgC,mBAAmB,6DAA6D,qBAAqB,oBAAoB,gBAAgB,MAAM,4DAA4D,YAAY,uBAAuB,WAAW,uBAAuB,iBAAiB,iBAAiB,sCAAsC,SAAS,uEAAuE,4BAA4B,MAAM,gBAAgB,mCAAmC,SAAS,gBAAgB,QAAQ,sCAAsC,oKAAoK,2BAA2B,mBAAmB,IAAI,0GAA0G,eAAe,4BAA4B,EAAE,YAAY,EAAE,UAAU,EAAE,UAAU,EAAE,YAAY,GAAG,KAAK,oCAAoC,4EAA4E,iCAAiC,aAAa,iHAAiH,SAAS,0CAA0C,mDAAmD,6BAA6B,0DAA0D,2FAA2F,6CAA6C,qBAAqB,0CAA0C,iCAAiC,eAAe,sCAAsC,SAAS,EAAE,eAAe,sCAAsC,SAAS,EAAE,iBAAiB,sCAAsC,SAAS,yEAAyE,4BAA4B,2FAA2F,8DAA8D,6BAA6B,8BAA8B,OAAO,2CAA2C,mCAAmC,oCAAoC,wCAAwC,sBAAsB,mHAAmH,WAAW,2DAA2D,mDAAmD,kGAAkG,eAAe,sCAAsC,SAAS,EAAE,uBAAuB,mEAAmE,kBAAkB,2CAA2C,8DAA8D,6BAA6B,aAAa,+BAA+B,mBAAmB,4BAA4B,2CAA2C,mFAAmF,sCAAsC,SAAS,iHAAiH,iBAAiB,sCAAsC,SAAS,wCAAwC,uCAAuC,6CAA6C,wFAAwF,iBAAiB,sCAAsC,SAAS,wBAAwB,4BAA4B,qBAAqB,iBAAiB,MAAM,mIAAmI,6DAA6D,WAAW,sGAAsG,mCAAmC,sCAAsC,+BAA+B,kBAAkB,yDAAyD,iBAAiB,eAAe,qDAAqD,kGAAkG,gBAAgB,SAAS,kBAAkB,8HAA8H,YAAY,8EAA8E,cAAc,sCAAsC,SAAS,EAAE,eAAe,sCAAsC,SAAS,sDAAsD,2BAA2B,iBAAiB,sCAAsC,SAAS,4BAA4B,4BAA4B,+BAA+B,eAAe,6HAA6H,kBAAkB,wRAAwR,gBAAgB,gDAAgD,qBAAqB,uBAAuB,mEAAmE,kBAAkB,2CAA2C,8DAA8D,6BAA6B,aAAa,+BAA+B,mBAAmB,4BAA4B,2CAA2C,mFAAmF,sCAAsC,SAAS,uEAAuE,eAAe,sCAAsC,SAAS,yDAAyD,OAAO,0HAA0H,eAAe,sCAAsC,SAAS,EAAE,cAAc,sCAAsC,SAAS,uDAAuD,iBAAiB,kCAAkC,eAAe,0BAA0B,6DAA6D,SAAS,yBAAyB,4DAA4D,SAAS,SAAS,yBAAyB,sEAAsE,SAAS,SAAS,OAAO,qEAAqE,iBAAiB,sCAAsC,SAAS,6KAA6K,4DAA4D,kBAAkB,6DAA6D,6CAA6C,wCAAwC,yFAAyF,2DAA2D,mCAAmC,2CAA2C,gBAAgB,yBAAyB,oCAAoC,cAAc,mEAAmE,6DAA6D,cAAc,gEAAgE,cAAc,aAAa,MAAM,qBAAqB,UAAU,sDAAsD,SAAS,OAAO,oCAAoC,sGAAsG,aAAa,6BAA6B,gDAAgD,aAAa,oCAAoC,4DAA4D,IAAI,4CAA4C,yBAAyB,SAAS,sDAAsD,eAAe,sCAAsC,SAAS,uDAAuD,iBAAiB,gCAAgC,eAAe,2DAA2D,qEAAqE,yBAAyB,gCAAgC,SAAS,OAAO,0EAA0E,eAAe,sCAAsC,SAAS,uVAAuV,eAAe,sCAAsC,SAAS,6CAA6C,eAAe,iBAAiB,eAAe,qCAAqC,yBAAyB,+CAA+C,SAAS,OAAO,gDAAgD,iBAAiB,sCAAsC,SAAS,mCAAmC,4BAA4B,4CAA4C,oBAAoB,0LAA0L,YAAY,4CAA4C,oBAAoB,+EAA+E,gFAAgF,sBAAsB,sBAAsB,wBAAwB,wBAAwB,2CAA2C,mDAAmD,mBAAmB,0CAA0C,iFAAiF,4CAA4C,iBAAiB,sCAAsC,SAAS,qBAAqB,iBAAiB,kBAAkB,mBAAmB,yJAAyJ,yBAAyB,gCAAgC,eAAe,2DAA2D,sEAAsE,SAAS,OAAO,sEAAsE,eAAe,sCAAsC,SAAS,qEAAqE,wDAAwD,qFAAqF,iBAAiB,sCAAsC,SAAS,8BAA8B,4BAA4B,gCAAgC,eAAe,oPAAoP,uEAAuE,kBAAkB,iBAAiB,4BAA4B,yBAAyB,wBAAwB,gEAAgE,6BAA6B,gFAAgF,qCAAqC,oCAAoC,uBAAuB,iBAAiB,sCAAsC,SAAS,mCAAmC,iBAAiB,uCAAuC,mBAAmB,kCAAkC,uBAAuB,sCAAsC,eAAe,8BAA8B,mBAAmB,mCAAmC,4BAA4B,eAAe,QAAQ,sCAAsC,SAAS,sFAAsF,kFAAkF,6EAA6E,uBAAuB,mEAAmE,kBAAkB,2CAA2C,8DAA8D,6BAA6B,aAAa,+BAA+B,mBAAmB,4BAA4B,2CAA2C,mFAAmF,sCAAsC,SAAS,4CAA4C,iBAAiB,sCAAsC,SAAS,0DAA0D,mFAAmF,iKAAiK,gCAAgC,eAAe,sFAAsF,ifAAif,2VAA2V,qCAAqC,mCAAmC,kBAAkB,SAAS,kBAAkB,MAAM,iGAAiG,qBAAqB,yDAAyD,WAAW,0CAA0C,UAAU,mFAAmF,kBAAkB,gEAAgE,cAAc,uDAAuD,mBAAmB,iDAAiD,oBAAoB,gDAAgD,0CAA0C,+GAA+G,0BAA0B,+BAA+B,gBAAgB,gDAAgD,8BAA8B,6CAA6C,+BAA+B,gDAAgD,gBAAgB,gEAAgE,iBAAiB,oCAAoC,4BAA4B,yBAAyB,eAAe,qDAAqD,mBAAmB,MAAM,0DAA0D,4EAA4E,yBAAyB,8CAA8C,gBAAgB,eAAe,sCAAsC,SAAS,EAAE,iBAAiB,sCAAsC,SAAS,4BAA4B,uCAAuC,uCAAuC,cAAc,6BAA6B,uBAAuB,sCAAsC,qBAAqB,oDAAoD,qBAAqB,oCAAoC,oBAAoB,mCAAmC,iBAAiB,gCAAgC,kBAAkB,iCAAiC,mBAAmB,kCAAkC,mBAAmB,kCAAkC,YAAY,2BAA2B,mBAAmB,kCAAkC,qBAAqB,kDAAkD,+DAA+D,wBAAwB,qDAAqD,kEAAkE,0BAA0B,mEAAmE,6BAA6B,sEAAsE,eAAe,gDAAgD,qBAAqB,uBAAuB,mEAAmE,kBAAkB,2CAA2C,8DAA8D,6BAA6B,aAAa,+BAA+B,mBAAmB,4BAA4B,2CAA2C,mFAAmF,sCAAsC,SAAS,4CAA4C,gBAAgB,sCAAsC,SAAS,oBAAoB,iBAAiB,gCAAgC,eAAe,mCAAmC,6EAA6E,4EAA4E,aAAa,uBAAuB,mEAAmE,kBAAkB,2CAA2C,8DAA8D,6BAA6B,aAAa,+BAA+B,mBAAmB,4BAA4B,2CAA2C,mFAAmF,sCAAsC,SAAS,eAAe,iBAAiB,sCAAsC,SAAS,yBAAyB,4BAA4B,gCAAgC,4BAA4B,sEAAsE,oCAAoC,8EAA8E,gBAAgB,gCAAgC,yBAAyB,+CAA+C,iBAAiB,wCAAwC,kBAAkB,iBAAiB,sCAAsC,SAAS,8BAA8B,iBAAiB,uCAAuC,6BAA6B,4CAA4C,qCAAqC,oDAAoD,0BAA0B,yCAAyC,kBAAkB,kCAAkC,uBAAuB,uBAAuB,mEAAmE,kBAAkB,2CAA2C,8DAA8D,6BAA6B,aAAa,+BAA+B,mBAAmB,4BAA4B,2CAA2C,mFAAmF,sCAAsC,SAAS,8BAA8B,iBAAiB,sCAAsC,SAAS,6BAA6B,uCAAuC,gDAAgD,gCAAgC,eAAe,wbAAwb,mCAAmC,wQAAwQ,oBAAoB,uDAAuD,YAAY,kBAAkB,aAAa,eAAe,sCAAsC,SAAS,EAAE,iBAAiB,sCAAsC,SAAS,uBAAuB,uCAAuC,uCAAuC,YAAY,2BAA2B,wBAAwB,uCAAuC,WAAW,SAAS,6FAA6F,sCAAsC,2CAA2C,cAAc,mEAAmE,iCAAiC,WAAW,kDAAkD,SAAS,8FAA8F,uCAAuC,cAAc,4FAA4F,gBAAgB,eAAe,MAAM,sCAAsC,SAAS,8FAA8F,4BAA4B,uBAAuB,mEAAmE,kBAAkB,2CAA2C,8DAA8D,6BAA6B,aAAa,+BAA+B,mBAAmB,4BAA4B,2CAA2C,mFAAmF,sCAAsC,SAAS,0DAA0D,eAAe,sCAAsC,SAAS,EAAE,cAAc,sCAAsC,SAAS,EAAE,iBAAiB,sCAAsC,SAAS,2BAA2B,kDAAkD,gDAAgD,gCAAgC,eAAe,0pBAA0pB,WAAW,eAAe,sCAAsC,SAAS,EAAE,iBAAiB,sCAAsC,SAAS,uBAAuB,uCAAuC,uCAAuC,aAAa,4BAA4B,YAAY,2BAA2B,mBAAmB,kCAAkC,qBAAqB,oCAAoC,oBAAoB,mCAAmC,kBAAkB,iCAAiC,gBAAgB,+BAA+B,wBAAwB,uCAAuC,2BAA2B,0CAA0C,mBAAmB,sIAAsI,WAAW,kDAAkD,SAAS,8FAA8F,uCAAuC,cAAc,4FAA4F,gBAAgB,uBAAuB,mEAAmE,kBAAkB,2CAA2C,8DAA8D,6BAA6B,aAAa,+BAA+B,mBAAmB,4BAA4B,2CAA2C,mFAAmF,sCAAsC,SAAS,4CAA4C,iBAAiB,sCAAsC,SAAS,yEAAyE,6DAA6D,cAAc,sDAAsD,uGAAuG,gCAAgC,eAAe,yOAAyO,IAAI,uFAAuF,SAAS,mBAAmB,cAAc,iBAAiB,sCAAsC,SAAS,2BAA2B,6FAA6F,cAAc,iEAAiE,+SAA+S,cAAc,iEAAiE,+SAA+S,cAAc,oGAAoG,4OAA4O,cAAc,mGAAmG,8OAA8O,cAAc,oGAAoG,8OAA8O,cAAc,mGAAmG,4OAA4O,gCAAgC,IAAI,4BAA4B,GAAG,4EAA4E,kEAAkE,oCAAoC,+BAA+B,sCAAsC,EAAE,0EAA0E,+DAA+D,oCAAoC,+BAA+B,sCAAsC,EAAE,0EAA0E,uEAAuE,oCAAoC,+BAA+B,yCAAyC,EAAE,0EAA0E,sEAAsE,oCAAoC,+BAA+B,sCAAsC,EAAE,0EAA0E,uEAAuE,oCAAoC,+BAA+B,yCAAyC,EAAE,0EAA0E,sEAAsE,oCAAoC,+BAA+B,wCAAwC,EAAE,IAAI,oCAAoC,eAAe,sCAAsC,SAAS,EAAE,iBAAiB,sCAAsC,SAAS,sEAAsE,iBAAiB,kBAAkB,0OAA0O,8BAA8B,2BAA2B,sCAAsC,eAAe,MAAM,sCAAsC,SAAS,6DAA6D,wKAAwK,uBAAuB,mEAAmE,kBAAkB,2CAA2C,8DAA8D,6BAA6B,aAAa,+BAA+B,mBAAmB,4BAA4B,2CAA2C,mFAAmF,sCAAsC,SAAS,0DAA0D,iBAAiB,sCAAsC,SAAS,oEAAoE,uCAAuC,uGAAuG,gCAAgC,eAAe,4PAA4P,mBAAmB,MAAM,6EAA6E,qBAAqB,gFAAgF,gBAAgB,kCAAkC,eAAe,0DAA0D,6BAA6B,+BAA+B,8EAA8E,UAAU,eAAe,sCAAsC,SAAS,EAAE,iBAAiB,sCAAsC,SAAS,sBAAsB,kDAAkD,uCAAuC,iBAAiB,mEAAmE,aAAa,4BAA4B,gBAAgB,+BAA+B,kBAAkB,iCAAiC,kBAAkB,mEAAmE,kFAAkF,mBAAmB,kFAAkF,eAAe,0FAA0F,iGAAiG,2CAA2C,cAAc,8GAA8G,WAAW,kDAAkD,SAAS,6FAA6F,uCAAuC,cAAc,2FAA2F,WAAW,8EAA8E,wCAAwC,EAAE,cAAc,4FAA4F,eAAe,eAAe,sCAAsC,SAAS,EAAE,sBAAsB,mEAAmE,kBAAkB,2CAA2C,8DAA8D,6BAA6B,aAAa,+BAA+B,mBAAmB,4BAA4B,2CAA2C,mFAAmF,sCAAsC,SAAS,0DAA0D,iBAAiB,sCAAsC,SAAS,6BAA6B,wEAAwE,kDAAkD,8BAA8B,cAAc,qDAAqD,cAAc,0EAA0E,qCAAqC,mCAAmC,iBAAiB,4DAA4D,YAAY,WAAW,iBAAiB,0DAA0D,sBAAsB,mEAAmE,iBAAiB,4DAA4D,YAAY,iBAAiB,sCAAsC,SAAS,wBAAwB,4BAA4B,uCAAuC,kBAAkB,kDAAkD,uBAAuB,2DAA2D,iBAAiB,gCAAgC,mBAAmB,oDAAoD,iBAAiB,uBAAuB,mEAAmE,kBAAkB,2CAA2C,8DAA8D,6BAA6B,aAAa,+BAA+B,mBAAmB,4BAA4B,2CAA2C,mFAAmF,sCAAsC,SAAS,8BAA8B,eAAe,YAAY,sCAAsC,SAAS,uGAAuG,i+CAAi+C,4KAA4K,4IAA4I,+FAA+F,gBAAgB,sCAAsC,SAAS,uBAAuB,uCAAuC,gCAAgC,kBAAkB,SAAS,qBAAqB,4BAA4B,WAAW,kCAAkC,iGAAiG,iBAAiB,sCAAsC,SAAS,4BAA4B,iBAAiB,uCAAuC,aAAa,0BAA0B,qBAAqB,uBAAuB,mEAAmE,kBAAkB,2CAA2C,8DAA8D,6BAA6B,aAAa,+BAA+B,mBAAmB,4BAA4B,2CAA2C,mFAAmF,sCAAsC,SAAS,2CAA2C,eAAe,sCAAsC,SAAS,EAAE,eAAe,gBAAgB,+BAA+B,sCAAsC,SAAS,6EAA6E,eAAe,iBAAiB,sCAAsC,SAAS,8BAA8B,gBAAgB,mCAAmC,gEAAgE,8JAA8J,gBAAgB,sCAAsC,SAAS,6BAA6B,4BAA4B,sCAAsC,4BAA4B,cAAc,sCAAsC,sFAAsF,uBAAuB,4BAA4B,cAAc,sCAAsC,sFAAsF,oEAAoE,iBAAiB,sCAAsC,SAAS,sHAAsH,oQAAoQ,kCAAkC,sEAAsE,4BAA4B,wDAAwD,yBAAyB,qBAAqB,gCAAgC,0BAA0B,uBAAuB,gDAAgD,uBAAuB,8CAA8C,4BAA4B,gDAAgD,sBAAsB,4CAA4C,wBAAwB,gDAAgD,4BAA4B,0DAA0D,cAAc,0BAA0B,6CAA6C,8CAA8C,MAAM,uEAAuE,oDAAoD,qCAAqC,SAAS,4BAA4B,OAAO,wEAAwE,2CAA2C,6DAA6D,yDAAyD,wDAAwD,iBAAiB,sCAAsC,SAAS,0CAA0C,iBAAiB,+CAA+C,sCAAsC,eAAe,sCAAsC,eAAe,EAAE,uCAAuC,iBAAiB,sCAAsC,SAAS,yBAAyB,kDAAkD,8BAA8B,0EAA0E,0EAA0E,sEAAsE,gDAAgD,eAAe,gBAAgB,+BAA+B,sCAAsC,SAAS,yFAAyF,eAAe,iBAAiB,sCAAsC,SAAS,gCAAgC,iBAAiB,qCAAqC,0FAA0F,oCAAoC,iBAAiB,sCAAsC,SAAS,oGAAoG,iBAAiB,iCAAiC,SAAS,sCAAsC,oEAAoE,wDAAwD,KAAK,kFAAkF,kBAAkB,SAAS,kDAAkD,SAAS,qDAAqD,oEAAoE,wDAAwD,KAAK,kGAAkG,sDAAsD,SAAS,8CAA8C,SAAS,yBAAyB,oEAAoE,KAAK,8FAA8F,kBAAkB,UAAU,iBAAiB,sCAAsC,SAAS,qCAAqC,uEAAuE,0CAA0C,mCAAmC,uJAAuJ,EAAE,UAAU,+EAA+E,mEAAmE,gHAAgH,8FAA8F,IAAI,mCAAmC,8BAA8B,mNAAmN,WAAW,oBAAoB,iBAAiB,sCAAsC,SAAS,iCAAiC,iDAAiD,oCAAoC,MAAM,qEAAqE,WAAW,wJAAwJ,MAAM,gCAAgC,sCAAsC,eAAe,+EAA+E,KAAK,qBAAqB,GAAG,4CAA4C,iBAAiB,uEAAuE,sEAAsE,uBAAuB,UAAU,iBAAiB,sCAAsC,SAAS,0DAA0D,sCAAsC,+DAA+D,4HAA4H,0EAA0E,kBAAkB,8DAA8D,kBAAkB,sCAAsC,KAAK,wCAAwC,EAAE,UAAU,iCAAiC,OAAO,EAAE,8BAA8B,gHAAgH,aAAa,aAAa,EAAE,EAAE,UAAU,UAAU,uBAAuB,mEAAmE,kBAAkB,2CAA2C,8DAA8D,6BAA6B,aAAa,+BAA+B,mBAAmB,4BAA4B,2CAA2C,mFAAmF,sCAAsC,SAAS,8oCAA8oC,uBAAuB,mEAAmE,kBAAkB,2CAA2C,8DAA8D,6BAA6B,aAAa,+BAA+B,mBAAmB,4BAA4B,2CAA2C,mFAAmF,sCAAsC,SAAS,gBAAgB,eAAe,sCAAsC,SAAS,EAAE,eAAe,sCAAsC,SAAS,EAAE,eAAe,sCAAsC,SAAS,EAAE,eAAe,sCAAsC,SAAS,EAAE,eAAe,sCAAsC,SAAS,EAAE,eAAe,sCAAsC,SAAS,EAAE,eAAe,sCAAsC,SAAS,EAAE,eAAe,sCAAsC,SAAS,EAAE,eAAe,sCAAsC,SAAS,EAAE,eAAe,sCAAsC,SAAS,EAAE,eAAe,sCAAsC,SAAS,EAAE,eAAe,sCAAsC,SAAS,EAAE,eAAe,sCAAsC,SAAS,EAAE,eAAe,sCAAsC,SAAS,EAAE,eAAe,sCAAsC,SAAS,EAAE,cAAc,sCAAsC,SAAS,kCAAkC,QAAQ,mBAAmB,6FAA6F,oBAAoB,sCAAsC,2BAA2B,eAAe,sCAAsC,SAAS,EAAE,eAAe,sCAAsC,SAAS,EAAE,eAAe,sCAAsC,SAAS,EAAE,aAAa,sCAAsC,SAAS,EAAE,eAAe,sCAAsC,SAAS,EAAE,eAAe,sCAAsC,SAAS,EAAE,eAAe,sCAAsC,SAAS,EAAE,eAAe,sCAAsC,SAAS,EAAE,iBAAiB,sCAAsC,SAAS,uCAAuC,iBAAiB,0CAA0C,6DAA6D,eAAe,sCAAsC,SAAS,EAAE,eAAe,sCAAsC,SAAS,EAAE,eAAe,sCAAsC,SAAS,EAAE,eAAe,MAAM,sCAAsC,SAAS,uDAAuD,sfAAsf,eAAe,MAAM,sCAAsC,SAAS,yEAAyE,+HAA+H,eAAe,sCAAsC,SAAS,EAAE,eAAe,sCAAsC,SAAS,EAAE,eAAe,MAAM,sCAAsC,SAAS,6DAA6D,4NAA4N,cAAc,sCAAsC,SAAS,EAAE,cAAc,sCAAsC,SAAS,EAAE,iBAAiB,sCAAsC,SAAS,WAAW,eAAe,sCAAsC,SAAS,EAAE,eAAe,sCAAsC,SAAS,EAAE,eAAe,sCAAsC,SAAS,EAAE,WAAW,sCAAsC,SAAS,EAAE,eAAe,sCAAsC,SAAS,EAAE,eAAe,sCAAsC,SAAS,EAAE,eAAe,sCAAsC,SAAS,EAAE,eAAe,sCAAsC,SAAS,EAAE,eAAe,sCAAsC,SAAS,EAAE,eAAe,sCAAsC,SAAS,EAAE,eAAe,sCAAsC,SAAS,EAAE,eAAe,sCAAsC,SAAS,EAAE,eAAe,sCAAsC,SAAS,EAAE,eAAe,sCAAsC,SAAS,EAAE,cAAc,sCAAsC,SAAS,EAAE,eAAe,sCAAsC,SAAS,EAAE,eAAe,sCAAsC,SAAS,EAAE,eAAe,sCAAsC,SAAS,EAAE,eAAe,sCAAsC,SAAS,EAAE,eAAe,sCAAsC,SAAS,EAAE,eAAe,sCAAsC,SAAS,EAAE,eAAe,sCAAsC,SAAS,EAAE,cAAc,sCAAsC,SAAS,EAAE,uBAAuB,mEAAmE,kBAAkB,2CAA2C,8DAA8D,6BAA6B,aAAa,+BAA+B,mBAAmB,4BAA4B,2CAA2C,mFAAmF,sCAAsC,SAAS,izBAAizB,uBAAuB,mEAAmE,kBAAkB,2CAA2C,8DAA8D,6BAA6B,aAAa,+BAA+B,mBAAmB,4BAA4B,2CAA2C,mFAAmF,sCAAsC,SAAS,gBAAgB,eAAe,MAAM,sCAAsC,SAAS,sEAAsE,gEAAgE,kBAAkB,oCAAoC,eAAe,sCAAsC,SAAS,oEAAoE,+BAA+B,eAAe,sCAAsC,SAAS,EAAE,eAAe,sCAAsC,SAAS,EAAE,eAAe,MAAM,sCAAsC,SAAS,yEAAyE,2WAA2W,eAAe,sCAAsC,SAAS,EAAE,eAAe,MAAM,sCAAsC,SAAS,uDAAuD,6BAA6B,eAAe,MAAM,sCAAsC,SAAS,6DAA6D,qHAAqH,eAAe,sCAAsC,SAAS,EAAE,uBAAuB,8CAA8C,0CAA0C,cAAc,IAAI,aAAa,SAAS,MAAM,cAAc,IAAI,cAAc,SAAS,MAAM,cAAc,MAAM,iEAAiE,KAAK,cAAc,+BAA+B,IAAI,sCAAsC,SAAS,8BAA8B,kDAAkD,kCAAkC,yBAAyB,iMAAiM,IAAI,8BAA8B,GAAG,gKAAgK,GAAG,SAAS,6BAA6B,wBAAwB,2CAA2C,qBAAqB,yCAAyC,mGAAmG,GAAG,iBAAiB,gDAAgD,2BAA2B,sBAAsB,yCAAyC,6BAA6B,gDAAgD,0BAA0B,6CAA6C,2BAA2B,8CAA8C,oBAAoB,yCAAyC,6DAA6D,GAAG,sBAAsB,yCAAyC,uBAAuB,gDAAgD,uCAAuC,uKAAuK,GAAG,0BAA0B,yCAAyC,mHAAmH,2BAA2B,mBAAmB,4EAA4E,qBAAqB,iDAAiD,0BAA0B,mBAAmB,mEAAmE,wDAAwD,SAAS,MAAM,uQAAuQ,qJAAqJ,+EAA+E,iFAAiF,EAAE,8CAA8C,0EAA0E,iBAAiB,6BAA6B,OAAO,SAAS,IAAI,uBAAuB,iBAAiB,sCAAsC,SAAS,qBAAqB,uCAAuC,kBAAkB,uBAAuB,4HAA4H,iBAAiB,+GAA+G,cAAc,sCAAsC,oBAAoB,qFAAqF,8EAA8E,0FAA0F,oGAAoG,gFAAgF,gFAAgF,uEAAuE,yEAAyE,+EAA+E,+EAA+E,+FAA+F,oIAAoI,6EAA6E,2FAA2F,2EAA2E,qFAAqF,6EAA6E,6EAA6E,mGAAmG,yFAAyF,uEAAuE,6EAA6E,4FAA4F,uCAAuC,oDAAoD,iBAAiB,uIAAuI,8BAA8B,yDAAyD,WAAW,eAAe,sCAAsC,SAAS,EAAE,cAAc,sCAAsC,SAAS,EAAE,eAAe,sCAAsC,SAAS,EAAE,iBAAiB,sCAAsC,SAAS,2BAA2B,uCAAuC,wBAAwB,mBAAmB,mJAAmJ,+HAA+H,2LAA2L,MAAM,qLAAqL,MAAM,4IAA4I,MAAM,6JAA6J,MAAM,wGAAwG,MAAM,iDAAiD,sBAAsB,eAAe,sCAAsC,SAAS,EAAE,eAAe,sCAAsC,SAAS,wDAAwD,iKAAiK,eAAe,sCAAsC,SAAS,EAAE,eAAe,MAAM,sCAAsC,SAAS,wFAAwF,8CAA8C,eAAe,sCAAsC,SAAS,EAAE,eAAe,MAAM,sCAAsC,SAAS,sEAAsE,uhCAAuhC,eAAe,MAAM,sCAAsC,SAAS,kFAAkF,4LAA4L,eAAe,sCAAsC,SAAS,qEAAqE,OAAO,mBAAmB,uBAAuB,mEAAmE,kBAAkB,2CAA2C,8DAA8D,6BAA6B,aAAa,+BAA+B,mBAAmB,4BAA4B,2CAA2C,mFAAmF,sCAAsC,SAAS,uLAAuL,eAAe,sCAAsC,SAAS,EAAE,eAAe,MAAM,sCAAsC,SAAS,qFAAqF,mEAAmE,eAAe,sCAAsC,SAAS,EAAE,iBAAiB,sCAAsC,SAAS,2BAA2B,iBAAiB,8BAA8B,8CAA8C,eAAe,sCAAsC,SAAS,EAAE,eAAe,sCAAsC,SAAS,EAAE,eAAe,sCAAsC,SAAS,EAAE,eAAe,sCAAsC,SAAS,EAAE,iBAAiB,sCAAsC,SAAS,0BAA0B,iBAAiB,6BAA6B,6CAA6C,cAAc,sCAAsC,SAAS,EAAE,eAAe,sCAAsC,SAAS,EAAE,uBAAuB,8CAA8C,0CAA0C,cAAc,IAAI,aAAa,SAAS,MAAM,cAAc,IAAI,cAAc,SAAS,MAAM,cAAc,MAAM,iEAAiE,KAAK,cAAc,+BAA+B,IAAI,sCAAsC,SAAS,6BAA6B,6DAA6D,gBAAgB,yCAAyC,gBAAgB,eAAe,sHAAsH,GAAG,4DAA4D,gBAAgB,GAAG,sBAAsB,MAAM,0DAA0D,qDAAqD,aAAa,kBAAkB,sLAAsL,sBAAsB,yCAAyC,WAAW,gFAAgF,qBAAqB,OAAO,eAAe,mBAAmB,GAAG,SAAS,wBAAwB,oCAAoC,cAAc,iBAAiB,EAAE,UAAU,KAAK,oCAAoC,aAAa,iBAAiB,EAAE,WAAW,SAAS,eAAe,mBAAmB,iDAAiD,SAAS,GAAG,oBAAoB,yCAAyC,0HAA0H,aAAa,eAAe,EAAE,uBAAuB,0GAA0G,+BAA+B,GAAG,oCAAoC,yCAAyC,yBAAyB,wEAAwE,wEAAwE,mDAAmD,IAAI,wBAAwB,6CAA6C,iEAAiE,yHAAyH,2HAA2H,MAAM,UAAU,0FAA0F,iCAAiC,2EAA2E,mCAAmC,2DAA2D,qFAAqF,wDAAwD,IAAI,uBAAuB,8CAA8C,0CAA0C,cAAc,IAAI,aAAa,SAAS,MAAM,cAAc,IAAI,cAAc,SAAS,MAAM,cAAc,MAAM,iEAAiE,KAAK,cAAc,+BAA+B,IAAI,sCAAsC,SAAS,6BAA6B,oHAAoH,kCAAkC,2BAA2B,yhBAAyhB,uKAAuK,0DAA0D,SAAS,mWAAmW,aAAa,yCAAyC,0CAA0C,GAAG,2BAA2B,yCAAyC,kEAAkE,kFAAkF,2EAA2E,GAAG,mBAAmB,+BAA+B,aAAa,2CAA2C,6BAA6B,2DAA2D,iBAAiB,+CAA+C,mBAAmB,yCAAyC,+EAA+E,YAAY,GAAG,yBAAyB,iDAAiD,oBAAoB,yCAAyC,gDAAgD,GAAG,qBAAqB,yCAAyC,kDAAkD,GAAG,gCAAgC,yCAAyC,8DAA8D,GAAG,yBAAyB,yCAAyC,oDAAoD,GAAG,sBAAsB,kDAAkD,mCAAmC,+DAA+D,sBAAsB,yCAAyC,sCAAsC,GAAG,gBAAgB,yCAAyC,WAAW,kBAAkB,4FAA4F,uBAAuB,mBAAmB,4FAA4F,uBAAuB,+BAA+B,oGAAoG,uBAAuB,gCAAgC,mGAAmG,uBAAuB,kBAAkB,qDAAqD,0EAA0E,QAAQ,oCAAoC,GAAG,GAAG,GAAG,sBAAsB,yCAAyC,sCAAsC,GAAG,gBAAgB,yCAAyC,WAAW,kBAAkB,4FAA4F,uBAAuB,+BAA+B,oGAAoG,uBAAuB,mBAAmB,4FAA4F,uBAAuB,gCAAgC,mGAAmG,uBAAuB,kBAAkB,qDAAqD,gGAAgG,uEAAuE,kBAAkB,GAAG,GAAG,0BAA0B,8BAA8B,uCAAuC,2BAA2B,yCAAyC,yDAAyD,GAAG,iCAAiC,mIAAmI,oBAAoB,oGAAoG,oCAAoC,gCAAgC,sCAAsC,yBAAyB,yGAAyG,kEAAkE,kEAAkE,oDAAoD,oBAAoB,yCAAyC,kDAAkD,GAAG,uBAAuB,yCAAyC,qDAAqD,GAAG,uBAAuB,yCAAyC,8CAA8C,GAAG,mBAAmB,kCAAkC,4BAA4B,yCAAyC,uOAAuO,wCAAwC,iCAAiC,yDAAyD,GAAG,4BAA4B,iGAAiG,OAAO,6OAA6O,cAAc,4CAA4C,mBAAmB,yCAAyC,oGAAoG,GAAG,mBAAmB,yCAAyC,iDAAiD,GAAG,sBAAsB,oDAAoD,sBAAsB,yCAAyC,sEAAsE,sCAAsC,GAAG,iBAAiB,yCAAyC,+CAA+C,GAAG,wBAAwB,yCAAyC,sDAAsD,GAAG,iBAAiB,yCAAyC,oDAAoD,GAAG,gBAAgB,yCAAyC,6CAA6C,GAAG,aAAa,2CAA2C,4CAA4C,yCAAyC,yEAAyE,GAAG,2BAA2B,yCAAyC,yDAAyD,GAAG,oBAAoB,yCAAyC,kDAAkD,GAAG,uCAAuC,kBAAkB,4HAA4H,2BAA2B,oDAAoD,MAAM,uEAAuE,UAAU,gCAAgC,aAAa,iCAAiC,+BAA+B,+BAA+B,4CAA4C,eAAe,uFAAuF,uEAAuE,kCAAkC,2BAA2B,yCAAyC,yDAAyD,GAAG,yBAAyB,0BAA0B,wCAAwC,eAAe,yCAAyC,wLAAwL,GAAG,oCAAoC,yCAAyC,6BAA6B,kIAAkI,+BAA+B,sCAAsC,MAAM,gDAAgD,uKAAuK,mDAAmD,gGAAgG,mHAAmH,GAAG,2BAA2B,yCAAyC,qOAAqO,GAAG,wBAAwB,6BAA6B,iFAAiF,8CAA8C,iBAAiB,yCAAyC,OAAO,wCAAwC,4dAA4d,8FAA8F,IAAI,sBAAsB,eAAe,sCAAsC,SAAS,yFAAyF,+CAA+C,uBAAuB,8CAA8C,0CAA0C,cAAc,IAAI,aAAa,SAAS,MAAM,cAAc,IAAI,cAAc,SAAS,MAAM,cAAc,MAAM,iEAAiE,KAAK,cAAc,+BAA+B,IAAI,sCAAsC,SAAS,4EAA4E,6DAA6D,oBAAoB,yCAAyC,yDAAyD,wQAAwQ,sBAAsB,sFAAsF,aAAa,iBAAiB,EAAE,2DAA2D,yBAAyB,UAAU,GAAG,kDAAkD,yCAAyC,oCAAoC,0BAA0B,WAAW,EAAE,wCAAwC,uBAAuB,mDAAmD,GAAG,oCAAoC,uBAAuB,8CAA8C,0CAA0C,cAAc,IAAI,aAAa,SAAS,MAAM,cAAc,IAAI,cAAc,SAAS,MAAM,cAAc,MAAM,iEAAiE,KAAK,cAAc,+BAA+B,IAAI,sCAAsC,SAAS,kCAAkC,6DAA6D,kCAAkC,uBAAuB,2MAA2M,IAAI,qBAAqB,GAAG,oDAAoD,GAAG,SAAS,wJAAwJ,oBAAoB,yCAAyC,mDAAmD,2CAA2C,GAAG,eAAe,kDAAkD,sBAAsB,8FAA8F,qBAAqB,qDAAqD,4BAA4B,kCAAkC,MAAM,uNAAuN,kCAAkC,+FAA+F,+BAA+B,yCAAyC,yCAAyC,2DAA2D,gCAAgC,GAAG,oBAAoB,yCAAyC,+FAA+F,4EAA4E,+EAA+E,qDAAqD,GAAG,qBAAqB,yCAAyC,yDAAyD,GAAG,gCAAgC,yCAAyC,oEAAoE,GAAG,+BAA+B,yCAAyC,+CAA+C,gBAAgB,gDAAgD,0BAA0B,GAAG,oBAAoB,yCAAyC,iEAAiE,gCAAgC,GAAG,gCAAgC,yCAAyC,oEAAoE,GAAG,qBAAqB,yCAAyC,yDAAyD,GAAG,yBAAyB,yCAAyC,iGAAiG,uBAAuB,8DAA8D,wCAAwC,gGAAgG,uEAAuE,kBAAkB,GAAG,2EAA2E,GAAG,mCAAmC,+BAA+B,iFAAiF,iBAAiB,MAAM,yCAAyC,yCAAyC,OAAO,iBAAiB,4MAA4M,IAAI,2BAA2B,uBAAuB,8CAA8C,0CAA0C,cAAc,IAAI,aAAa,SAAS,MAAM,cAAc,IAAI,cAAc,SAAS,MAAM,cAAc,MAAM,iEAAiE,KAAK,cAAc,+BAA+B,IAAI,sCAAsC,SAAS,oCAAoC,mFAAmF,kCAAkC,yBAAyB,6KAA6K,SAAS,6FAA6F,aAAa,yCAAyC,8HAA8H,kDAAkD,iDAAiD,iDAAiD,KAAK,0CAA0C,mCAAmC,wIAAwI,GAAG,wBAAwB,yCAAyC,oGAAoG,GAAG,2BAA2B,yCAAyC,gDAAgD,+CAA+C,GAAG,oBAAoB,yCAAyC,uDAAuD,GAAG,aAAa,qBAAqB,+DAA+D,sEAAsE,4EAA4E,6BAA6B,6CAA6C,cAAc,yFAAyF,6BAA6B,yCAAyC,sDAAsD,kFAAkF,6EAA6E,GAAG,iBAAiB,mCAAmC,gCAAgC,qBAAqB,0CAA0C,yBAAyB,yCAAyC,+EAA+E,kBAAkB,0CAA0C,2DAA2D,KAAK,+BAA+B,GAAG,GAAG,wBAAwB,yCAAyC,uFAAuF,iGAAiG,iDAAiD,8GAA8G,GAAG,6BAA6B,yCAAyC,gHAAgH,uCAAuC,GAAG,iCAAiC,yCAAyC,yCAAyC,GAAG,mBAAmB,yCAAyC,iFAAiF,6HAA6H,6GAA6G,GAAG,uBAAuB,yCAAyC,+BAA+B,GAAG,oBAAoB,yCAAyC,kBAAkB,sEAAsE,GAAG,uBAAuB,yCAAyC,iHAAiH,GAAG,+BAA+B,kCAAkC,2BAA2B,yCAAyC,4GAA4G,UAAU,mBAAmB,WAAW,EAAE,UAAU,GAAG,oBAAoB,yCAAyC,yHAAyH,UAAU,mBAAmB,eAAe,EAAE,UAAU,GAAG,uBAAuB,yCAAyC,iCAAiC,wFAAwF,sFAAsF,mEAAmE,4CAA4C,6CAA6C,GAAG,4BAA4B,yCAAyC,sGAAsG,8FAA8F,GAAG,yBAAyB,yCAAyC,8DAA8D,uBAAuB,2EAA2E,oIAAoI,kBAAkB,oCAAoC,GAAG,qGAAqG,GAAG,iBAAiB,yCAAyC,+EAA+E,iGAAiG,8FAA8F,+GAA+G,6DAA6D,kBAAkB,gFAAgF,GAAG,wBAAwB,yCAAyC,2EAA2E,KAAK,yGAAyG,0CAA0C,qNAAqN,0SAA0S,GAAG,uBAAuB,yCAAyC,4JAA4J,ufAAuf,GAAG,gBAAgB,yCAAyC,+EAA+E,0FAA0F,kFAAkF,gFAAgF,oKAAoK,6NAA6N,qDAAqD,kDAAkD,oCAAoC,mCAAmC,GAAG,4CAA4C,yCAAyC,6dAA6d,GAAG,oBAAoB,gGAAgG,sBAAsB,eAAe,aAAa,oBAAoB,iBAAiB,oBAAoB,eAAe,kDAAkD,8BAA8B,yCAAyC,0BAA0B,0EAA0E,gCAAgC,GAAG,gCAAgC,yCAAyC,mEAAmE,GAAG,oBAAoB,yCAAyC,qDAAqD,GAAG,qBAAqB,yCAAyC,yDAAyD,GAAG,+BAA+B,yCAAyC,0BAA0B,gBAAgB,gDAAgD,0BAA0B,GAAG,oBAAoB,yCAAyC,qDAAqD,GAAG,gCAAgC,yCAAyC,oEAAoE,GAAG,qBAAqB,yCAAyC,yDAAyD,GAAG,qBAAqB,yCAAyC,4BAA4B,sDAAsD,GAAG,2BAA2B,yCAAyC,uEAAuE,MAAM,qEAAqE,8CAA8C,kHAAkH,6EAA6E,EAAE,oCAAoC,0CAA0C,mEAAmE,qDAAqD,8DAA8D,eAAe,GAAG,6CAA6C,oDAAoD,eAAe,KAAK,GAAG,gCAAgC,yCAAyC,+FAA+F,4CAA4C,0FAA0F,eAAe,IAAI,GAAG,GAAG,iBAAiB,yCAAyC,OAAO,mBAAmB,uXAAuX,IAAI,6BAA6B,eAAe,MAAM,sCAAsC,SAAS,yEAAyE,40CAA40C,eAAe,sCAAsC,SAAS,EAAE,eAAe,sCAAsC,SAAS,EAAE,eAAe,MAAM,sCAAsC,SAAS,oDAAoD,qzBAAqzB,aAAa,sCAAsC,SAAS,EAAE,eAAe,MAAM,sCAAsC,SAAS,0DAA0D,iYAAiY,eAAe,MAAM,sCAAsC,SAAS,gEAAgE,2JAA2J,eAAe,sCAAsC,SAAS,EAAE,eAAe,MAAM,sCAAsC,SAAS,gEAAgE,2EAA2E,eAAe,sCAAsC,SAAS,EAAE,eAAe,sCAAsC,SAAS,EAAE,uBAAuB,8CAA8C,0CAA0C,cAAc,IAAI,aAAa,SAAS,MAAM,cAAc,IAAI,cAAc,SAAS,MAAM,cAAc,MAAM,iEAAiE,KAAK,cAAc,+BAA+B,IAAI,sCAAsC,SAAS,uBAAuB,8FAA8F,kCAAkC,6BAA6B,sMAAsM,SAAS,+NAA+N,mBAAmB,WAAW,sBAAsB,yCAAyC,0FAA0F,kDAAkD,SAAS,wGAAwG,iEAAiE,uHAAuH,GAAG,4BAA4B,yCAAyC,0GAA0G,GAAG,kBAAkB,yCAAyC,+HAA+H,yBAAyB,+LAA+L,gGAAgG,uCAAuC,GAAG,wBAAwB,yCAAyC,2CAA2C,qBAAqB,6FAA6F,0BAA0B,kDAAkD,KAAK,2CAA2C,kBAAkB,GAAG,kBAAkB,yCAAyC,wCAAwC,MAAM,2CAA2C,8CAA8C,oDAAoD,qBAAqB,yFAAyF,IAAI,mCAAmC,GAAG,yCAAyC,+EAA+E,GAAG,GAAG,0CAA0C,iBAAiB,UAAU,GAAG,cAAc,yCAAyC,mCAAmC,yEAAyE,kDAAkD,qCAAqC,8DAA8D,2EAA2E,GAAG,+BAA+B,sHAAsH,6BAA6B,yCAAyC,6DAA6D,cAAc,oCAAoC,kFAAkF,sCAAsC,6DAA6D,UAAU,oCAAoC,oEAAoE,cAAc,iBAAiB,EAAE,2DAA2D,GAAG,cAAc,yCAAyC,4BAA4B,GAAG,sCAAsC,yCAAyC,kCAAkC,wCAAwC,qCAAqC,wCAAwC,oGAAoG,uBAAuB,KAAK,yCAAyC,GAAG,oCAAoC,yCAAyC,qBAAqB,mGAAmG,8BAA8B,OAAO,IAAI,gBAAgB,eAAe,sCAAsC,SAAS,EAAE,eAAe,sCAAsC,SAAS,iEAAiE,qDAAqD,cAAc,sCAAsC,SAAS,EAAE,uBAAuB,8CAA8C,0CAA0C,cAAc,IAAI,aAAa,SAAS,MAAM,cAAc,IAAI,cAAc,SAAS,MAAM,cAAc,MAAM,iEAAiE,KAAK,cAAc,+BAA+B,IAAI,sCAAsC,SAAS,4BAA4B,uCAAuC,kCAAkC,qBAAqB,0FAA0F,eAAe,yCAAyC,0DAA0D,sFAAsF,+FAA+F,WAAW,4EAA4E,kCAAkC,8JAA8J,qEAAqE,sCAAsC,EAAE,IAAI,qBAAqB,uBAAuB,8CAA8C,0CAA0C,cAAc,IAAI,aAAa,SAAS,MAAM,cAAc,IAAI,cAAc,SAAS,MAAM,cAAc,MAAM,iEAAiE,KAAK,cAAc,+BAA+B,IAAI,sCAAsC,SAAS,4BAA4B,iBAAiB,yBAAyB,cAAc,2BAA2B,SAAS,0BAA0B,qBAAqB,gCAAgC,yDAAyD,WAAW,uCAAuC,gDAAgD,iBAAiB,yCAAyC,uCAAuC,eAAe,uFAAuF,6CAA6C,WAAW,0CAA0C,uBAAuB,KAAK,eAAe,sCAAsC,SAAS,EAAE,eAAe,sCAAsC,SAAS,EAAE,eAAe,sCAAsC,SAAS,EAAE,eAAe,MAAM,sCAAsC,SAAS,6GAA6G,uCAAuC,eAAe,sCAAsC,SAAS,EAAE,iBAAiB,sCAAsC,SAAS,uBAAuB,iBAAiB,oBAAoB,qBAAqB,SAAS,qCAAqC,0JAA0J,WAAW,eAAe,sCAAsC,SAAS,EAAE,eAAe,sCAAsC,SAAS,EAAE,eAAe,MAAM,sCAAsC,SAAS,oGAAoG,8GAA8G,eAAe,sCAAsC,SAAS,EAAE,eAAe,sCAAsC,SAAS,EAAE,eAAe,sCAAsC,SAAS,EAAE,eAAe,sCAAsC,SAAS,EAAE,eAAe,sCAAsC,SAAS,4FAA4F,2CAA2C,eAAe,MAAM,sCAAsC,SAAS,+EAA+E,gDAAgD,eAAe,sCAAsC,SAAS,EAAE,eAAe,sCAAsC,SAAS,EAAE,uBAAuB,8CAA8C,0CAA0C,cAAc,IAAI,aAAa,SAAS,MAAM,cAAc,IAAI,cAAc,SAAS,MAAM,cAAc,MAAM,iEAAiE,KAAK,cAAc,+BAA+B,IAAI,sCAAsC,SAAS,2BAA2B,4BAA4B,wBAAwB,eAAe,+FAA+F,oBAAoB,4BAA4B,4BAA4B,WAAW,4BAA4B,iBAAiB,MAAM,yCAAyC,gDAAgD,yDAAyD,iBAAiB,EAAE,GAAG,qBAAqB,MAAM,yCAAyC,gDAAgD,yEAAyE,iBAAiB,0CAA0C,GAAG,iBAAiB,+BAA+B,cAAc,yCAAyC,yCAAyC,GAAG,SAAS,uFAAuF,2BAA2B,yCAAyC,YAAY,uCAAuC,GAAG,0BAA0B,0CAA0C,GAAG,iBAAiB,6BAA6B,MAAM,8CAA8C,IAAI,sBAAsB,qEAAqE,eAAe,sCAAsC,SAAS,EAAE,eAAe,sCAAsC,SAAS,EAAE,cAAc,sCAAsC,SAAS,EAAE,iBAAiB,sCAAsC,SAAS,yBAAyB,uCAAuC,kCAAkC,cAAc,6DAA6D,cAAc,qBAAqB,cAAc,gDAAgD,cAAc,8DAA8D,iBAAiB,sEAAsE,mBAAmB,kCAAkC,mKAAmK,oBAAoB,SAAS,0BAA0B,uBAAuB,kBAAkB,MAAM,kBAAkB,eAAe,sCAAsC,SAAS,6EAA6E,mCAAmC,eAAe,sCAAsC,SAAS,+CAA+C,cAAc,oBAAoB,cAAc,qBAAqB,YAAY,0BAA0B,eAAe,wBAAwB,eAAe,sCAAsC,SAAS,EAAE,eAAe,QAAQ,sCAAsC,SAAS,sIAAsI,0HAA0H,q/BAAq/B,4DAA4D,iCAAiC,oBAAoB,gjBAAgjB,eAAe,sCAAsC,SAAS,EAAE,eAAe,YAAY,sCAAsC,SAAS,sKAAsK,kHAAkH,oGAAoG,kGAAkG,uEAAuE,eAAe,sCAAsC,SAAS,sCAAsC,svBAAsvB,eAAe,sCAAsC,SAAS,28DAA28D,2GAA2G,8wGAA8wG,wKAAwK,oCAAoC,qRAAqR,6BAA6B,mKAAmK,oBAAoB,kFAAkF,kBAAkB,gOAAgO,2BAA2B,8VAA8V,wBAAwB,6DAA6D,mBAAmB,4oCAA4oC,qBAAqB,k3DAAk3D,sBAAsB,0nBAA0nB,4BAA4B,8MAA8M,eAAe,sCAAsC,SAAS,EAAE,uBAAuB,8CAA8C,0CAA0C,cAAc,IAAI,aAAa,SAAS,MAAM,cAAc,IAAI,cAAc,SAAS,MAAM,cAAc,MAAM,iEAAiE,KAAK,cAAc,+BAA+B,IAAI,sCAAsC,SAAS,+BAA+B,iBAAiB,kCAAkC,iBAAiB,+DAA+D,oBAAoB,yCAAyC,IAAI,0DAA0D,qBAAqB,wCAAwC,QAAQ,SAAS,OAAO,oDAAoD,GAAG,8BAA8B,MAAM,yCAAyC,IAAI,wDAAwD,sDAAsD,SAAS,UAAU,GAAG,wBAAwB,yCAAyC,IAAI,sEAAsE,SAAS,UAAU,GAAG,oBAAoB,yCAAyC,IAAI,4EAA4E,SAAS,UAAU,IAAI,wBAAwB,eAAe,MAAM,sCAAsC,SAAS,iDAAiD,+DAA+D,eAAe,sCAAsC,SAAS,EAAE,eAAe,MAAM,sCAAsC,SAAS,4EAA4E,2EAA2E,eAAe,sCAAsC,SAAS,EAAE,cAAc,MAAM,sCAAsC,SAAS,uDAAuD,sQAAsQ,cAAc,sCAAsC,SAAS,EAAE,uBAAuB,8CAA8C,0CAA0C,cAAc,IAAI,aAAa,SAAS,MAAM,cAAc,IAAI,cAAc,SAAS,MAAM,cAAc,MAAM,iEAAiE,KAAK,cAAc,+BAA+B,IAAI,sCAAsC,SAAS,sCAAsC,8FAA8F,MAAM,aAAa,sEAAsE,qCAAqC,GAAG,kCAAkC,iCAAiC,yUAAyU,SAAS,gQAAgQ,cAAc,2HAA2H,yCAAyC,sGAAsG,wDAAwD,oBAAoB,IAAI,mBAAmB,kDAAkD,2eAA2e,SAAS,kDAAkD,GAAG,YAAY,+OAA+O,yCAAyC,qGAAqG,qDAAqD,kBAAkB,IAAI,mBAAmB,kDAAkD,yCAAyC,KAAK,4WAA4W,gDAAgD,6BAA6B,aAAa,iDAAiD,GAAG,iEAAiE,kBAAkB,QAAQ,mBAAmB,GAAG,gBAAgB,yCAAyC,mFAAmF,sEAAsE,UAAU,qCAAqC,4FAA4F,qBAAqB,sCAAsC,gFAAgF,SAAS,EAAE,GAAG,qBAAqB,yCAAyC,+CAA+C,IAAI,qDAAqD,yBAAyB,EAAE,oCAAoC,SAAS,UAAU,GAAG,oBAAoB,yCAAyC,mBAAmB,gGAAgG,6HAA6H,kBAAkB,wEAAwE,GAAG,qBAAqB,yCAAyC,+CAA+C,2DAA2D,GAAG,UAAU,8IAA8I,yCAAyC,8CAA8C,wLAAwL,SAAS,EAAE,GAAG,4BAA4B,yCAAyC,eAAe,qBAAqB,kPAAkP,eAAe,GAAG,yBAAyB,yCAAyC,oFAAoF,sPAAsP,4HAA4H,aAAa,aAAa,kGAAkG,IAAI,MAAM,0EAA0E,uGAAuG,6HAA6H,EAAE,iCAAiC,eAAe,sIAAsI,YAAY,SAAS,OAAO,SAAS,QAAQ,KAAK,GAAG,eAAe,yCAAyC,kDAAkD,sEAAsE,8FAA8F,IAAI,wFAAwF,QAAQ,KAAK,GAAG,iBAAiB,yCAAyC,wEAAwE,+FAA+F,IAAI,oDAAoD,QAAQ,KAAK,GAAG,kBAAkB,mGAAmG,yCAAyC,kDAAkD,wEAAwE,qLAAqL,IAAI,8FAA8F,QAAQ,KAAK,GAAG,+BAA+B,yCAAyC,yFAAyF,+GAA+G,GAAG,+BAA+B,yCAAyC,0EAA0E,GAAG,mBAAmB,yCAAyC,uFAAuF,2FAA2F,GAAG,cAAc,+BAA+B,gBAAgB,iCAAiC,gBAAgB,8CAA8C,4BAA4B,yCAAyC,MAAM,yBAAyB,oEAAoE,YAAY,0DAA0D,mHAAmH,0EAA0E,yFAAyF,iCAAiC,+FAA+F,yHAAyH,EAAE,mBAAmB,qDAAqD,gHAAgH,EAAE,2CAA2C,mEAAmE,gFAAgF,YAAY,gHAAgH,4FAA4F,yFAAyF,YAAY,GAAG,gDAAgD,kBAAkB,GAAG,wCAAwC,QAAQ,yCAAyC,OAAO,0SAA0S,IAAI,gBAAgB,eAAe,sCAAsC,SAAS,EAAE,uBAAuB,8CAA8C,0CAA0C,cAAc,IAAI,aAAa,SAAS,MAAM,cAAc,IAAI,cAAc,SAAS,MAAM,cAAc,MAAM,iEAAiE,KAAK,cAAc,+BAA+B,IAAI,sCAAsC,SAAS,4BAA4B,iBAAiB,kCAAkC,iBAAiB,4DAA4D,oBAAoB,yCAAyC,IAAI,2DAA2D,8BAA8B,WAAW,QAAQ,SAAS,OAAO,aAAa,GAAG,sBAAsB,yCAAyC,IAAI,6DAA6D,8BAA8B,SAAS,QAAQ,SAAS,OAAO,WAAW,GAAG,iBAAiB,yCAAyC,IAAI,wDAAwD,8BAA8B,uCAAuC,QAAQ,SAAS,OAAO,yCAAyC,GAAG,gBAAgB,yCAAyC,IAAI,uDAAuD,8BAA8B,WAAW,QAAQ,SAAS,OAAO,aAAa,GAAG,qBAAqB,yCAAyC,IAAI,4DAA4D,yCAAyC,SAAS,aAAa,GAAG,mBAAmB,yCAAyC,IAAI,0DAA0D,yCAAyC,SAAS,aAAa,IAAI,qBAAqB,uBAAuB,mEAAmE,kBAAkB,2CAA2C,8DAA8D,6BAA6B,aAAa,+BAA+B,mBAAmB,4BAA4B,2CAA2C,mFAAmF,sCAAsC,SAAS,4rCAA4rC,uBAAuB,mEAAmE,kBAAkB,2CAA2C,8DAA8D,6BAA6B,aAAa,+BAA+B,mBAAmB,4BAA4B,2CAA2C,mFAAmF,sCAAsC,SAAS,gBAAgB,eAAe,sCAAsC,SAAS,EAAE,eAAe,sCAAsC,SAAS,EAAE,eAAe,sCAAsC,SAAS,EAAE,sBAAsB,mEAAmE,kBAAkB,2CAA2C,8DAA8D,6BAA6B,aAAa,+BAA+B,mBAAmB,4BAA4B,2CAA2C,mFAAmF,sCAAsC,SAAS,4CAA4C,eAAe,sCAAsC,SAAS,EAAE,uBAAuB,mEAAmE,kBAAkB,2CAA2C,8DAA8D,6BAA6B,aAAa,+BAA+B,mBAAmB,4BAA4B,2CAA2C,mFAAmF,sCAAsC,SAAS,gBAAgB,eAAe,sCAAsC,SAAS,EAAE,eAAe,sCAAsC,SAAS,2DAA2D,kBAAkB,gBAAgB,iBAAiB,QAAQ,wBAAwB,YAAY,IAAI,uCAAuC,cAAc,uBAAuB,mEAAmE,kBAAkB,2CAA2C,8DAA8D,6BAA6B,aAAa,+BAA+B,mBAAmB,4BAA4B,2CAA2C,mFAAmF,sCAAsC,SAAS,8BAA8B,eAAe,sCAAsC,SAAS,EAAE,uBAAuB,mEAAmE,kBAAkB,2CAA2C,8DAA8D,6BAA6B,aAAa,+BAA+B,mBAAmB,4BAA4B,2CAA2C,mFAAmF,sCAAsC,SAAS,gBAAgB,eAAe,sCAAsC,SAAS,EAAE,eAAe,sCAAsC,SAAS,EAAE,eAAe,sCAAsC,SAAS,EAAE,cAAc,sCAAsC,SAAS,EAAE,eAAe,MAAM,sCAAsC,SAAS,mEAAmE,y8BAAy8B,eAAe,sCAAsC,SAAS,EAAE,cAAc,sCAAsC,SAAS,EAAE,eAAe,sCAAsC,SAAS,EAAE,eAAe,sCAAsC,SAAS,EAAE,eAAe,sCAAsC,SAAS,EAAE,eAAe,sCAAsC,SAAS,EAAE,uBAAuB,mEAAmE,kBAAkB,2CAA2C,8DAA8D,6BAA6B,aAAa,+BAA+B,mBAAmB,4BAA4B,2CAA2C,mFAAmF,sCAAsC,SAAS,0JAA0J,uBAAuB,mEAAmE,kBAAkB,2CAA2C,8DAA8D,6BAA6B,aAAa,+BAA+B,mBAAmB,4BAA4B,2CAA2C,mFAAmF,sCAAsC,SAAS,uEAAuE,iBAAiB,OAAO,4CAA4C,EAAE,eAAe,cAAc,OAAO,sQAAsQ,IAAI,cAAc,OAAO,0RAA0R,IAAI,cAAc,OAAO,uGAAuG,IAAI,cAAc,wDAAwD,cAAc,iCAAiC,iBAAiB,OAAO,wGAAwG,EAAE,sEAAsE,cAAc,OAAO,6hCAA6hC,IAAI,qCAAqC,SAAS,6CAA6C,gBAAgB,qBAAqB,iCAAiC,sCAAsC,4BAA4B,uDAAuD,sBAAsB,SAAS,cAAc,YAAY,mBAAmB,KAAK,yCAAyC,yCAAyC,YAAY,qIAAqI,gEAAgE,GAAG,SAAS,kBAAkB,yCAAyC,kDAAkD,WAAW,QAAQ,eAAe,2iDAA2iD,cAAc,OAAO,sDAAsD,0DAA0D,qHAAqH,sGAAsG,wRAAwR,oBAAoB,gCAAgC,iBAAiB,6BAA6B,YAAY,wBAAwB,eAAe,4BAA4B,YAAY,wBAAwB,kBAAkB,8BAA8B,WAAW,wBAAwB,WAAW,wBAAwB,eAAe,4BAA4B,cAAc,2BAA2B,eAAe,2BAA2B,aAAa,0BAA0B,kBAAkB,+BAA+B,uBAAuB,oCAAoC,aAAa,0BAA0B,0BAA0B,0DAA0D,0BAA0B,yFAAyF,iEAAiE,4EAA4E,8DAA8D,GAAG,ogBAAogB,qBAAqB,uDAAuD,eAAe,8DAA8D,sFAAsF,iBAAiB,kCAAkC,MAAM,kEAAkE,qDAAqD,4CAA4C,kDAAkD,+CAA+C,SAAS,kHAAkH,mYAAmY,qDAAqD,qIAAqI,iEAAiE,yDAAyD,oHAAoH,2DAA2D,EAAE,GAAG,WAAW,WAAW,YAAY,qBAAqB,sDAAsD,uCAAuC,gFAAgF,MAAM,8DAA8D,OAAO,+DAA+D,yDAAyD,6CAA6C,qBAAqB,wCAAwC,+DAA+D,OAAO,qBAAqB,+DAA+D,sBAAsB,SAAS,0BAA0B,uCAAuC,yCAAyC,4BAA4B,wCAAwC,YAAY,KAAK,uBAAuB,OAAO,aAAa,0HAA0H,8BAA8B,iCAAiC,YAAY,QAAQ,SAAS,uBAAuB,+FAA+F,sHAAsH,EAAE,gDAAgD,mBAAmB,2CAA2C,cAAc,6CAA6C,uBAAuB,uGAAuG,+BAA+B,oDAAoD,wBAAwB,8BAA8B,8EAA8E,4BAA4B,6CAA6C,kCAAkC,uDAAuD,iBAAiB,4CAA4C,IAAI,wCAAwC,GAAG,GAAG,wCAAwC,EAAE,kCAAkC,UAAU,4FAA4F,mCAAmC,8CAA8C,iBAAiB,6DAA6D,UAAU,iCAAiC,uBAAuB,qEAAqE,UAAU,uFAAuF,qCAAqC,8BAA8B,qDAAqD,mCAAmC,uDAAuD,iBAAiB,6CAA6C,2BAA2B,+CAA+C,wBAAwB,6CAA6C,+BAA+B,wDAAwD,4OAA4O,YAAY,yBAAyB,aAAa,yCAAyC,uBAAuB,qDAAqD,8BAA8B,4DAA4D,iCAAiC,qDAAqD,yBAAyB,6CAA6C,4CAA4C,0EAA0E,uBAAuB,qDAAqD,kCAAkC,gEAAgE,uCAAuC,qEAAqE,4DAA4D,wDAAwD,kCAAkC,kHAAkH,kCAAkC,kHAAkH,qBAAqB,oDAAoD,gBAAgB,+CAA+C,cAAc,6CAA6C,uBAAuB,gDAAgD,mBAAmB,6CAA6C,yBAAyB,6CAA6C,yBAAyB,+DAA+D,6DAA6D,iDAAiD,4BAA4B,MAAM,2FAA2F,0BAA0B,uDAAuD,8BAA8B,2DAA2D,mBAAmB,yCAAyC,eAAe,gBAAgB,YAAY,MAAM,oFAAoF,yCAAyC,2CAA2C,wCAAwC,mVAAmV,oBAAoB,2HAA2H,0CAA0C,kBAAkB,+OAA+O,4CAA4C,yBAAyB,gGAAgG,2CAA2C,qFAAqF,EAAE,4BAA4B,gKAAgK,2CAA2C,uFAAuF,EAAE,6BAA6B,+BAA+B,wBAAwB,0BAA0B,4EAA4E,iCAAiC,MAAM,QAAQ,uDAAuD,SAAS,YAAY,oBAAoB,aAAa,qBAAqB,cAAc,0CAA0C,WAAW,iFAAiF,aAAa,8FAA8F,qBAAqB,yHAAyH,6HAA6H,gBAAgB,mEAAmE,EAAE,oBAAoB,+CAA+C,gBAAgB,0FAA0F,eAAe,uCAAuC,uBAAuB,yCAAyC,wBAAwB,mGAAmG,4CAA4C,6BAA6B,4DAA4D,8BAA8B,+FAA+F,mCAAmC,4FAA4F,uBAAuB,oDAAoD,eAAe,sCAAsC,2BAA2B,0DAA0D,8BAA8B,6DAA6D,yBAAyB,uBAAuB,0EAA0E,wBAAwB,+CAA+C,uBAAuB,wCAAwC,0BAA0B,2CAA2C,qBAAqB,sCAAsC,qBAAqB,sCAAsC,mBAAmB,0FAA0F,0BAA0B,iDAAiD,uBAAuB,8CAA8C,oCAAoC,gEAAgE,oBAAoB,kzCAAkzC,gBAAgB,krCAAkrC,4BAA4B,6CAA6C,8BAA8B,gSAAgS,wBAAwB,4DAA4D,sBAAsB,+MAA+M,oBAAoB,kOAAkO,yBAAyB,kKAAkK,wBAAwB,4TAA4T,UAAU,4FAA4F,MAAM,0FAA0F,MAAM,gCAAgC,6CAA6C,0BAA0B,6KAA6K,yBAAyB,gCAAgC,mYAAmY,4CAA4C,oBAAoB,2TAA2T,UAAU,uFAAuF,MAAM,qMAAqM,MAAM,gCAAgC,yCAAyC,mBAAmB,uMAAuM,uBAAuB,iFAAiF,mBAAmB,mDAAmD,0BAA0B,iEAAiE,+BAA+B,kFAAkF,2BAA2B,mEAAmE,4BAA4B,yEAAyE,wBAAwB,6DAA6D,4BAA4B,sGAAsG,wBAAwB,6DAA6D,4BAA4B,yEAAyE,yBAAyB,6FAA6F,oBAAoB,sHAAsH,yBAAyB,mQAAmQ,oBAAoB,mJAAmJ,oBAAoB,mKAAmK,uBAAuB,4FAA4F,yBAAyB,sJAAsJ,2BAA2B,0JAA0J,+BAA+B,uCAAuC,wBAAwB,sQAAsQ,+GAA+G,6CAA6C,2BAA2B,gRAAgR,uBAAuB,gSAAgS,UAAU,8BAA8B,uIAAuI,iBAAiB,GAAG,IAAI,MAAM,oDAAoD,MAAM,gCAAgC,4CAA4C,oBAAoB,qKAAqK,yCAAyC,wBAAwB,qDAAqD,aAAa,+OAA+O,GAAG,mEAAmE,yBAAyB,6IAA6I,0BAA0B,kMAAkM,iMAAiM,+CAA+C,uBAAuB,+LAA+L,uBAAuB,kRAAkR,2BAA2B,0LAA0L,wDAAwD,gDAAgD,wBAAwB,kIAAkI,mBAAmB,kJAAkJ,uBAAuB,qQAAqQ,4BAA4B,+LAA+L,sBAAsB,sGAAsG,kBAAkB,yCAAyC,kDAAkD,WAAW,QAAQ,mBAAmB,sKAAsK,IAAI,qBAAqB,GAAG,0CAA0C,iCAAiC,GAAG,SAAS,iJAAiJ,eAAe,iBAAiB,OAAO,gBAAgB,EAAE,4BAA4B,kBAAkB,yCAAyC,kDAAkD,WAAW,aAAa,0IAA0I,SAAS,GAAG,kCAAkC,iBAAiB,gNAAgN,yEAAyE,oFAAoF,8BAA8B,gDAAgD,iCAAiC,yBAAyB,MAAM,mBAAmB,6CAA6C,YAAY,oBAAoB,sCAAsC,gBAAgB,gFAAgF,IAAI,iBAAiB,SAAS,2IAA2I,oBAAoB,8GAA8G,qLAAqL,mCAAmC,0LAA0L,uCAAuC,0EAA0E,cAAc,EAAE,kCAAkC,2BAA2B,KAAK,iDAAiD,2IAA2I,iBAAiB,4CAA4C,wBAAwB,2DAA2D,6BAA6B,yEAAyE,0BAA0B,qDAAqD,2BAA2B,wJAAwJ,kCAAkC,EAAE,sBAAsB,oCAAoC,oBAAoB,2CAA2C,8BAA8B,0FAA0F,uBAAuB,+BAA+B,2BAA2B,4BAA4B,2CAA2C,kCAAkC,wEAAwE,OAAO,yDAAyD,oCAAoC,+CAA+C,qGAAqG,6CAA6C,yKAAyK,4CAA4C,+LAA+L,0BAA0B,8DAA8D,mDAAmD,iBAAiB,OAAO,6CAA6C,EAAE,eAAe,QAAQ,sBAAsB,mBAAmB,sUAAsU,6BAA6B,UAAU,+CAA+C,8CAA8C,yDAAyD,qDAAqD,uCAAuC,sCAAsC,iCAAiC,gDAAgD,kBAAkB,yCAAyC,kDAAkD,WAAW,QAAQ,mBAAmB,whBAAwhB,SAAS,MAAM,2NAA2N,oBAAoB,eAAe,cAAc,8VAA8V,2KAA2K,EAAE,0FAA0F,EAAE,2DAA2D,6DAA6D,iDAAiD,oFAAoF,mBAAmB,qBAAqB,qDAAqD,cAAc,gGAAgG,IAAI,8BAA8B,GAAG,yBAAyB,uDAAuD,kEAAkE,IAAI,sBAAsB,6EAA6E,mCAAmC,mHAAmH,uCAAuC,WAAW,4BAA4B,cAAc,yEAAyE,0IAA0I,mKAAmK,yDAAyD,UAAU,+EAA+E,+DAA+D,yCAAyC,qEAAqE,yGAAyG,kCAAkC,6BAA6B,MAAM,kBAAkB,yCAAyC,kDAAkD,WAAW,QAAQ,iBAAiB,4LAA4L,SAAS,MAAM,2JAA2J,mBAAmB,mBAAmB,cAAc,+EAA+E,IAAI,qBAAqB,GAAG,yBAAyB,uDAAuD,iBAAiB,IAAI,kBAAkB,yCAAyC,kDAAkD,WAAW,QAAQ,eAAe,oVAAoV,0EAA0E,IAAI,SAAS,yDAAyD,IAAI,iCAAiC,gEAAgE,UAAU,EAAE,8BAA8B,8BAA8B,MAAM,0FAA0F,UAAU,2BAA2B,UAAU,4BAA4B,+BAA+B,UAAU,4BAA4B,wCAAwC,sGAAsG,uBAAuB,IAAI,YAAY,yDAAyD,WAAW,mFAAmF,4BAA4B,sCAAsC,+BAA+B,UAAU,EAAE,0BAA0B,gEAAgE,UAAU,EAAE,uBAAuB,+BAA+B,+BAA+B,qCAAqC,6FAA6F,6BAA6B,WAAW,4BAA4B,kBAAkB,sEAAsE,MAAM,aAAa,4VAA4V,SAAS,GAAG,iBAAiB,kBAAkB,yCAAyC,kDAAkD,WAAW,OAAO,QAAQ,EAAE,QAAQ,aAAa,yBAAyB,gBAAgB,0BAA0B,0CAA0C,iBAAiB,OAAO,QAAQ,EAAE,SAAS,cAAc,oDAAoD,EAAE,gFAAgF,oBAAoB,iBAAiB,YAAY,mBAAmB,8HAA8H,8BAA8B,4BAA4B,MAAM,gCAAgC,8EAA8E,4BAA4B,2DAA2D,iCAAiC,+EAA+E,kCAAkC,oBAAoB,mEAAmE,kCAAkC,eAAe,UAAU,eAAe,eAAe,kBAAkB,yCAAyC,kDAAkD,WAAW,mCAAmC,oBAAoB,cAAc,gHAAgH,eAAe,kDAAkD,wBAAwB,6EAA6E,qFAAqF,GAAG,mBAAmB,kFAAkF,2DAA2D,2BAA2B,kFAAkF,mCAAmC,wFAAwF,SAAS,+EAA+E,KAAK,MAAM,oEAAoE,KAAK,oHAAoH,0NAA0N,mBAAmB,sBAAsB,sCAAsC,8BAA8B,oBAAoB,6EAA6E,kBAAkB,4BAA4B,oCAAoC,yDAAyD,IAAI,oBAAoB,qFAAqF,4BAA4B,kFAAkF,0FAA0F,8IAA8I,gDAAgD,8PAA8P,8BAA8B,sSAAsS,wBAAwB,uDAAuD,+BAA+B,uQAAuQ,0EAA0E,0GAA0G,gEAAgE,aAAa,iBAAiB,EAAE,sHAAsH,KAAK,2EAA2E,4DAA4D,EAAE,KAAK,6BAA6B,2FAA2F,4DAA4D,+DAA+D,KAAK,gBAAgB,OAAO,QAAQ,EAAE,eAAe,kBAAkB,yCAAyC,kDAAkD,WAAW,QAAQ,eAAe,mDAAmD,8EAA8E,iBAAiB,uCAAuC,0BAA0B,wBAAwB,WAAW,MAAM,kFAAkF,uCAAuC,4GAA4G,wBAAwB,uDAAuD,+BAA+B,8BAA8B,8IAA8I,+DAA+D,GAAG,UAAU,qBAAqB,qBAAqB,8BAA8B,eAAe,iBAAiB,kBAAkB,yCAAyC,kDAAkD,WAAW,OAAO,QAAQ,EAAE,QAAQ,mBAAmB,sJAAsJ,iBAAiB,+BAA+B,iBAAiB,OAAO,QAAQ,EAAE,2DAA2D,oBAAoB,iBAAiB,YAAY,4BAA4B,mGAAmG,iCAAiC,+CAA+C,yDAAyD,mCAAmC,4DAA4D,mCAAmC,oBAAoB,+BAA+B,2GAA2G,mCAAmC,0GAA0G,mCAAmC,eAAe,qCAAqC,iBAAiB,OAAO,+DAA+D,EAAE,4HAA4H,gBAAgB,qBAAqB,iCAAiC,sCAAsC,4BAA4B,uDAAuD,sBAAsB,SAAS,cAAc,YAAY,mBAAmB,KAAK,yCAAyC,yCAAyC,YAAY,qIAAqI,gEAAgE,GAAG,SAAS,kBAAkB,yCAAyC,kDAAkD,WAAW,cAAc,oBAAoB,eAAe,mJAAmJ,iBAAiB,YAAY,wBAAwB,6EAA6E,yKAAyK,+EAA+E,yNAAyN,8EAA8E,kEAAkE,GAAG,6CAA6C,yCAAyC,6BAA6B,gCAAgC,kCAAkC,iDAAiD,gDAAgD,uFAAuF,MAAM,6JAA6J,wEAAwE,6GAA6G,2CAA2C,QAAQ,+BAA+B,MAAM,0BAA0B,2EAA2E,gDAAgD,2DAA2D,KAAK,oIAAoI,SAAS,oFAAoF,0DAA0D,EAAE,+GAA+G,mDAAmD,8CAA8C,oEAAoE,uLAAuL,kEAAkE,oKAAoK,UAAU,+KAA+K,aAAa,iBAAiB,qCAAqC,6CAA6C,qEAAqE,qGAAqG,gEAAgE,EAAE,oCAAoC,4EAA4E,aAAa,iBAAiB,EAAE,OAAO,wEAAwE,4CAA4C,gEAAgE,aAAa,eAAe,sDAAsD,UAAU,EAAE,sDAAsD,yCAAyC,8DAA8D,oeAAoe,+BAA+B,yKAAyK,gCAAgC,+BAA+B,6GAA6G,qHAAqH,6GAA6G,mEAAmE,MAAM,qEAAqE,MAAM,2DAA2D,MAAM,0DAA0D,8DAA8D,iCAAiC,MAAM,gEAAgE,aAAa,yCAAyC,EAAE,sCAAsC,qGAAqG,yFAAyF,gEAAgE,aAAa,yCAAyC,EAAE,sCAAsC,MAAM,gHAAgH,wGAAwG,aAAa,iBAAiB,EAAE,wCAAwC,wHAAwH,2BAA2B,mFAAmF,EAAE,4DAA4D,aAAa,iBAAiB,EAAE,sNAAsN,YAAY,8CAA8C,uHAAuH,8FAA8F,aAAa,iBAAiB,EAAE,sHAAsH,mDAAmD,gHAAgH,gEAAgE,EAAE,+KAA+K,mDAAmD,kCAAkC,qGAAqG,oEAAoE,+DAA+D,wHAAwH,IAAI,qBAAqB,SAAS,UAAU,4BAA4B,kBAAkB,yDAAyD,gDAAgD,aAAa,6CAA6C,kCAAkC,qKAAqK,8EAA8E,iCAAiC,kVAAkV,SAAS,MAAM,YAAY,iBAAiB,GAAG,yRAAyR,cAAc,MAAM,EAAE,4EAA4E,EAAE,8EAA8E,wBAAwB,+CAA+C,sDAAsD,uBAAuB,iCAAiC,eAAe,mBAAmB,wLAAwL,6CAA6C,mDAAmD,MAAM,oHAAoH,8GAA8G,yGAAyG,uDAAuD,0EAA0E,kHAAkH,oBAAoB,iBAAiB,eAAe,wBAAwB,0EAA0E,iEAAiE,GAAG,4CAA4C,8HAA8H,oBAAoB,iBAAiB,cAAc,wBAAwB,6EAA6E,yDAAyD,GAAG,oCAAoC,mPAAmP,0DAA0D,oBAAoB,iBAAiB,eAAe,wBAAwB,0EAA0E,4CAA4C,GAAG,uBAAuB,qDAAqD,gIAAgI,oBAAoB,iBAAiB,eAAe,wBAAwB,0EAA0E,2DAA2D,GAAG,sCAAsC,2DAA2D,gIAAgI,oBAAoB,iBAAiB,eAAe,wBAAwB,6EAA6E,iDAAiD,GAAG,4BAA4B,qIAAqI,wEAAwE,sBAAsB,iBAAiB,OAAO,+FAA+F,EAAE,0BAA0B,iBAAiB,OAAO,QAAQ,EAAE,eAAe,oBAAoB,eAAe,MAAM,gEAAgE,kDAAkD,wBAAwB,yBAAyB,gBAAgB,YAAY,WAAW,iBAAiB,OAAO,QAAQ,EAAE,UAAU,iBAAiB,OAAO,QAAQ,EAAE,sEAAsE,gBAAgB,qBAAqB,iCAAiC,sCAAsC,4BAA4B,uDAAuD,sBAAsB,SAAS,cAAc,YAAY,mBAAmB,KAAK,yCAAyC,yCAAyC,YAAY,qIAAqI,gEAAgE,GAAG,SAAS,kBAAkB,yCAAyC,kDAAkD,WAAW,kCAAkC,qBAAqB,0jBAA0jB,6BAA6B,0BAA0B,SAAS,qGAAqG,gCAAgC,qJAAqJ,oDAAoD,kEAAkE,mCAAmC,8BAA8B,iLAAiL,uBAAuB,iEAAiE,uKAAuK,iFAAiF,qBAAqB,uEAAuE,2BAA2B,yGAAyG,+BAA+B,0BAA0B,sCAAsC,gEAAgE,wFAAwF,0FAA0F,mBAAmB,8CAA8C,wDAAwD,2BAA2B,8CAA8C,6GAA6G,4CAA4C,4CAA4C,+BAA+B,2FAA2F,uCAAuC,wCAAwC,EAAE,4CAA4C,QAAQ,aAAa,iBAAiB,EAAE,0BAA0B,YAAY,2DAA2D,uBAAuB,8CAA8C,2GAA2G,0CAA0C,6FAA6F,8DAA8D,4BAA4B,8DAA8D,0EAA0E,sDAAsD,oDAAoD,kEAAkE,qBAAqB,iCAAiC,uCAAuC,0EAA0E,MAAM,+CAA+C,qMAAqM,8BAA8B,kCAAkC,gEAAgE,qCAAqC,kCAAkC,0FAA0F,oCAAoC,yDAAyD,SAAS,0BAA0B,WAAW,uDAAuD,+EAA+E,oFAAoF,SAAS,cAAc,yFAAyF,6DAA6D,mCAAmC,yFAAyF,mEAAmE,2BAA2B,yFAAyF,yGAAyG,iCAAiC,oBAAoB,YAAY,kIAAkI,yGAAyG,4HAA4H,iDAAiD,mBAAmB,qBAAqB,yFAAyF,4GAA4G,8CAA8C,+DAA+D,6BAA6B,6BAA6B,oBAAoB,sEAAsE,2BAA2B,oCAAoC,6BAA6B,+DAA+D,4DAA4D,6DAA6D,OAAO,6FAA6F,oBAAoB,qEAAqE,yEAAyE,4BAA4B,oBAAoB,0EAA0E,0BAA0B,uEAAuE,qBAAqB,8BAA8B,sBAAsB,0EAA0E,MAAM,gDAAgD,0KAA0K,MAAM,2CAA2C,2KAA2K,kDAAkD,6BAA6B,wSAAwS,+CAA+C,MAAM,sHAAsH,GAAG,wBAAwB,gEAAgE,6BAA6B,gEAAgE,6BAA6B,uHAAuH,yBAAyB,mHAAmH,eAAe,+CAA+C,iPAAiP,GAAG,uBAAuB,OAAO,SAAS,6aAA6a,iBAAiB,OAAO,kfAAkf,EAAE,qCAAqC,gBAAgB,qBAAqB,iCAAiC,sCAAsC,4BAA4B,uDAAuD,sBAAsB,SAAS,cAAc,YAAY,mBAAmB,KAAK,yCAAyC,yCAAyC,YAAY,qIAAqI,gEAAgE,GAAG,SAAS,kBAAkB,yCAAyC,kDAAkD,WAAW,kCAAkC,iCAAiC,klBAAklB,SAAS,0RAA0R,gBAAgB,mGAAmG,6BAA6B,6HAA6H,wCAAwC,SAAS,6CAA6C,0DAA0D,2CAA2C,GAAG,aAAa,mKAAmK,4EAA4E,sBAAsB,8CAA8C,qBAAqB,MAAM,eAAe,gDAAgD,MAAM,sCAAsC,MAAM,8CAA8C,SAAS,4BAA4B,iEAAiE,kDAAkD,MAAM,gDAAgD,aAAa,MAAM,EAAE,OAAO,GAAG,cAAc,qBAAqB,6EAA6E,2CAA2C,SAAS,GAAG,uCAAuC,gEAAgE,wDAAwD,uCAAuC,oHAAoH,qDAAqD,2BAA2B,WAAW,EAAE,+CAA+C,wDAAwD,aAAa,iBAAiB,+CAA+C,2DAA2D,uDAAuD,cAAc,iBAAiB,EAAE,+CAA+C,mCAAmC,yTAAyT,gDAAgD,uCAAuC,0BAA0B,UAAU,uDAAuD,eAAe,sDAAsD,cAAc,6CAA6C,4HAA4H,gCAAgC,uTAAuT,gDAAgD,4BAA4B,wDAAwD,gDAAgD,kNAAkN,oBAAoB,8CAA8C,gCAAgC,sFAAsF,uDAAuD,2BAA2B,mBAAmB,EAAE,wDAAwD,uCAAuC,kBAAkB,yCAAyC,kDAAkD,WAAW,aAAa,wEAAwE,SAAS,GAAG,kCAAkC,mBAAmB,iKAAiK,yBAAyB,qBAAqB,2CAA2C,EAAE,0BAA0B,qBAAqB,4CAA4C,EAAE,yBAAyB,qBAAqB,2CAA2C,EAAE,2BAA2B,qBAAqB,6CAA6C,EAAE,4BAA4B,qBAAqB,8CAA8C,EAAE,iBAAiB,iCAAiC,oDAAoD,qBAAqB,+GAA+G,oBAAoB,MAAM,2BAA2B,4MAA4M,0CAA0C,+EAA+E,+HAA+H,SAAS,+EAA+E,IAAI,cAAc,GAAG,mDAAmD,0EAA0E,sBAAsB,4BAA4B,0BAA0B,yCAAyC,WAAW,GAAG,oCAAoC,MAAM,2BAA2B,oBAAoB,yBAAyB,qFAAqF,wBAAwB,iDAAiD,mBAAmB,GAAG,IAAI,yCAAyC,QAAQ,MAAM,yIAAyI,0IAA0I,SAAS,iBAAiB,mFAAmF,KAAK,iDAAiD,6CAA6C,8DAA8D,SAAS,kDAAkD,SAAS,SAAS,kCAAkC,0BAA0B,MAAM,wBAAwB,0EAA0E,wCAAwC,kaAAka,MAAM,aAAa,sGAAsG,SAAS,GAAG,sBAAsB,gBAAgB,qBAAqB,iCAAiC,sCAAsC,4BAA4B,uDAAuD,sBAAsB,SAAS,cAAc,YAAY,mBAAmB,KAAK,yCAAyC,yCAAyC,YAAY,qIAAqI,gEAAgE,GAAG,SAAS,kBAAkB,yCAAyC,kDAAkD,WAAW,SAAS,iBAAiB,EAAE,qPAAqP,GAAG,4NAA4N,GAAG,oEAAoE,GAAG,kMAAkM,GAAG,sNAAsN,GAAG,2SAA2S,WAAW,EAAE,kCAAkC,GAAG,gDAAgD,GAAG,eAAe,kBAAkB,yCAAyC,kDAAkD,WAAW,oBAAoB,0BAA0B,2HAA2H,wBAAwB,uBAAuB,sRAAsR,aAAa,2BAA2B,cAAc,gCAAgC,yBAAyB,wBAAwB,YAAY,SAAS,YAAY,sCAAsC,uBAAuB,SAAS,SAAS,OAAO,qRAAqR,UAAU,0BAA0B,MAAM,OAAO,ojBAAojB,QAAQ,8CAA8C,gBAAgB,qBAAqB,iCAAiC,sCAAsC,4BAA4B,uDAAuD,sBAAsB,SAAS,cAAc,YAAY,mBAAmB,KAAK,yCAAyC,yCAAyC,YAAY,qIAAqI,gEAAgE,GAAG,SAAS,kBAAkB,yCAAyC,kDAAkD,WAAW,kCAAkC,yBAAyB,igBAAigB,SAAS,yHAAyH,WAAW,YAAY,6BAA6B,8BAA8B,WAAW,8DAA8D,oDAAoD,iBAAiB,oEAAoE,UAAU,iBAAiB,uBAAuB,mBAAmB,IAAI,MAAM,OAAO,YAAY,+DAA+D,SAAS,UAAU,qBAAqB,eAAe,2EAA2E,sBAAsB,cAAc,iEAAiE,uEAAuE,aAAa,oBAAoB,iBAAiB,iBAAiB,UAAU,cAAc,gDAAgD,EAAE,yBAAyB,OAAO,OAAO,qBAAqB,sCAAsC,UAAU,iEAAiE,YAAY,EAAE,mHAAmH,KAAK,qBAAqB,QAAQ,wFAAwF,gDAAgD,8HAA8H,mBAAmB,uCAAuC,iBAAiB,IAAI,0CAA0C,iCAAiC,SAAS,wEAAwE,6BAA6B,MAAM,2CAA2C,yDAAyD,gFAAgF,+BAA+B,EAAE,4FAA4F,2MAA2M,EAAE,gBAAgB,wFAAwF,uBAAuB,8DAA8D,mIAAmI,wBAAwB,oFAAoF,EAAE,0FAA0F,UAAU,MAAM,gDAAgD,6HAA6H,2BAA2B,MAAM,+FAA+F,kCAAkC,cAAc,iBAAiB,uFAAuF,+FAA+F,qOAAqO,0BAA0B,2FAA2F,kDAAkD,oBAAoB,MAAM,kCAAkC,cAAc,4DAA4D,mJAAmJ,iPAAiP,2BAA2B,8EAA8E,iCAAiC,wCAAwC,oCAAoC,iFAAiF,MAAM,EAAE,+EAA+E,iBAAiB,MAAM,uBAAuB,kCAAkC,cAAc,0BAA0B,qFAAqF,wDAAwD,6DAA6D,6BAA6B,0DAA0D,gJAAgJ,mCAAmC,wBAAwB,MAAM,kCAAkC,cAAc,0FAA0F,sMAAsM,iBAAiB,8EAA8E,iCAAiC,uBAAuB,MAAM,kCAAkC,cAAc,8FAA8F,OAAO,6EAA6E,UAAU,0HAA0H,oBAAoB,2EAA2E,GAAG,iCAAiC,0BAA0B,MAAM,kCAAkC,cAAc,sSAAsS,iBAAiB,8EAA8E,iCAAiC,uBAAuB,MAAM,kCAAkC,cAAc,4SAA4S,iBAAiB,8EAA8E,iCAAiC,yBAAyB,MAAM,qSAAqS,iBAAiB,8EAA8E,iCAAiC,iCAAiC,kCAAkC,cAAc,6OAA6O,iCAAiC,sBAAsB,MAAM,2CAA2C,iMAAiM,EAAE,6BAA6B,MAAM,SAAS,4BAA4B,qCAAqC,6MAA6M,EAAE,sBAAsB,MAAM,2CAA2C,gNAAgN,EAAE,kCAAkC,MAAM,2CAA2C,4NAA4N,EAAE,yBAAyB,MAAM,qCAAqC,wMAAwM,EAAE,0BAA0B,MAAM,+DAA+D,2CAA2C,6JAA6J,EAAE,sBAAsB,qBAAqB,sFAAsF,EAAE,yBAAyB,MAAM,wDAAwD,2CAA2C,4JAA4J,EAAE,kCAAkC,sDAAsD,2BAA2B,6EAA6E,EAAE,gCAAgC,QAAQ,2DAA2D,sCAAsC,2JAA2J,oCAAoC,yCAAyC,IAAI,MAAM,4CAA4C,iFAAiF,MAAM,OAAO,YAAY,qHAAqH,4BAA4B,4FAA4F,8BAA8B,EAAE,EAAE,4DAA4D,gEAAgE,SAAS,8EAA8E,iCAAiC,MAAM,8EAA8E,2CAA2C,gOAAgO,EAAE,kCAAkC,UAAU,gEAAgE,wBAAwB,4CAA4C,EAAE,uCAAuC,sKAAsK,EAAE,QAAQ,mOAAmO,4BAA4B,qEAAqE,2CAA2C,kCAAkC,4BAA4B,gEAAgE,EAAE,oBAAoB,6DAA6D,2CAA2C,oCAAoC,4BAA4B,wDAAwD,EAAE,6BAA6B,kDAAkD,kEAAkE,2CAA2C,6CAA6C,4BAA4B,EAAE,oCAAoC,EAAE,oDAAoD,6DAA6D,WAAW,4BAA4B,qEAAqE,2CAA2C,kCAAkC,4BAA4B,gEAAgE,WAAW,sBAAsB,kEAAkE,sBAAsB,0LAA0L,oGAAoG,iCAAiC,4BAA4B,EAAE,sCAAsC,EAAE,yCAAyC,0FAA0F,mCAAmC,gHAAgH,2EAA2E,kIAAkI,uDAAuD,gEAAgE,wBAAwB,MAAM,2CAA2C,uEAAuE,oBAAoB,gJAAgJ,EAAE,uBAAuB,MAAM,2CAA2C,gNAAgN,EAAE,qBAAqB,4KAA4K,wCAAwC,QAAQ,6MAA6M,iBAAiB,wBAAwB,KAAK,sNAAsN,GAAG,0BAA0B,cAAc,oCAAoC,UAAU,oGAAoG,eAAe,gBAAgB,qBAAqB,iCAAiC,sCAAsC,4BAA4B,uDAAuD,sBAAsB,SAAS,cAAc,YAAY,mBAAmB,KAAK,yCAAyC,yCAAyC,YAAY,qIAAqI,gEAAgE,GAAG,SAAS,kBAAkB,yCAAyC,kDAAkD,WAAW,yDAAyD,QAAQ,aAAa,wDAAwD,SAAS,GAAG,kCAAkC,+BAA+B,0lBAA0lB,kEAAkE,GAAG,SAAS,sMAAsM,WAAW,uCAAuC,2BAA2B,iFAAiF,kEAAkE,iBAAiB,eAAe,EAAE,+DAA+D,MAAM,aAAa,+EAA+E,cAAc,iEAAiE,6FAA6F,SAAS,sBAAsB,UAAU,4DAA4D,UAAU,iBAAiB,cAAc,iBAAiB,aAAa,oCAAoC,gBAAgB,qBAAqB,qCAAqC,sGAAsG,aAAa,4BAA4B,+BAA+B,kEAAkE,qCAAqC,MAAM,0GAA0G,gDAAgD,yCAAyC,yXAAyX,wBAAwB,8CAA8C,cAAc,yCAAyC,iBAAiB,yCAAyC,gCAAgC,6LAA6L,2PAA2P,sDAAsD,GAAG,wBAAwB,uEAAuE,+EAA+E,kCAAkC,0DAA0D,kEAAkE,0BAA0B,kSAAkS,yEAAyE,sBAAsB,oHAAoH,MAAM,yBAAyB,0DAA0D,+DAA+D,OAAO,iKAAiK,iDAAiD,EAAE,mEAAmE,wDAAwD,+BAA+B,mDAAmD,+BAA+B,EAAE,6CAA6C,QAAQ,+IAA+I,uCAAuC,8DAA8D,iHAAiH,OAAO,YAAY,4CAA4C,qBAAqB,8CAA8C,EAAE,iFAAiF,kBAAkB,iKAAiK,4CAA4C,sIAAsI,aAAa,6CAA6C,SAAS,yBAAyB,iKAAiK,wCAAwC,2BAA2B,qBAAqB,oBAAoB,0IAA0I,6EAA6E,EAAE,0EAA0E,0CAA0C,8DAA8D,iCAAiC,uEAAuE,oDAAoD,8EAA8E,iFAAiF,iEAAiE,4EAA4E,2IAA2I,qFAAqF,uDAAuD,OAAO,6DAA6D,4CAA4C,8DAA8D,MAAM,yBAAyB,0DAA0D,oHAAoH,sCAAsC,oDAAoD,EAAE,6BAA6B,4FAA4F,4CAA4C,GAAG,qDAAqD,2BAA2B,kEAAkE,+JAA+J,EAAE,2EAA2E,wBAAwB,gDAAgD,8EAA8E,MAAM,EAAE,kCAAkC,qDAAqD,uBAAuB,8CAA8C,+BAA+B,qCAAqC,QAAQ,yJAAyJ,uCAAuC,0DAA0D,8CAA8C,MAAM,qEAAqE,wEAAwE,6BAA6B,MAAM,0BAA0B,gGAAgG,+GAA+G,yDAAyD,oTAAoT,mEAAmE,wBAAwB,oDAAoD,qBAAqB,2CAA2C,+DAA+D,wEAAwE,yGAAyG,yCAAyC,iCAAiC,mPAAmP,gCAAgC,iJAAiJ,mEAAmE,uCAAuC,MAAM,OAAO,YAAY,kBAAkB,yBAAyB,8DAA8D,mBAAmB,6BAA6B,+DAA+D,iBAAiB,wBAAwB,SAAS,kNAAkN,GAAG,kBAAkB,yCAAyC,kDAAkD,WAAW,aAAa,qDAAqD,SAAS,GAAG,kCAAkC,qBAAqB,sQAAsQ,mBAAmB,8EAA8E,mBAAmB,gEAAgE,8DAA8D,iCAAiC,oDAAoD,qCAAqC,uMAAuM,SAAS,wDAAwD,2BAA2B,MAAM,iDAAiD,sBAAsB,2BAA2B,8CAA8C,mBAAmB,sBAAsB,uCAAuC,IAAI,0EAA0E,SAAS,sCAAsC,SAAS,2GAA2G,kBAAkB,yCAAyC,kDAAkD,WAAW,kCAAkC,iBAAiB,yMAAyM,SAAS,4EAA4E,uDAAuD,iBAAiB,2BAA2B,KAAK,sBAAsB,6JAA6J,sUAAsU,GAAG,qBAAqB,oBAAoB,qBAAqB,wBAAwB,wBAAwB,kBAAkB,kBAAkB,yCAAyC,kDAAkD,WAAW,QAAQ,mBAAmB,kJAAkJ,mBAAmB,uDAAuD,yFAAyF,SAAS,kBAAkB,qHAAqH,uBAAuB,mBAAmB,yCAAyC,kDAAkD,WAAW,SAAS,yBAAyB,wSAAwS,2HAA2H,SAAS,8PAA8P,YAAY,MAAM,oHAAoH,qBAAqB,MAAM,6EAA6E,4FAA4F,SAAS,MAAM,mDAAmD,aAAa,+DAA+D,sBAAsB,wDAAwD,wBAAwB,yEAAyE,sIAAsI,sBAAsB,uGAAuG,QAAQ,iOAAiO,mBAAmB,mBAAmB,yCAAyC,kDAAkD,WAAW,aAAa,4GAA4G,WAAW,GAAG,YAAY,OAAO,eAAe,wDAAwD,aAAa,2HAA2H,WAAW,GAAG,WAAW,6CAA6C,EAAE,gDAAgD,EAAE,yCAAyC,EAAE,yCAAyC,EAAE,mCAAmC,qBAAqB,4YAA4Y,SAAS,2IAA2I,0BAA0B,sPAAsP,uBAAuB,0GAA0G,8BAA8B,yEAAyE,uBAAuB,kGAAkG,kBAAkB,mBAAmB,2NAA2N,0BAA0B,uSAAuS,wBAAwB,WAAW,sRAAsR,4CAA4C,MAAM,WAAW,kBAAkB,yDAAyD,iEAAiE,SAAS,6BAA6B,0JAA0J,sEAAsE,EAAE,0BAA0B,2DAA2D,sEAAsE,EAAE,4BAA4B,8DAA8D,sEAAsE,EAAE,4BAA4B,8DAA8D,sEAAsE,EAAE,uCAAuC,wEAAwE,sEAAsE,EAAE,sBAAsB,0DAA0D,sEAAsE,EAAE,gCAAgC,4DAA4D,sEAAsE,EAAE,4BAA4B,0DAA0D,sEAAsE,EAAE,wCAAwC,sEAAsE,sEAAsE,EAAE,iCAAiC,6DAA6D,sEAAsE,EAAE,kCAAkC,sEAAsE,sEAAsE,EAAE,2BAA2B,wCAAwC,iCAAiC,QAAQ,+HAA+H,EAAE,iHAAiH,EAAE,mCAAmC,QAAQ,iIAAiI,EAAE,mHAAmH,EAAE,4BAA4B,oIAAoI,0BAA0B,kIAAkI,6BAA6B,iIAAiI,2BAA2B,6HAA6H,qCAAqC,+GAA+G,oCAAoC,gHAAgH,gCAAgC,IAAI,4EAA4E,2DAA2D,qDAAqD,WAAW,yMAAyM,8GAA8G,qEAAqE,iBAAiB,mDAAmD,qEAAqE,2DAA2D,6GAA6G,wFAAwF,MAAM,MAAM,wIAAwI,yIAAyI,SAAS,uBAAuB,qEAAqE,8BAA8B,eAAe,0FAA0F,wBAAwB,+DAA+D,uBAAuB,0EAA0E,oBAAoB,qEAAqE,iBAAiB,0IAA0I,4BAA4B,mFAAmF,oBAAoB,0BAA0B,iBAAiB,wBAAwB,aAAa,oQAAoQ,GAAG,mBAAmB,yCAAyC,kDAAkD,WAAW,aAAa,mHAAmH,mCAAmC,mBAAmB,+IAA+I,iEAAiE,uEAAuE,SAAS,+JAA+J,8BAA8B,wBAAwB,8DAA8D,GAAG,2BAA2B,kCAAkC,gCAAgC,4BAA4B,+FAA+F,wGAAwG,4CAA4C,oBAAoB,4DAA4D,mBAAmB,+EAA+E,kCAAkC,sIAAsI,yEAAyE,oCAAoC,uHAAuH,6DAA6D,EAAE,YAAY,IAAI,mBAAmB,+CAA+C,0BAA0B,0CAA0C,sDAAsD,kCAAkC,mCAAmC,oCAAoC,2BAA2B,gCAAgC,OAAO,kCAAkC,OAAO,6CAA6C,OAAO,mCAAmC,QAAQ,oCAAoC,uCAAuC,wBAAwB,0CAA0C,sBAAsB,2BAA2B,+BAA+B,MAAM,mDAAmD,GAAG,6BAA6B,+BAA+B,MAAM,qDAAqD,GAAG,mCAAmC,+BAA+B,MAAM,2DAA2D,GAAG,yBAAyB,+BAA+B,MAAM,iDAAiD,GAAG,qBAAqB,+BAA+B,MAAM,6CAA6C,GAAG,yBAAyB,sCAAsC,4BAA4B,oBAAoB,iDAAiD,mBAAmB,uCAAuC,4CAA4C,qBAAqB,uCAAuC,8CAA8C,oCAAoC,2EAA2E,wCAAwC,MAAM,oBAAoB,sCAAsC,8CAA8C,2DAA2D,yCAAyC,sCAAsC,2CAA2C,iCAAiC,sCAAsC,gEAAgE,gBAAgB,mQAAmQ,mFAAmF,iBAAiB,qBAAqB,iCAAiC,sCAAsC,4BAA4B,uDAAuD,sBAAsB,SAAS,eAAe,YAAY,mBAAmB,KAAK,yCAAyC,0CAA0C,aAAa,sIAAsI,gEAAgE,GAAG,SAAS,mBAAmB,yCAAyC,kDAAkD,WAAW,4OAA4O,SAAS,qCAAqC,uoCAAuoC,IAAI,oDAAoD,GAAG,yBAAyB,yBAAyB,iCAAiC,2IAA2I,yDAAyD,yCAAyC,uHAAuH,gCAAgC,gBAAgB,gDAAgD,eAAe,+CAA+C,UAAU,0CAA0C,SAAS,2WAA2W,oBAAoB,4BAA4B,4BAA4B,WAAW,4BAA4B,wBAAwB,wCAAwC,qBAAqB,6BAA6B,6BAA6B,WAAW,4BAA4B,eAAe,kGAAkG,gBAAgB,oBAAoB,2BAA2B,mBAAmB,0BAA0B,sBAAsB,mDAAmD,kBAAkB,4DAA4D,cAAc,8GAA8G,eAAe,6BAA6B,WAAW,uIAAuI,yCAAyC,kDAAkD,gDAAgD,4BAA4B,qEAAqE,8EAA8E,qBAAqB,sBAAsB,MAAM,iFAAiF,GAAG,+CAA+C,0CAA0C,gBAAgB,0BAA0B,EAAE,4CAA4C,8BAA8B,UAAU,0EAA0E,EAAE,8EAA8E,yDAAyD,GAAG,kCAAkC,UAAU,0CAA0C,EAAE,8EAA8E,wIAAwI,SAAS,4BAA4B,6DAA6D,GAAG,OAAO,wBAAwB,sDAAsD,IAAI,wBAAwB,kCAAkC,wBAAwB,mDAAmD,UAAU,qCAAqC,mCAAmC,iBAAiB,8HAA8H,iHAAiH,6BAA6B,iCAAiC,mDAAmD,yCAAyC,eAAe,kBAAkB,6DAA6D,kBAAkB,oBAAoB,oHAAoH,eAAe,MAAM,EAAE,aAAa,EAAE,iBAAiB,oBAAoB,SAAS,mDAAmD,oBAAoB,eAAe,iEAAiE,mFAAmF,0IAA0I,+JAA+J,mEAAmE,eAAe,4UAA4U,4CAA4C,8GAA8G,8DAA8D,kBAAkB,mEAAmE,SAAS,qEAAqE,MAAM,EAAE,MAAM,GAAG,eAAe,MAAM,EAAE,UAAU,EAAE,GAAG,YAAY,mBAAmB,aAAa,qHAAqH,+IAA+I,0HAA0H,wKAAwK,mFAAmF,mBAAmB,SAAS,4DAA4D,IAAI,iDAAiD,uBAAuB,aAAa,kPAAkP,iBAAiB,oSAAoS,yLAAyL,SAAS,ulBAAulB,WAAW,cAAc,uDAAuD,4BAA4B,oEAAoE,oDAAoD,EAAE,8EAA8E,yEAAyE,WAAW,mEAAmE,2BAA2B,GAAG,kCAAkC,UAAU,0CAA0C,EAAE,8EAA8E,iFAAiF,kFAAkF,wCAAwC,GAAG,0BAA0B,mBAAmB,uBAAuB,2DAA2D,QAAQ,0CAA0C,6BAA6B,MAAM,eAAe,gDAAgD,QAAQ,oDAAoD,EAAE,mFAAmF,sDAAsD,sEAAsE,YAAY,uCAAuC,YAAY,gDAAgD,qIAAqI,QAAQ,gEAAgE,4JAA4J,oEAAoE,kBAAkB,0CAA0C,MAAM,sGAAsG,KAAK,uCAAuC,iFAAiF,sCAAsC,mEAAmE,iCAAiC,iBAAiB,EAAE,8BAA8B,iCAAiC,iBAAiB,EAAE,iBAAiB,uEAAuE,EAAE,4FAA4F,yHAAyH,mBAAmB,wBAAwB,GAAG,cAAc,uBAAuB,mBAAmB,EAAE,GAAG,GAAG,4BAA4B,6CAA6C,6CAA6C,oDAAoD,EAAE,mFAAmF,mDAAmD,WAAW,kBAAkB,gDAAgD,uFAAuF,wHAAwH,yCAAyC,iBAAiB,6DAA6D,EAAE,4FAA4F,0GAA0G,wBAAwB,kDAAkD,4BAA4B,EAAE,uCAAuC,yBAAyB,GAAG,4BAA4B,4GAA4G,oDAAoD,EAAE,mFAAmF,wCAAwC,WAAW,2GAA2G,kBAAkB,0CAA0C,oKAAoK,2BAA2B,YAAY,QAAQ,YAAY,yBAAyB,GAAG,iCAAiC,oFAAoF,2DAA2D,yCAAyC,2BAA2B,GAAG,sBAAsB,MAAM,6DAA6D,uEAAuE,aAAa,sIAAsI,+CAA+C,qBAAqB,IAAI,YAAY,qHAAqH,mBAAmB,yCAAyC,kDAAkD,WAAW,qBAAqB,OAAO,aAAa,kCAAkC,WAAW,GAAG,mCAAmC,+BAA+B,8bAA8b,mCAAmC,4EAA4E,8DAA8D,oCAAoC,kBAAkB,EAAE,GAAG,kCAAkC,MAAM,gLAAgL,ijBAAijB,gBAAgB,gDAAgD,eAAe,+CAA+C,iBAAiB,mDAAmD,qBAAqB,+CAA+C,2BAA2B,mDAAmD,SAAS,MAAM,eAAe,wCAAwC,8iBAA8iB,+BAA+B,kJAAkJ,8GAA8G,iCAAiC,8BAA8B,0BAA0B,kDAAkD,qBAAqB,iDAAiD,6BAA6B,yJAAyJ,gCAAgC,mBAAmB,+DAA+D,MAAM,0FAA0F,0EAA0E,kBAAkB,wGAAwG,IAAI,wCAAwC,GAAG,oBAAoB,kCAAkC,oBAAoB,gEAAgE,gCAAgC,+BAA+B,kBAAkB,6BAA6B,IAAI,GAAG,sBAAsB,MAAM,0EAA0E,2DAA2D,GAAG,+BAA+B,iDAAiD,kBAAkB,6EAA6E,mBAAmB,uBAAuB,4BAA4B,+CAA+C,0RAA0R,gDAAgD,MAAM,6BAA6B,4IAA4I,iCAAiC,MAAM,kBAAkB,qDAAqD,wCAAwC,UAAU,sBAAsB,oCAAoC,kBAAkB,gCAAgC,aAAa,SAAS,iBAAiB,oCAAoC,uBAAuB,gDAAgD,gCAAgC,gDAAgD,kCAAkC,6DAA6D,MAAM,uCAAuC,uFAAuF,SAAS,0BAA0B,8BAA8B,kKAAkK,wHAAwH,yGAAyG,gBAAgB,0BAA0B,qCAAqC,eAAe,wBAAwB,MAAM,0DAA0D,yCAAyC,+BAA+B,6EAA6E,OAAO,OAAO,qDAAqD,iBAAiB,iCAAiC,GAAG,4BAA4B,SAAS,uHAAuH,mCAAmC,MAAM,MAAM,uDAAuD,kCAAkC,kBAAkB,qCAAqC,MAAM,4BAA4B,gDAAgD,eAAe,yCAAyC,gBAAgB,2BAA2B,0DAA0D,sNAAsN,MAAM,+FAA+F,gCAAgC,YAAY,EAAE,+GAA+G,4BAA4B,iEAAiE,qBAAqB,6BAA6B,8BAA8B,0DAA0D,YAAY,GAAG,KAAK,+BAA+B,iDAAiD,YAAY,qBAAqB,qBAAqB,oFAAoF,YAAY,KAAK,yBAAyB,iCAAiC,8BAA8B,iDAAiD,6BAA6B,GAAG,qBAAqB,gBAAgB,sBAAsB,2DAA2D,4BAA4B,qBAAqB,iBAAiB,gJAAgJ,0BAA0B,wDAAwD,kEAAkE,gCAAgC,0DAA0D,mBAAmB,2FAA2F,qCAAqC,0BAA0B,cAAc,sBAAsB,eAAe,+DAA+D,6BAA6B,6CAA6C,8DAA8D,GAAG,MAAM,2CAA2C,SAAS,4HAA4H,oBAAoB,iFAAiF,kCAAkC,6NAA6N,iBAAiB,8BAA8B,mKAAmK,kBAAkB,mBAAmB,yCAAyC,kDAAkD,WAAW,mCAAmC,mCAAmC,w9BAAw9B,kCAAkC,MAAM,SAAS,2BAA2B,GAAG,6CAA6C,uGAAuG,IAAI,8BAA8B,GAAG,mNAAmN,oBAAoB,wJAAwJ,oEAAoE,4CAA4C,+DAA+D,iFAAiF,GAAG,qBAAqB,4CAA4C,oIAAoI,6DAA6D,MAAM,uBAAuB,WAAW,8DAA8D,gCAAgC,2IAA2I,8BAA8B,oCAAoC,qBAAqB,6DAA6D,kDAAkD,6BAA6B,+BAA+B,kFAAkF,qOAAqO,8BAA8B,wGAAwG,2JAA2J,6GAA6G,sDAAsD,wBAAwB,sDAAsD,6BAA6B,0GAA0G,0BAA0B,+BAA+B,yBAAyB,kDAAkD,iCAAiC,wCAAwC,gCAAgC,oDAAoD,gCAAgC,IAAI,iGAAiG,kDAAkD,6FAA6F,4FAA4F,MAAM,+DAA+D,SAAS,8EAA8E,iBAAiB,8GAA8G,iBAAiB,mCAAmC,iCAAiC,8BAA8B,2IAA2I,gCAAgC,IAAI,MAAM,6BAA6B,eAAe,OAAO,8BAA8B,SAAS,8EAA8E,iCAAiC,iEAAiE,kDAAkD,2CAA2C,wCAAwC,gEAAgE,2DAA2D,8BAA8B,MAAM,GAAG,kBAAkB,aAAa,2HAA2H,2BAA2B,KAAK,gDAAgD,gEAAgE,mEAAmE,qBAAqB,SAAS,YAAY,gEAAgE,oBAAoB,MAAM,GAAG,kBAAkB,+DAA+D,2HAA2H,GAAG,wCAAwC,qBAAqB,qQAAqQ,uCAAuC,oJAAoJ,iDAAiD,qCAAqC,wBAAwB,oCAAoC,kBAAkB,iKAAiK,6BAA6B,gVAAgV,uBAAuB,+BAA+B,yCAAyC,sGAAsG,qGAAqG,sBAAsB,2BAA2B,yFAAyF,kBAAkB,iDAAiD,wBAAwB,2CAA2C,mCAAmC,qCAAqC,2DAA2D,kBAAkB,4DAA4D,kBAAkB,sGAAsG,uBAAuB,uBAAuB,MAAM,gFAAgF,iBAAiB,mDAAmD,oBAAoB,yDAAyD,4IAA4I,kCAAkC,gFAAgF,yHAAyH,wFAAwF,wGAAwG,+BAA+B,iPAAiP,oBAAoB,kFAAkF,+CAA+C,SAAS,8EAA8E,+BAA+B,wCAAwC,sFAAsF,SAAS,kEAAkE,yEAAyE,oCAAoC,4BAA4B,uGAAuG,SAAS,gMAAgM,6BAA6B,QAAQ,MAAM,kCAAkC,2IAA2I,iCAAiC,aAAa,oKAAoK,0EAA0E,iCAAiC,QAAQ,IAAI,8BAA8B,UAAU,IAAI,qBAAqB,OAAO,YAAY,+DAA+D,6NAA6N,SAAS,kDAAkD,wCAAwC,oDAAoD,iGAAiG,aAAa,yBAAyB,gBAAgB,UAAU,0BAA0B,6IAA6I,4HAA4H,+JAA+J,+BAA+B,8FAA8F,EAAE,6DAA6D,SAAS,sgBAAsgB,iBAAiB,wBAAwB,UAAU,gPAAgP,GAAG,iBAAiB,qBAAqB,iCAAiC,sCAAsC,4BAA4B,uDAAuD,sBAAsB,SAAS,eAAe,YAAY,mBAAmB,KAAK,yCAAyC,0CAA0C,aAAa,sIAAsI,gEAAgE,GAAG,SAAS,mBAAmB,yCAAyC,kDAAkD,WAAW,mCAAmC,yBAAyB,8QAA8Q,sBAAsB,sPAAsP,IAAI,qBAAqB,GAAG,2CAA2C,GAAG,SAAS,gLAAgL,4BAA4B,kBAAkB,wJAAwJ,8BAA8B,oCAAoC,yJAAyJ,yBAAyB,gCAAgC,oBAAoB,wBAAwB,eAAe,kDAAkD,wBAAwB,8BAA8B,uDAAuD,4DAA4D,+BAA+B,oDAAoD,mDAAmD,mDAAmD,wCAAwC,EAAE,wGAAwG,gGAAgG,oBAAoB,EAAE,4FAA4F,mFAAmF,2BAA2B,WAAW,EAAE,qEAAqE,gCAAgC,sDAAsD,0BAA0B,4BAA4B,+CAA+C,6CAA6C,MAAM,gDAAgD,eAAe,iBAAiB,gCAAgC,qBAAqB,KAAK,KAAK,aAAa,mCAAmC,qCAAqC,mBAAmB,SAAS,oCAAoC,sCAAsC,kFAAkF,SAAS,oBAAoB,mEAAmE,kBAAkB,uGAAuG,oBAAoB,2DAA2D,aAAa,8CAA8C,0BAA0B,8BAA8B,KAAK,iBAAiB,qBAAqB,iCAAiC,sCAAsC,4BAA4B,uDAAuD,sBAAsB,SAAS,eAAe,YAAY,mBAAmB,KAAK,yCAAyC,0CAA0C,aAAa,sIAAsI,gEAAgE,GAAG,SAAS,mBAAmB,yCAAyC,kDAAkD,WAAW,mCAAmC,eAAe,8DAA8D,0BAA0B,0CAA0C,yrBAAyrB,kIAAkI,2BAA2B,qFAAqF,mBAAmB,MAAM,2JAA2J,uHAAuH,6FAA6F,mCAAmC,uGAAuG,wCAAwC,yGAAyG,wCAAwC,iGAAiG,mCAAmC,yGAAyG,mCAAmC,+FAA+F,mCAAmC,uHAAuH,4BAA4B,yNAAyN,mBAAmB,yCAAyC,yBAAyB,2CAA2C,2BAA2B,iCAAiC,gCAAgC,QAAQ,WAAW,2aAA2a,QAAQ,iSAAiS,QAAQ,eAAe,EAAE,gJAAgJ,wEAAwE,KAAK,sBAAsB,oNAAoN,sBAAsB,0CAA0C,8BAA8B,iGAAiG,qBAAqB,yCAAyC,0BAA0B,8CAA8C,2BAA2B,0FAA0F,SAAS,6ZAA6Z,aAAa,wBAAwB,YAAY,qEAAqE,eAAe,4DAA4D,gBAAgB,kCAAkC,uBAAuB,mDAAmD,gBAAgB,wBAAwB,aAAa,2CAA2C,4BAA4B,qDAAqD,YAAY,sEAAsE,kBAAkB,6BAA6B,iCAAiC,0CAA0C,8BAA8B,oDAAoD,yBAAyB,mDAAmD,wBAAwB,6BAA6B,uFAAuF,6EAA6E,kDAAkD,eAAe,sBAAsB,iBAAiB,0BAA0B,SAAS,0BAA0B,uBAAuB,uBAAuB,WAAW,4BAA4B,0BAA0B,uDAAuD,wBAAwB,mEAAmE,uBAAuB,8DAA8D,wBAAwB,mEAAmE,eAAe,MAAM,4EAA4E,gDAAgD,4TAA4T,2DAA2D,+BAA+B,2GAA2G,8CAA8C,yCAAyC,+BAA+B,+FAA+F,uFAAuF,wCAAwC,sDAAsD,+BAA+B,iHAAiH,kBAAkB,+GAA+G,kFAAkF,0EAA0E,GAAG,sBAAsB,oOAAoO,+CAA+C,uBAAuB,oOAAoO,2DAA2D,kBAAkB,4DAA4D,6CAA6C,QAAQ,sBAAsB,UAAU,wFAAwF,mCAAmC,uIAAuI,WAAW,kBAAkB,kCAAkC,eAAe,+FAA+F,YAAY,sBAAsB,UAAU,wFAAwF,kCAAkC,uIAAuI,+HAA+H,YAAY,sBAAsB,6EAA6E,sBAAsB,oOAAoO,8BAA8B,4DAA4D,+BAA+B,oCAAoC,qBAAqB,oOAAoO,8BAA8B,2DAA2D,8BAA8B,oEAAoE,2BAA2B,oOAAoO,8BAA8B,iEAAiE,oCAAoC,oEAAoE,6BAA6B,oOAAoO,8BAA8B,4DAA4D,sCAAsC,oEAAoE,kCAAkC,oOAAoO,8BAA8B,iEAAiE,2CAA2C,oEAAoE,0BAA0B,oOAAoO,8BAA8B,gEAAgE,mCAAmC,oEAAoE,0BAA0B,uIAAuI,KAAK,sBAAsB,8CAA8C,sBAAsB,8DAA8D,2CAA2C,uBAAuB,8DAA8D,8GAA8G,gBAAgB,0EAA0E,uBAAuB,uGAAuG,4EAA4E,oGAAoG,EAAE,+GAA+G,sBAAsB,8DAA8D,mCAAmC,wFAAwF,gCAAgC,4GAA4G,0BAA0B,sCAAsC,kFAAkF,EAAE,mCAAmC,2CAA2C,kBAAkB,6BAA6B,oBAAoB,4EAA4E,qBAAqB,+FAA+F,2DAA2D,+BAA+B,4EAA4E,iCAAiC,4CAA4C,uBAAuB,yBAAyB,4BAA4B,8FAA8F,kFAAkF,aAAa,0FAA0F,2CAA2C,kBAAkB,yBAAyB,gCAAgC,8BAA8B,IAAI,6BAA6B,0DAA0D,YAAY,uCAAuC,eAAe,8BAA8B,4BAA4B,2CAA2C,6BAA6B,yBAAyB,4CAA4C,gCAAgC,qBAAqB,sDAAsD,SAAS,GAAG,cAAc,kEAAkE,kBAAkB,wBAAwB,2CAA2C,MAAM,kEAAkE,GAAG,6BAA6B,wBAAwB,8DAA8D,MAAM,kEAAkE,GAAG,gBAAgB,8DAA8D,wJAAwJ,aAAa,YAAY,gBAAgB,8BAA8B,aAAa,mBAAmB,iCAAiC,qBAAqB,kCAAkC,uBAAuB,sCAAsC,uBAAuB,mBAAmB,mEAAmE,qBAAqB,8BAA8B,eAAe,iBAAiB,WAAW,KAAK,EAAE,EAAE,yBAAyB,eAAe,0BAA0B,SAAS,oCAAoC,MAAM,0DAA0D,+CAA+C,SAAS,kBAAkB,8BAA8B,6GAA6G,mBAAmB,8BAA8B,eAAe,iBAAiB,KAAK,EAAE,EAAE,uBAAuB,yBAAyB,eAAe,aAAa,SAAS,sBAAsB,iDAAiD,kBAAkB,yEAAyE,mFAAmF,6BAA6B,iBAAiB,GAAG,kBAAkB,kDAAkD,gBAAgB,sBAAsB,iCAAiC,8BAA8B,aAAa,GAAG,oCAAoC,8BAA8B,gBAAgB,GAAG,0BAA0B,UAAU,2FAA2F,aAAa,MAAM,0BAA0B,UAAU,2FAA2F,aAAa,MAAM,0BAA0B,8BAA8B,aAAa,GAAG,0BAA0B,8BAA8B,aAAa,GAAG,uBAAuB,oDAAoD,6GAA6G,qEAAqE,8BAA8B,8BAA8B,GAAG,wBAAwB,+HAA+H,qBAAqB,mEAAmE,QAAQ,MAAM,MAAM,8BAA8B,4CAA4C,6BAA6B,iBAAiB,GAAG,SAAS,2BAA2B,kEAAkE,6BAA6B,MAAM,gCAAgC,WAAW,IAAI,sCAAsC,SAAS,yCAAyC,2CAA2C,iCAAiC,8BAA8B,iFAAiF,oBAAoB,4CAA4C,kCAAkC,8DAA8D,0BAA0B,SAAS,WAAW,kGAAkG,wBAAwB,yEAAyE,wBAAwB,8EAA8E,qBAAqB,6EAA6E,6BAA6B,8EAA8E,mBAAmB,wDAAwD,mBAAmB,0BAA0B,kCAAkC,gBAAgB,gDAAgD,uCAAuC,gBAAgB,sDAAsD,iCAAiC,qCAAqC,kBAAkB,iFAAiF,6BAA6B,8HAA8H,qBAAqB,iFAAiF,2BAA2B,cAAc,EAAE,gHAAgH,gBAAgB,8BAA8B,SAAS,GAAG,sCAAsC,4FAA4F,kBAAkB,wDAAwD,oBAAoB,sBAAsB,UAAU,sGAAsG,uCAAuC,8FAA8F,wIAAwI,iBAAiB,wBAAwB,OAAO,2CAA2C,GAAG,iBAAiB,sEAAsE,mBAAmB,yCAAyC,kDAAkD,WAAW,SAAS,yBAAyB,wTAAwT,YAAY,SAAS,sLAAsL,+FAA+F,0DAA0D,mJAAmJ,qBAAqB,WAAW,eAAe,WAAW,EAAE,qFAAqF,eAAe,oBAAoB,mBAAmB,yCAAyC,kDAAkD,WAAW,aAAa,gCAAgC,WAAW,GAAG,mCAAmC,iCAAiC,otBAAotB,IAAI,wCAAwC,GAAG,+CAA+C,uDAAuD,4FAA4F,GAAG,SAAS,+SAA+S,gCAAgC,gHAAgH,gCAAgC,gJAAgJ,sCAAsC,qDAAqD,2BAA2B,+GAA+G,kCAAkC,8BAA8B,+BAA+B,6JAA6J,sJAAsJ,uCAAuC,oDAAoD,uBAAuB,8CAA8C,yCAAyC,oBAAoB,6GAA6G,EAAE,yBAAyB,2EAA2E,wBAAwB,iCAAiC,uCAAuC,8BAA8B,4BAA4B,iCAAiC,6BAA6B,8BAA8B,qBAAqB,kDAAkD,4BAA4B,sOAAsO,aAAa,2CAA2C,8GAA8G,uBAAuB,uDAAuD,2PAA2P,mCAAmC,8CAA8C,MAAM,yBAAyB,0DAA0D,yLAAyL,kBAAkB,kBAAkB,wDAAwD,eAAe,SAAS,4BAA4B,8BAA8B,kBAAkB,gCAAgC,sCAAsC,mDAAmD,QAAQ,EAAE,gEAAgE,yBAAyB,iCAAiC,0BAA0B,kCAAkC,MAAM,4FAA4F,4EAA4E,yCAAyC,MAAM,WAAW,mEAAmE,gKAAgK,kBAAkB,GAAG,sEAAsE,kCAAkC,4DAA4D,sBAAsB,8BAA8B,KAAK,EAAE,EAAE,yCAAyC,0GAA0G,0BAA0B,0BAA0B,4BAA4B,8HAA8H,gPAAgP,6DAA6D,MAAM,gDAAgD,2CAA2C,+KAA+K,qDAAqD,+DAA+D,aAAa,eAAe,gCAAgC,6YAA6Y,+CAA+C,gBAAgB,+EAA+E,gCAAgC,iBAAiB,wBAAwB,aAAa,kFAAkF,GAAG,mBAAmB,yCAAyC,kDAAkD,WAAW,mCAAmC,2BAA2B,kYAAkY,SAAS,2KAA2K,8BAA8B,kCAAkC,6BAA6B,6BAA6B,gCAAgC,yHAAyH,yBAAyB,OAAO,gCAAgC,oDAAoD,yEAAyE,IAAI,KAAK,oDAAoD,gDAAgD,0BAA0B,0BAA0B,yFAAyF,gCAAgC,kBAAkB,wFAAwF,gCAAgC,yDAAyD,iBAAiB,GAAG,8DAA8D,uCAAuC,kFAAkF,0BAA0B,0BAA0B,wGAAwG,kBAAkB,mGAAmG,QAAQ,qCAAqC,EAAE,UAAU,mBAAmB,yCAAyC,kDAAkD,WAAW,mCAAmC,qBAAqB,6NAA6N,wBAAwB,+EAA+E,uBAAuB,4FAA4F,0BAA0B,uCAAuC,qBAAqB,gDAAgD,qBAAqB,wFAAwF,8BAA8B,mBAAmB,0EAA0E,wBAAwB,MAAM,gFAAgF,yFAAyF,SAAS,2FAA2F,4BAA4B,mBAAmB,yCAAyC,kDAAkD,WAAW,mCAAmC,eAAe,wIAAwI,SAAS,4FAA4F,mBAAmB,oCAAoC,oEAAoE,oJAAoJ,kCAAkC,0IAA0I,6BAA6B,uIAAuI,+BAA+B,6EAA6E,gCAAgC,gEAAgE,gCAAgC,wFAAwF,6BAA6B,4HAA4H,6BAA6B,0IAA0I,wFAAwF,SAAS,gCAAgC,oEAAoE,kBAAkB,oBAAoB,gCAAgC,SAAS,+BAA+B,wCAAwC,qBAAqB,+GAA+G,4DAA4D,iBAAiB,wBAAwB,YAAY,kFAAkF,GAAG,mBAAmB,yCAAyC,kDAAkD,WAAW,mCAAmC,+BAA+B,sfAAsf,SAAS,oOAAoO,oBAAoB,+FAA+F,uFAAuF,6BAA6B,mJAAmJ,gMAAgM,8BAA8B,mJAAmJ,qJAAqJ,sBAAsB,iEAAiE,+JAA+J,uBAAuB,iEAAiE,qHAAqH,mCAAmC,uIAAuI,yDAAyD,kCAAkC,uIAAuI,wDAAwD,sBAAsB,kDAAkD,eAAe,yCAAyC,iCAAiC,0BAA0B,oDAAoD,sEAAsE,SAAS,kDAAkD,eAAe,yCAAyC,iCAAiC,qBAAqB,wCAAwC,uBAAuB,uEAAuE,qBAAqB,sBAAsB,4BAA4B,wBAAwB,wEAAwE,qBAAqB,wCAAwC,uBAAuB,uEAAuE,qBAAqB,qBAAqB,yEAAyE,0BAA0B,kDAAkD,0BAA0B,8DAA8D,0CAA0C,2BAA2B,yCAAyC,oBAAoB,6BAA6B,qBAAqB,4EAA4E,mBAAmB,kEAAkE,mBAAmB,+CAA+C,iCAAiC,6BAA6B,8DAA8D,wBAAwB,yCAAyC,wBAAwB,yCAAyC,yBAAyB,kDAAkD,8BAA8B,gDAAgD,yBAAyB,kFAAkF,qBAAqB,8EAA8E,oBAAoB,gEAAgE,cAAc,kBAAkB,2DAA2D,gFAAgF,yCAAyC,4CAA4C,mFAAmF,+BAA+B,yNAAyN,kBAAkB,sDAAsD,8EAA8E,8DAA8D,sDAAsD,gKAAgK,qDAAqD,gDAAgD,SAAS,gDAAgD,+DAA+D,UAAU,8CAA8C,UAAU,EAAE,SAAS,mHAAmH,mBAAmB,2EAA2E,iBAAiB,qBAAqB,iCAAiC,sCAAsC,4BAA4B,uDAAuD,sBAAsB,SAAS,eAAe,YAAY,mBAAmB,KAAK,yCAAyC,0CAA0C,aAAa,sIAAsI,gEAAgE,GAAG,SAAS,mBAAmB,yCAAyC,kDAAkD,WAAW,mCAAmC,eAAe,+LAA+L,sBAAsB,oEAAoE,SAAS,+DAA+D,aAAa,wCAAwC,QAAQ,kCAAkC,WAAW,uCAAuC,OAAO,8BAA8B,wBAAwB,2CAA2C,sBAAsB,4CAA4C,sBAAsB,yCAAyC,yBAAyB,MAAM,sGAAsG,SAAS,8BAA8B,kEAAkE,GAAG,yBAAyB,kCAAkC,0BAA0B,SAAS,kBAAkB,+BAA+B,WAAW,2BAA2B,6CAA6C,kCAAkC,8LAA8L,iBAAiB,0BAA0B,kBAAkB,6BAA6B,sCAAsC,SAAS,wIAAwI,qCAAqC,qMAAqM,OAAO,8CAA8C,iBAAiB,+DAA+D,0BAA0B,SAAS,+BAA+B,6BAA6B,6BAA6B,WAAW,4BAA4B,qCAAqC,kLAAkL,6BAA6B,mIAAmI,EAAE,0BAA0B,+HAA+H,kDAAkD,wBAAwB,2BAA2B,iCAAiC,yEAAyE,+BAA+B,+CAA+C,gBAAgB,EAAE,+EAA+E,cAAc,4DAA4D,iBAAiB,wBAAwB,UAAU,2IAA2I,GAAG,mBAAmB,yCAAyC,kDAAkD,WAAW,mCAAmC,qBAAqB,gcAAgc,qBAAqB,mDAAmD,2GAA2G,GAAG,SAAS,QAAQ,8LAA8L,gCAAgC,kRAAkR,cAAc,QAAQ,8FAA8F,oBAAoB,4FAA4F,eAAe,2FAA2F,eAAe,uCAAuC,kBAAkB,IAAI,yBAAyB,8HAA8H,gMAAgM,QAAQ,qBAAqB,SAAS,eAAe,MAAM,IAAI,gDAAgD,kDAAkD,aAAa,oCAAoC,qBAAqB,oBAAoB,mCAAmC,mBAAmB,yCAAyC,kDAAkD,WAAW,SAAS,iBAAiB,oGAAoG,yBAAyB,4BAA4B,UAAU,mCAAmC,eAAe,uBAAuB,wEAAwE,cAAc,qBAAqB,MAAM,eAAe,oDAAoD,sCAAsC,+DAA+D,oBAAoB,UAAU,2DAA2D,2CAA2C,kDAAkD,gIAAgI,gCAAgC,UAAU,uEAAuE,2CAA2C,kDAAkD,gIAAgI,sCAAsC,QAAQ,2DAA2D,mDAAmD,kDAAkD,gFAAgF,2BAA2B,MAAM,QAAQ,2DAA2D,sCAAsC,uBAAuB,MAAM,QAAQ,uDAAuD,sCAAsC,SAAS,kDAAkD,mBAAmB,yCAAyC,kDAAkD,WAAW,mCAAmC,mBAAmB,uKAAuK,wIAAwI,kDAAkD,+GAA+G,kEAAkE,qBAAqB,0DAA0D,qBAAqB,oCAAoC,oBAAoB,mCAAmC,gCAAgC,+CAA+C,yBAAyB,8DAA8D,0CAA0C,sCAAsC,qDAAqD,uBAAuB,sCAAsC,sCAAsC,sCAAsC,oCAAoC,MAAM,aAAa,WAAW,gIAAgI,SAAS,MAAM,yHAAyH,iBAAiB,qBAAqB,iCAAiC,sCAAsC,4BAA4B,uDAAuD,sBAAsB,SAAS,mBAAmB,yCAAyC,kDAAkD,WAAW,mCAAmC,qBAAqB,sVAAsV,SAAS,uOAAuO,kBAAkB,kCAAkC,8BAA8B,eAAe,4EAA4E,IAAI,uBAAuB,GAAG,wHAAwH,wEAAwE,8JAA8J,GAAG,iCAAiC,oDAAoD,qCAAqC,uBAAuB,WAAW,kBAAkB,0CAA0C,gFAAgF,6FAA6F,MAAM,8HAA8H,0BAA0B,4EAA4E,8FAA8F,8CAA8C,mBAAmB,8CAA8C,0BAA0B,4CAA4C,qCAAqC,0BAA0B,wCAAwC,MAAM,4CAA4C,IAAI,WAAW,GAAG,eAAe,0CAA0C,sBAAsB,GAAG,gDAAgD,qCAAqC,0BAA0B,6DAA6D,6DAA6D,2CAA2C,YAAY,mBAAmB,KAAK,yCAAyC,0CAA0C,aAAa,sIAAsI,gEAAgE,GAAG,SAAS,EAAE,kHAAkH,sHAAsH,kCAAkC,mBAAmB,mBAAmB,yCAAyC,kDAAkD,WAAW,SAAS,eAAe,QAAQ,g0BAAg0B,YAAY,MAAM,6FAA6F,aAAa,+BAA+B,oBAAoB,MAAM,+FAA+F,sBAAsB,MAAM,iGAAiG,4BAA4B,0CAA0C,6BAA6B,qHAAqH,2BAA2B,kHAAkH,2BAA2B,oHAAoH,0BAA0B,2LAA2L,yBAAyB,QAAQ,oJAAoJ,mBAAmB,eAAe,wDAAwD,mBAAmB,yCAAyC,kDAAkD,WAAW,aAAa,gEAAgE,WAAW,GAAG,aAAa,SAAS,uBAAuB,0dAA0d,4BAA4B,kEAAkE,eAAe,wCAAwC,wDAAwD,YAAY,6CAA6C,0GAA0G,EAAE,0IAA0I,iGAAiG,IAAI,mCAAmC,SAAS,8CAA8C,gCAAgC,WAAW,8DAA8D,yBAAyB,mCAAmC,uBAAuB,4BAA4B,cAAc,UAAU,gBAAgB,UAAU,4BAA4B,QAAQ,yDAAyD,UAAU,SAAS,eAAe,QAAQ,kEAAkE,kDAAkD,kCAAkC,mBAAmB,yCAAyC,kDAAkD,WAAW,SAAS,iBAAiB,sFAAsF,YAAY,mFAAmF,oCAAoC,iBAAiB,uBAAuB,oFAAoF,YAAY,0HAA0H,GAAG,iBAAiB,uBAAuB,oFAAoF,YAAY,0GAA0G,GAAG,mBAAmB,qBAAqB,YAAY,WAAW,KAAK,aAAa,iGAAiG,OAAO,kFAAkF,mBAAmB,yCAAyC,kDAAkD,WAAW,SAAS,iBAAiB,6WAA6W,SAAS,yBAAyB,qBAAqB,mFAAmF,qBAAqB,4DAA4D,6BAA6B,6KAA6K,WAAW,OAAO,gOAAgO,cAAc,wCAAwC,YAAY,gBAAgB,qBAAqB,wBAAwB,4BAA4B,0DAA0D,qBAAqB,oFAAoF,sGAAsG,OAAO,oBAAoB,gKAAgK,WAAW,mBAAmB,YAAY,aAAa,aAAa,gBAAgB,QAAQ,+JAA+J,mBAAmB,yCAAyC,kDAAkD,WAAW,SAAS,qBAAqB,0NAA0N,SAAS,WAAW,kNAAkN,uBAAuB,0FAA0F,2BAA2B,qFAAqF,6GAA6G,8BAA8B,wFAAwF,sFAAsF,8BAA8B,wFAAwF,sEAAsE,0BAA0B,oFAAoF,kEAAkE,iBAAiB,qBAAqB,iCAAiC,sCAAsC,4BAA4B,uDAAuD,sBAAsB,SAAS,eAAe,YAAY,mBAAmB,KAAK,yCAAyC,0CAA0C,aAAa,sIAAsI,gEAAgE,GAAG,SAAS,mBAAmB,yCAAyC,kDAAkD,WAAW,iBAAiB,iDAAiD,MAAM,EAAE,0BAA0B,KAAK,yDAAyD,MAAM,EAAE,6FAA6F,KAAK,0DAA0D,iBAAiB,qBAAqB,iCAAiC,sCAAsC,4BAA4B,uDAAuD,sBAAsB,SAAS,eAAe,YAAY,mBAAmB,KAAK,yCAAyC,0CAA0C,aAAa,sIAAsI,gEAAgE,GAAG,SAAS,mBAAmB,yCAAyC,kDAAkD,WAAW,mCAAmC,+BAA+B,oqCAAoqC,6BAA6B,oEAAoE,0BAA0B,MAAM,kGAAkG,0BAA0B,iEAAiE,SAAS,4RAA4R,mBAAmB,+BAA+B,oBAAoB,GAAG,cAAc,qBAAqB,gBAAgB,qBAAqB,cAAc,sBAAsB,kBAAkB,yBAAyB,gBAAgB,qBAAqB,iBAAiB,mFAAmF,mBAAmB,2BAA2B,4BAA4B,0DAA0D,0DAA0D,GAAG,iDAAiD,2EAA2E,0BAA0B,SAAS,8CAA8C,4FAA4F,8BAA8B,2FAA2F,+FAA+F,mBAAmB,IAAI,yDAAyD,SAAS,yDAAyD,6BAA6B,qEAAqE,sDAAsD,wFAAwF,+DAA+D,YAAY,IAAI,KAAK,6BAA6B,sCAAsC,mEAAmE,iCAAiC,gBAAgB,iEAAiE,SAAS,2BAA2B,SAAS,8CAA8C,wOAAwO,oBAAoB,mFAAmF,4BAA4B,uJAAuJ,yBAAyB,sHAAsH,2BAA2B,8HAA8H,gCAAgC,oLAAoL,mBAAmB,wCAAwC,4CAA4C,8CAA8C,sEAAsE,wBAAwB,EAAE,qDAAqD,KAAK,yGAAyG,iCAAiC,yCAAyC,oBAAoB,qDAAqD,uEAAuE,6BAA6B,4BAA4B,wBAAwB,mBAAmB,EAAE,GAAG,8BAA8B,4BAA4B,sBAAsB,6BAA6B,EAAE,GAAG,gBAAgB,0CAA0C,2BAA2B,wGAAwG,+EAA+E,wBAAwB,YAAY,eAAe,WAAW,GAAG,sCAAsC,qIAAqI,2JAA2J,6BAA6B,YAAY,IAAI,KAAK,uBAAuB,2GAA2G,uEAAuE,oBAAoB,oEAAoE,0BAA0B,0EAA0E,aAAa,gEAAgE,mEAAmE,YAAY,6BAA6B,IAAI,yFAAyF,wBAAwB,iIAAiI,6BAA6B,sFAAsF,yEAAyE,6DAA6D,oBAAoB,uFAAuF,4MAA4M,qCAAqC,mBAAmB,oBAAoB,mGAAmG,kFAAkF,iFAAiF,4DAA4D,EAAE,oDAAoD,uCAAuC,gMAAgM,0DAA0D,iCAAiC,4BAA4B,OAAO,sHAAsH,gCAAgC,gFAAgF,mGAAmG,wEAAwE,GAAG,iCAAiC,gFAAgF,yEAAyE,mJAAmJ,OAAO,gGAAgG,uCAAuC,gFAAgF,mGAAmG,UAAU,0CAA0C,qGAAqG,MAAM,mGAAmG,uBAAuB,0KAA0K,iCAAiC,MAAM,MAAM,4BAA4B,8CAA8C,OAAO,4GAA4G,MAAM,iBAAiB,yCAAyC,OAAO,+FAA+F,qBAAqB,MAAM,kCAAkC,2BAA2B,4DAA4D,+FAA+F,sCAAsC,yBAAyB,oFAAoF,mBAAmB,qFAAqF,kEAAkE,IAAI,MAAM,WAAW,+CAA+C,sJAAsJ,gBAAgB,yFAAyF,gBAAgB,sEAAsE,+BAA+B,oCAAoC,qJAAqJ,4HAA4H,6BAA6B,MAAM,0LAA0L,uCAAuC,gKAAgK,sGAAsG,wcAAwc,8BAA8B,yGAAyG,mBAAmB,kBAAkB,mDAAmD,8BAA8B,oKAAoK,iCAAiC,6BAA6B,sBAAsB,mDAAmD,yCAAyC,yCAAyC,gBAAgB,0CAA0C,6BAA6B,uDAAuD,uBAAuB,SAAS,gCAAgC,WAAW,uBAAuB,kBAAkB,SAAS,0BAA0B,SAAS,8CAA8C,sBAAsB,oFAAoF,IAAI,iBAAiB,0CAA0C,oCAAoC,kFAAkF,yBAAyB,gBAAgB,8BAA8B,UAAU,4CAA4C,IAAI,yCAAyC,2DAA2D,YAAY,6TAA6T,gBAAgB,GAAG,YAAY,EAAE,qDAAqD,8HAA8H,6EAA6E,EAAE,0DAA0D,6CAA6C,mBAAmB,iEAAiE,EAAE,oBAAoB,0CAA0C,iBAAiB,uFAAuF,EAAE,8DAA8D,6BAA6B,uDAAuD,uKAAuK,0DAA0D,4SAA4S,kCAAkC,2CAA2C,SAAS,IAAI,yGAAyG,yBAAyB,uFAAuF,iEAAiE,GAAG,aAAa,0JAA0J,qBAAqB,2GAA2G,2CAA2C,sBAAsB,+CAA+C,8RAA8R,+EAA+E,iDAAiD,iBAAiB,sDAAsD,EAAE,qCAAqC,sKAAsK,+EAA+E,uBAAuB,6CAA6C,OAAO,MAAM,0fAA0f,wBAAwB,sBAAsB,uBAAuB,yBAAyB,4BAA4B,wBAAwB,2BAA2B,yBAAyB,gCAAgC,iBAAiB,OAAO,6CAA6C,EAAE,eAAe,sCAAsC,gBAAgB,kBAAkB,gBAAgB,0CAA0C,cAAc,sCAAsC,SAAS,oCAAoC,QAAQ,6BAA6B,QAAQ,GAAG,OAAO,+BAA+B,uBAAuB,8CAA8C,0CAA0C,cAAc,IAAI,aAAa,SAAS,MAAM,cAAc,IAAI,cAAc,SAAS,MAAM,cAAc,MAAM,iEAAiE,KAAK,cAAc,+BAA+B,IAAI,sCAAsC,SAAS,ghCAAghC,+EAA+E,WAAW,SAAS,aAAa,8DAA8D,aAAa,kBAAkB,aAAa,uEAAuE,gBAAgB,sBAAsB,cAAc,4DAA4D,cAAc,eAAe,gBAAgB,qBAAqB,sBAAsB,gBAAgB,cAAc,gBAAgB,mBAAmB,mBAAmB,wCAAwC,gCAAgC,yCAAyC,SAAS,cAAc,0EAA0E,MAAM,MAAM,aAAa,8CAA8C,IAAI,sBAAsB,6DAA6D,6CAA6C,wBAAwB,wDAAwD,8HAA8H,4DAA4D,6BAA6B,iDAAiD,cAAc,uCAAuC,sCAAsC,oDAAoD,eAAe,uBAAuB,uBAAuB,wBAAwB,8CAA8C,mCAAmC,eAAe,wCAAwC,0CAA0C,yCAAyC,SAAS,GAAG,2BAA2B,oBAAoB,kCAAkC,6CAA6C,2BAA2B,qBAAqB,6BAA6B,2BAA2B,mCAAmC,wBAAwB,iDAAiD,qCAAqC,iCAAiC,kBAAkB,mCAAmC,2EAA2E,+BAA+B,8IAA8I,kDAAkD,gBAAgB,0CAA0C,kBAAkB,gBAAgB,kCAAkC,WAAW,2CAA2C,SAAS,0BAA0B,mCAAmC,2BAA2B,YAAY,qBAAqB,eAAe,uBAAuB,oBAAoB,sBAAsB,KAAK,iCAAiC,WAAW,mDAAmD,SAAS,4BAA4B,iEAAiE,uBAAuB,iDAAiD,0BAA0B,GAAG,yDAAyD,WAAW,+BAA+B,MAAM,IAAI,mBAAmB,SAAS,OAAO,OAAO,SAAS,mEAAmE,kCAAkC,4BAA4B,eAAe,wBAAwB,IAAI,6BAA6B,SAAS,wBAAwB,8CAA8C,IAAI,sBAAsB,iIAAiI,oCAAoC,0DAA0D,mCAAmC,6BAA6B,KAAK,4BAA4B,WAAW,2BAA2B,YAAY,4BAA4B,sCAAsC,kBAAkB,aAAa,4DAA4D,wBAAwB,0BAA0B,IAAI,qBAAqB,SAAS,UAAU,2BAA2B,oEAAoE,oBAAoB,mCAAmC,YAAY,wBAAwB,qBAAqB,iEAAiE,yCAAyC,wEAAwE,uBAAuB,IAAI,KAAK,GAAG,GAAG,iCAAiC,iCAAiC,2BAA2B,iGAAiG,6BAA6B,mEAAmE,UAAU,+FAA+F,WAAW,GAAG,gGAAgG,WAAW,IAAI,6BAA6B,qFAAqF,aAAa,kGAAkG,SAAS,gDAAgD,yBAAyB,4BAA4B,6BAA6B,6CAA6C,0DAA0D,kCAAkC,wBAAwB,qCAAqC,iFAAiF,OAAO,kGAAkG,6BAA6B,0FAA0F,EAAE,mBAAmB,mDAAmD,wCAAwC,mDAAmD,6BAA6B,wBAAwB,YAAY,IAAI,KAAK,6BAA6B,UAAU,SAAS,iCAAiC,iCAAiC,kCAAkC,wCAAwC,mBAAmB,yHAAyH,sDAAsD,IAAI,wBAAwB,+CAA+C,mBAAmB,uCAAuC,sBAAsB,iDAAiD,wBAAwB,4BAA4B,oBAAoB,eAAe,sCAAsC,SAAS,qCAAqC,2BAA2B,eAAe,sCAAsC,SAAS,+CAA+C,uBAAuB,oBAAoB,sBAAsB,6BAA6B,iBAAiB,sCAAsC,SAAS,mBAAmB,iBAAiB,QAAQ,cAAc,iBAAiB,oBAAoB,WAAW,cAAc,mCAAmC,8CAA8C,oBAAoB,0BAA0B,6BAA6B,2BAA2B,8BAA8B,2BAA2B,6EAA6E,6BAA6B,iFAAiF,yBAAyB,8BAA8B,oBAAoB,0DAA0D,wDAAwD,iBAAiB,8BAA8B,iEAAiE,yBAAyB,+BAA+B,gEAAgE,0BAA0B,iCAAiC,8BAA8B,2CAA2C,kCAAkC,+BAA+B,4CAA4C,mCAAmC,8BAA8B,+CAA+C,oCAAoC,+BAA+B,iDAAiD,YAAY,sBAAsB,mEAAmE,kBAAkB,2CAA2C,8DAA8D,6BAA6B,aAAa,+BAA+B,mBAAmB,4BAA4B,2CAA2C,mFAAmF,sCAAsC,SAAS,uEAAuE,uBAAuB,mEAAmE,kBAAkB,2CAA2C,8DAA8D,6BAA6B,aAAa,+BAA+B,mBAAmB,4BAA4B,2CAA2C,mFAAmF,sCAAsC,SAAS,gBAAgB,MAAM,cAAc,WAAW,+BAA+B,YAAY,2BAA2B,gEAAgE,QAAQ,0CAA0C,cAAc,IAAI,IAAI,aAAa,+DAA+D,uBAAuB,EAAE,gBAAgB,iDAAiD,IAAI,2CAA2C,SAAS,0CAA0C,gEAAgE,4FAA4F,eAAe,wCAAwC,SAAS,EAAE,qDAAqD,SAAS,YAAY,cAAc,itEAAitE,EAAE,iGAAiG,0tDAA0tD,SAAS,eAAe,KAAK,0tDAA0tD,SAAS,eAAe,KAAK,0tDAA0tD,SAAS,eAAe,KAAK,0tDAA0tD,SAAS,eAAe,KAAK,0tDAA0tD,SAAS,eAAe,KAAK,0tDAA0tD,SAAS,eAAe,KAAK,0tDAA0tD,SAAS,cAAc,KAAK,0tDAA0tD,SAAS,eAAe,KAAK,0tDAA0tD,SAAS,MAAM,mBAAmB,MAAM,cAAc,WAAW,+BAA+B,YAAY,YAAY,qCAAqC,YAAY,+DAA+D,uBAAuB,EAAE,sDAAsD,SAAS,YAAY,aAAa,OAAO,cAAc,EAAE,oCAAoC,aAAa,oVAAoV,YAAY,sBAAsB,EAAE,UAAU,EAAE,eAAe,EAAE,gBAAgB,EAAE,UAAU,GAAG,wDAAwD,qCAAqC,iBAAiB,MAAM,2CAA2C,wBAAwB,cAAc,uBAAuB,uCAAuC,OAAO,YAAY,KAAK,gBAAgB,SAAS,mBAAmB,uQAAuQ,wDAAwD,SAAS,IAAI,OAAO,MAAM,SAAS,6FAA6F,0DAA0D,UAAU,QAAQ,yBAAyB,mCAAmC,kBAAkB,+DAA+D,mBAAmB,oDAAoD,QAAQ,QAAQ,gBAAgB,qBAAqB,iCAAiC,sCAAsC,4BAA4B,uDAAuD,sBAAsB,SAAS,cAAc,YAAY,mBAAmB,KAAK,yCAAyC,yCAAyC,YAAY,qIAAqI,gEAAgE,GAAG,SAAS,kBAAkB,yCAAyC,kDAAkD,WAAW,gDAAgD,sDAAsD,yBAAyB,+CAA+C,SAAS,eAAe,wBAAwB,SAAS,GAAG,QAAQ,eAAe,QAAQ,sDAAsD,iCAAiC,ifAAif,wCAAwC,8cAA8c,SAAS,2CAA2C,iCAAiC,unBAAunB,yBAAyB,wBAAwB,4IAA4I,MAAM,OAAO,UAAU,+BAA+B,IAAI,0DAA0D,kDAAkD,SAAS,UAAU,qBAAqB,MAAM,mHAAmH,gDAAgD,sBAAsB,mDAAmD,wLAAwL,iCAAiC,8BAA8B,kLAAkL,6BAA6B,6KAA6K,qJAAqJ,8BAA8B,4BAA4B,6DAA6D,yEAAyE,iBAAiB,iBAAiB,0NAA0N,MAAM,yEAAyE,MAAM,SAAS,QAAQ,sBAAsB,sEAAsE,MAAM,4EAA4E,MAAM,OAAO,+OAA+O,sBAAsB,6DAA6D,QAAQ,WAAW,uGAAuG,8EAA8E,yJAAyJ,6CAA6C,uBAAuB,2BAA2B,gCAAgC,6DAA6D,+BAA+B,4DAA4D,+BAA+B,qDAAqD,iCAAiC,mFAAmF,+FAA+F,0BAA0B,wBAAwB,EAAE,MAAM,uDAAuD,kCAAkC,EAAE,qBAAqB,sBAAsB,sDAAsD,kCAAkC,EAAE,mBAAmB,kEAAkE,2CAA2C,EAAE,wFAAwF,SAAS,mGAAmG,iCAAiC,MAAM,6LAA6L,iBAAiB,gEAAgE,wCAAwC,6BAA6B,MAAM,eAAe,gBAAgB,sDAAsD,QAAQ,WAAW,gEAAgE,gEAAgE,yCAAyC,8BAA8B,kBAAkB,eAAe,0DAA0D,wLAAwL,yDAAyD,sBAAsB,uHAAuH,mBAAmB,mCAAmC,iFAAiF,eAAe,WAAW,eAAe,+BAA+B,kBAAkB,kCAAkC,iBAAiB,gDAAgD,gBAAgB,MAAM,WAAW,GAAG,qBAAqB,uDAAuD,MAAM,MAAM,OAAO,GAAG,gSAAgS,GAAG,cAAc,+CAA+C,+BAA+B,EAAE,iBAAiB,mDAAmD,+BAA+B,EAAE,gBAAgB,+CAA+C,+BAA+B,MAAM,IAAI,OAAO,GAAG,4EAA4E,GAAG,iBAAiB,8CAA8C,gDAAgD,QAAQ,MAAM,cAAc,GAAG,iBAAiB,kDAAkD,+BAA+B,EAAE,mBAAmB,oDAAoD,+BAA+B,EAAE,gBAAgB,wBAAwB,iBAAiB,SAAS,6CAA6C,sDAAsD,QAAQ,GAAG,uBAAuB,0BAA0B,QAAQ,GAAG,cAAc,8DAA8D,wBAAwB,2BAA2B,mCAAmC,4BAA4B,yBAAyB,wBAAwB,IAAI,6BAA6B,GAAG,yBAAyB,6NAA6N,OAAO,oCAAoC,WAAW,mDAAmD,8CAA8C,QAAQ,OAAO,gEAAgE,GAAG,eAAe,uGAAuG,uFAAuF,+DAA+D,oFAAoF,0DAA0D,iDAAiD,0CAA0C,sIAAsI,qCAAqC,gCAAgC,6BAA6B,EAAE,aAAa,4CAA4C,kCAAkC,EAAE,gBAAgB,4CAA4C,mBAAmB,EAAE,cAAc,0CAA0C,mBAAmB,EAAE,kBAAkB,2CAA2C,EAAE,qBAAqB,wBAAwB,IAAI,uCAAuC,yBAAyB,QAAQ,qHAAqH,6BAA6B,cAAc;AACxkzwB;;;;;;UCFA;UACA;;UAEA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;;UAEA;UACA;;UAEA;UACA;UACA;;;;;WCtBA;WACA;WACA;WACA;WACA;WACA,iCAAiC,WAAW;WAC5C;WACA;;;;;WCPA;WACA;WACA;WACA;WACA,yCAAyC,wCAAwC;WACjF;WACA;WACA;;;;;WCPA;;;;;;;;;;;;;;;;;;ACAO,MAAMA,UAAU,GAAIC,IAAY,IAAa;EAClD,MAAMC,WAAW,GAAGC,QAAQ,CAACC,cAAc,CAACC,kBAAkB,EAAE,CAACC,IAAI;EACrEJ,WAAW,CAACK,SAAS,GAAGN,IAAI;EAC5B,OAAOC,WAAW,CAACM,WAAW,IAAIN,WAAW,CAACO,SAAS,IAAI,EAAE;AAC/D,CAAC;AAEM,MAAMC,cAAc,GAAG,SAAjBA,cAAc,CAAIC,IAAY,EAAyB;EAAA,IAAvBC,KAAK,uEAAG,EAAE;EACrD,IAAID,IAAI,CAACE,MAAM,IAAID,KAAK,EAAE;IACxB,OAAOD,IAAI;EACb;EACA,OAAOA,IAAI,CAACG,SAAS,CAAC,CAAC,EAAEF,KAAK,CAAC,GAAG,KAAK;AACzC,CAAC;AAEM,MAAMG,KAAK,GAAG,MAAOC,OAAe,IAAoB;EAC7D,MAAM,IAAIC,OAAO,CAAEC,OAAO,IAAKC,UAAU,CAACD,OAAO,EAAEF,OAAO,GAAG,IAAI,CAAC,CAAC;AACrE,CAAC;;;ACf0D;AACP;AAOrC,MAAMK,SAAS,CAAC;EAK7BC,WAAW,CAASC,QAA2B,EAAUC,OAAyB,EAAE;IAAA,KAAhED,QAA2B,GAA3BA,QAA2B;IAAA,KAAUC,OAAyB,GAAzBA,OAAyB;IAAA;IAAA;IAAA;IAChF,IAAI,CAACC,eAAe,EAAE;EACxB;EAEQA,eAAe,GAAG;IACxB,MAAM;MAAEC,eAAe;MAAEC,oBAAoB;MAAEC;IAAK,CAAC,GAAG,IAAI,CAACJ,OAAO;IAEpE,IAAI,CAACK,cAAc,GAAG,IAAIT,gBAAc,CAAC;MACvCU,YAAY,EAAEC,MAAM;MACpBP,OAAO,EAAE;QACPE,eAAe;QACf;AACR;AACA;AACA;QACQC;MACF,CAAC;MACDK,OAAO,EAAE,MAAM;QACb,MAAM;UAAEC;QAAS,CAAC,GAAG,IAAI,CAACJ,cAAe;QAEzC,IAAII,QAAQ,EAAE;UACZ9B,QAAQ,CAAC+B,eAAe,CAACC,SAAS,CAACC,GAAG,CAACH,QAAQ,CAAC;QAClD;MACF,CAAC;MACDI,cAAc,EAAE,IAAI,CAACd,QAAQ,CAACc,cAAc;MAC5CC,6BAA6B,EAAE,MAAM;QACnC,OAAO,IAAI,CAACf,QAAQ,CAACe,6BAA6B,EAAE;MACtD;IACF,CAAC,CAAC;IAEF,IAAI,CAACT,cAAc,CAACU,iBAAiB,CAAC,MAAOC,IAAwB,IAAK;MAAA;MACxE;AACN;AACA;MACM,IAAIC,aAAa,GAAG,IAAI;MACxB,IAAI,IAAI,CAACD,IAAI,IAAI,IAAI,CAACA,IAAI,CAACE,IAAI,IAAIF,IAAI,CAACE,IAAI,EAAE;QAC5CD,aAAa,GAAG,KAAK;MACvB;MAEA,MAAME,YAAY,GAAG,IAAI,CAACH,IAAI;MAE9B,IAAI,CAACA,IAAI,GAAGA,IAAI;;MAEhB;MACA,IAAIA,IAAI,CAACI,gBAAgB,EAAE;QACzB;MACF;MAEA,IAAIjC,IAAI,GAAG,kBAAA6B,IAAI,CAACK,OAAO,kDAAZ,cAAclC,IAAI,KAAI,EAAE;;MAEnC;AACN;AACA;AACA;AACA;AACA;MACM,IAAIiB,IAAI,KAAK,MAAM,IAAIa,aAAa,EAAE;QACpC,MAAMK,MAAM,GAAG,iBAAiB,CAACC,IAAI,CAACpC,IAAI,CAAC;QAC3C,IAAI,CAACmC,MAAM,EAAE;UACX,IAAI,CAACE,oBAAoB,GAAG,IAAI;QAClC;MACF;MAEA,IAAI,CAACzB,QAAQ,CAAC0B,iBAAiB,KAAK,MAAM,IAAI,CAAC1B,QAAQ,CAAC0B,iBAAiB,CAACT,IAAI,CAAC,CAAC;MAChF,IAAI,CAACjB,QAAQ,CAAC2B,gBAAgB,CAACvC,IAAI,CAAC;MAEpC,IAAI,IAAI,CAACY,QAAQ,CAAC4B,gBAAgB,EAAE;QAAA;QAClC,MAAMC,iBAAiB,2BAAG,IAAI,CAACvB,cAAc,CAAEwB,mBAAmB,CAACV,YAAY,EAAE,QAAQ,CAAC,uEAAI,KAAK;QACnG,MAAMW,YAAY,4BAAG,IAAI,CAACzB,cAAc,CAAEwB,mBAAmB,CAAC,IAAI,CAACb,IAAI,EAAE,QAAQ,CAAC,yEAAI,KAAK;QAE3F,IAAIY,iBAAiB,KAAKE,YAAY,EAAE;UACtC,IAAI,CAAC/B,QAAQ,CAAC4B,gBAAgB,CAACG,YAAY,CAAC;QAC9C;MACF;MAEA,IAAIb,aAAa,EAAE;QAAA;QACjB,+CAAI,CAAClB,QAAQ,EAACgC,gBAAgB,0DAA9B,0CAAkC;MACpC;IACF,CAAC,CAAC;EACJ;EAEQC,iBAAiB,GAAG;IAC1B,MAAMC,yBAAyB,GAAG,CAChC,oBAAoB,EACpB,qBAAqB,EACrB,aAAa,EACb,uBAAuB,EACvB,eAAe,EACf,mBAAmB,EACnB,eAAe,CAChB;IAED,KAAK,MAAMC,YAAY,IAAID,yBAAyB,EAAE;MACpD,IAAI,CAAC,IAAI,CAAClC,QAAQ,CAACmC,YAAY,CAAC,EAAE;QAChC,MAAMC,KAAK,mBAAYD,YAAY,yBAAsB;MAC3D;IACF;EACF;;EAEA;AACF;AACA;EACSE,oBAAoB,CAACjD,IAAY,EAAQ;IAC9C,MAAM;MAAEiB;IAAK,CAAC,GAAG,IAAI,CAACJ,OAAO;IAE7B,IAAI,IAAI,CAACwB,oBAAoB,EAAE;MAC7B,IAAI,CAACA,oBAAoB,GAAG,KAAK;MACjC;IACF;IAEA,IAAI,CAAC,IAAI,CAACR,IAAI,EAAE;MACd;IACF;IAEA,MAAMA,IAAI,GAAG,IAAI,CAACA,IAAI;IAEtB,IAAI,CAACX,cAAc,CAAEgC,mBAAmB,CAAcrB,IAAI,EAAE,MAAM;MAChEA,IAAI,CAACK,OAAO,CAAElC,IAAI,GAAGA,IAAI;MAEzB,IAAI,IAAI,CAACY,QAAQ,CAACuC,qBAAqB,EAAE;QAAA;QACvC,MAAMC,MAAM,GAAG,IAAI,CAACxC,QAAQ,CAACuC,qBAAqB,CAACnD,IAAI,CAAC;QAExD6B,IAAI,CAACK,OAAO,CAACmB,aAAa,oBAAGD,MAAM,CAACE,KAAK,yDAAI,GAAG;QAChDzB,IAAI,CAACK,OAAO,CAACqB,YAAY,GAAGH,MAAM,CAAC9D,IAAI;MACzC,CAAC,MAAM;QACL,IAAI2B,IAAI,KAAK,MAAM,EAAE;UACnB,IAAIuC,OAAO,GAAGxD,IAAI;UAClBwD,OAAO,GAAGzD,cAAc,CAACV,UAAU,CAACmE,OAAO,CAAC,CAAC;UAC7C;AACV;AACA;AACA;AACA;UACU3B,IAAI,CAACK,OAAO,CAACmB,aAAa,GAAGG,OAAO,CAACtD,MAAM,GAAG,CAAC,GAAGsD,OAAO,GAAG,GAAG;QACjE,CAAC,MAAM;UACL3B,IAAI,CAACK,OAAO,CAACmB,aAAa,GAAGrD,IAAI;QACnC;;QAEA;QACA6B,IAAI,CAACK,OAAO,CAACqB,YAAY,GAAGE,SAAS;MACvC;IACF,CAAC,CAAC;EACJ;;EAEA;AACF;AACA;EACSP,mBAAmB,CAACrB,IAAwB,EAAE6B,OAAoB,EAAQ;IAC/E,IAAI,CAACxC,cAAc,CAAEgC,mBAAmB,CAACrB,IAAI,EAAE6B,OAAO,CAAC;EACzD;;EAEA;AACF;AACA;EACE,IAAWpC,QAAQ,GAAuB;IACxC,OAAO,IAAI,CAACJ,cAAc,CAAEI,QAAQ;EACtC;;EAEA;AACF;AACA;EACE,IAAWqC,WAAW,GAAuB;IAC3C,OAAO,IAAI,CAACzC,cAAc,CAAEyC,WAAW;EACzC;EAEOC,2BAA2B,CAACC,GAAW,EAAO;IACnD,OAAO,IAAI,CAAC3C,cAAc,CAAE0C,2BAA2B,CAACC,GAAG,CAAC;EAC9D;EAEOC,2BAA2B,CAACD,GAAW,EAAEE,KAAU,EAAQ;IAChE,IAAI,CAAC7C,cAAc,CAAE4C,2BAA2B,CAACD,GAAG,EAAEE,KAAK,CAAC;EAC9D;EAEOC,4BAA4B,GAAY;IAC7C,OAAO,IAAI,CAAC9C,cAAc,CAAE8C,4BAA4B,EAAE;EAC5D;AACF,C","sources":["webpack://EditorKit/webpack/universalModuleDefinition","webpack://EditorKit/../component-relay/dist/dist.js","webpack://EditorKit/webpack/bootstrap","webpack://EditorKit/webpack/runtime/compat get default export","webpack://EditorKit/webpack/runtime/define property getters","webpack://EditorKit/webpack/runtime/hasOwnProperty shorthand","webpack://EditorKit/./src/Utils.ts","webpack://EditorKit/./src/EditorKit.ts"],"sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"EditorKit\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"EditorKit\"] = factory();\n\telse\n\t\troot[\"EditorKit\"] = factory();\n})(self, () => {\nreturn ","/*! For license information please see dist.js.LICENSE.txt */\n!function(e,t){\"object\"==typeof exports&&\"object\"==typeof module?module.exports=t():\"function\"==typeof define&&define.amd?define(\"ComponentRelay\",[],t):\"object\"==typeof exports?exports.ComponentRelay=t():e.ComponentRelay=t()}(self,(()=>(()=>{var e={109:e=>{var t;self,t=()=>(()=>{\"use strict\";var e={31624:(e,t)=>{Object.defineProperty(t,\"__esModule\",{value:!0}),t.ContentDecoder=void 0,t.ContentDecoder=class{decode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3;try{const r=t>0?e.substring(t):e,n=Buffer.from(r,\"base64\").toString();return JSON.parse(n)}catch(e){return{}}}encode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3;const r=JSON.stringify(e),n=Buffer.from(r).toString(\"base64\");return n.padStart(n.length+t,\"0\")}}},9457:(e,t)=>{Object.defineProperty(t,\"__esModule\",{value:!0})},19883:(e,t)=>{var r;Object.defineProperty(t,\"__esModule\",{value:!0}),t.DisplayStringForContentType=t.ContentType=void 0,function(e){e.Any=\"*\",e.Item=\"SF|Item\",e.RootKey=\"SN|RootKey|NoSync\",e.ItemsKey=\"SN|ItemsKey\",e.EncryptedStorage=\"SN|EncryptedStorage\",e.Privileges=\"SN|Privileges\",e.Note=\"Note\",e.Tag=\"Tag\",e.SmartView=\"SN|SmartTag\",e.Component=\"SN|Component\",e.Editor=\"SN|Editor\",e.ActionsExtension=\"Extension\",e.UserPrefs=\"SN|UserPreferences\",e.HistorySession=\"SN|HistorySession\",e.Theme=\"SN|Theme\",e.File=\"SN|File\",e.FilesafeCredentials=\"SN|FileSafe|Credentials\",e.FilesafeFileMetadata=\"SN|FileSafe|FileMetadata\",e.FilesafeIntegration=\"SN|FileSafe|Integration\",e.ExtensionRepo=\"SN|ExtensionRepo\",e.Unknown=\"Unknown\"}(r=t.ContentType||(t.ContentType={})),t.DisplayStringForContentType=function(e){return{[r.ActionsExtension]:\"action-based extension\",[r.Component]:\"component\",[r.Editor]:\"editor\",[r.File]:\"file\",[r.FilesafeCredentials]:\"FileSafe credential\",[r.FilesafeFileMetadata]:\"FileSafe file\",[r.FilesafeIntegration]:\"FileSafe integration\",[r.ItemsKey]:\"encryption key\",[r.Note]:\"note\",[r.SmartView]:\"smart view\",[r.Tag]:\"tag\",[r.Theme]:\"theme\",[r.UserPrefs]:\"user preferences\"}[e]}},56380:(e,t)=>{Object.defineProperty(t,\"__esModule\",{value:!0})},95892:(e,t)=>{Object.defineProperty(t,\"__esModule\",{value:!0})},63465:(e,t)=>{Object.defineProperty(t,\"__esModule\",{value:!0})},60187:(e,t)=>{Object.defineProperty(t,\"__esModule\",{value:!0})},37693:(e,t)=>{Object.defineProperty(t,\"__esModule\",{value:!0})},46923:(e,t)=>{var r;Object.defineProperty(t,\"__esModule\",{value:!0}),t.EmailMessageIdentifier=void 0,(r=t.EmailMessageIdentifier||(t.EmailMessageIdentifier={})).WELCOME_EMAIL=\"WELCOME_EMAIL\",r.ACCOUNT_CLAIM=\"ACCOUNT_CLAIM\",r.ACCOUNT_RESET=\"ACCOUNT_RESET\",r.ACTIVATION_CODE=\"ACTIVATION_CODE\",r.VERSION_ADOPTION_REPORT=\"VERSION_ADOPTION_REPORT\",r.FAILED_DROPBOX_BACKUP=\"FAILED_DROPBOX_BACKUP\",r.FAILED_GOOGLE_DRIVE_BACKUP=\"FAILED_GOOGLE_DRIVE_BACKUP\",r.FAILED_ONE_DRIVE_BACKUP=\"FAILED_ONE_DRIVE_BACKUP\",r.DATA_BACKUP=\"DATA_BACKUP\",r.FAILED_BACKUP_ATTACHMENT_TOO_BIG=\"FAILED_BACKUP_ATTACHMENT_TOO_BIG\",r.OFFLINE_SUBSCRIPTION_ACCESS=\"OFFLINE_SUBSCRIPTION_ACCESS\",r.SIGN_IN=\"SIGN_IN\",r.SHARED_SUBSCRIPTION_INVITATION=\"SHARED_SUBSCRIPTION_INVITATION\",r.ENCOURAGE_EMAIL_BACKUPS=\"ENCOURAGE_EMAIL_BACKUPS\",r.ENCOURAGE_SUBSCRIPTION_PURCHASING=\"ENCOURAGE_SUBSCRIPTION_PURCHASING\",r.EXIT_INTERVIEW=\"EXIT_INTERVIEW\",r.STUDENT_DISCOUNT_REQUESTED=\"STUDENT_DISCOUNT_REQUESTED\",r.STUDENT_DISCOUNT_APPROVED=\"STUDENT_DISCOUNT_APPROVED\",r.MARKETING_CAMPAIGN_FILES=\"MARKETING_CAMPAIGN_FILES\",r.PAYMENT_FAILED=\"PAYMENT_FAILED\",r.SEND_INVOICE=\"SEND_INVOICE\",r.DISCOUNT_NOTICE=\"DISCOUNT_NOTICE\",r.REFUND_NOTICE=\"REFUND_NOTICE\",r.REFUND_REQUESTED=\"REFUND_REQUESTED\",r.RATE_ADJUSTMENT_NOTICE=\"RATE_ADJUSTMENT_NOTICE\",r.WORKSPACE_INVITE_CREATED=\"WORKSPACE_INVITE_CREATED\",r.EXIT_DISCOUNT=\"EXIT_DISCOUNT\"},58162:(e,t)=>{var r;Object.defineProperty(t,\"__esModule\",{value:!0}),t.ErrorTag=void 0,(r=t.ErrorTag||(t.ErrorTag={})).MfaInvalid=\"mfa-invalid\",r.MfaRequired=\"mfa-required\",r.RefreshTokenInvalid=\"invalid-refresh-token\",r.RefreshTokenExpired=\"expired-refresh-token\",r.AccessTokenExpired=\"expired-access-token\",r.ParametersInvalid=\"invalid-parameters\",r.RevokedSession=\"revoked-session\",r.AuthInvalid=\"invalid-auth\",r.ReadOnlyAccess=\"read-only-access\"},96148:(e,t)=>{Object.defineProperty(t,\"__esModule\",{value:!0})},44506:(e,t)=>{Object.defineProperty(t,\"__esModule\",{value:!0})},71411:(e,t)=>{Object.defineProperty(t,\"__esModule\",{value:!0})},81859:(e,t)=>{Object.defineProperty(t,\"__esModule\",{value:!0})},44021:(e,t)=>{Object.defineProperty(t,\"__esModule\",{value:!0})},15959:(e,t)=>{Object.defineProperty(t,\"__esModule\",{value:!0})},46278:(e,t)=>{var r;Object.defineProperty(t,\"__esModule\",{value:!0}),t.KeyParamsOrigination=void 0,(r=t.KeyParamsOrigination||(t.KeyParamsOrigination={})).Registration=\"registration\",r.EmailChange=\"email-change\",r.PasswordChange=\"password-change\",r.ProtocolUpgrade=\"protocol-upgrade\",r.PasscodeCreate=\"passcode-create\",r.PasscodeChange=\"passcode-change\"},57658:(e,t)=>{var r;Object.defineProperty(t,\"__esModule\",{value:!0}),t.PaymentType=void 0,(r=t.PaymentType||(t.PaymentType={})).Initial=\"initial\",r.Renewal=\"renewal\"},23562:(e,t)=>{var r;function n(e,t){return Number(e)-Number(t)}Object.defineProperty(t,\"__esModule\",{value:!0}),t.isVersionLessThanOrEqualTo=t.leftVersionGreaterThanOrEqualToRight=t.compareVersions=t.protocolVersionFromEncryptedString=t.ProtocolVersionLength=t.isProtocolVersionExpired=t.ProtocolExpirationDates=t.ProtocolVersionLastNonrootItemsKey=t.ProtocolVersionLatest=t.ProtocolVersion=void 0,function(e){e.V001=\"001\",e.V002=\"002\",e.V003=\"003\",e.V004=\"004\",e.V005=\"005\"}(r=t.ProtocolVersion||(t.ProtocolVersion={})),t.ProtocolVersionLatest=r.V004,t.ProtocolVersionLastNonrootItemsKey=r.V003,t.ProtocolExpirationDates=Object.freeze({[r.V001]:Date.parse(\"2018-01-01\"),[r.V002]:Date.parse(\"2020-01-01\")}),t.isProtocolVersionExpired=function(e){const r=t.ProtocolExpirationDates[e];return!!r&&(new Date).getTime()>r},t.ProtocolVersionLength=3,t.protocolVersionFromEncryptedString=function(e){const n=e.substring(0,t.ProtocolVersionLength);if(Object.values(r).includes(n))return n;throw Error(\"Unrecognized protocol version \".concat(n))},t.compareVersions=n,t.leftVersionGreaterThanOrEqualToRight=function(e,t){return n(e,t)>=0},t.isVersionLessThanOrEqualTo=function(e,t){return n(e,t)<=0}},89384:(e,t,r)=>{Object.defineProperty(t,\"__esModule\",{value:!0}),t.PaidRoles=void 0;const n=r(16374);t.PaidRoles=[n.RoleName.CoreUser,n.RoleName.PlusUser,n.RoleName.ProUser]},16374:(e,t)=>{var r;Object.defineProperty(t,\"__esModule\",{value:!0}),t.RoleName=void 0,(r=t.RoleName||(t.RoleName={})).CoreUser=\"CORE_USER\",r.PlusUser=\"PLUS_USER\",r.ProUser=\"PRO_USER\",r.FilesBetaUser=\"FILES_BETA_USER\"},4160:(e,t)=>{var r;Object.defineProperty(t,\"__esModule\",{value:!0}),t.SubscriptionBillingFrequency=void 0,(r=t.SubscriptionBillingFrequency||(t.SubscriptionBillingFrequency={}))[r.Monthly=1]=\"Monthly\",r[r.Annual=12]=\"Annual\"},38449:(e,t)=>{var r;Object.defineProperty(t,\"__esModule\",{value:!0}),t.SubscriptionName=void 0,(r=t.SubscriptionName||(t.SubscriptionName={})).PlusPlan=\"PLUS_PLAN\",r.ProPlan=\"PRO_PLAN\"},20494:(e,t)=>{Object.defineProperty(t,\"__esModule\",{value:!0})},76972:(e,t)=>{Object.defineProperty(t,\"__esModule\",{value:!0})},47781:(e,t)=>{Object.defineProperty(t,\"__esModule\",{value:!0}),t.UserRequestType=void 0,(t.UserRequestType||(t.UserRequestType={})).ExitDiscount=\"exit-discount\"},1649:(e,t)=>{Object.defineProperty(t,\"__esModule\",{value:!0}),t.UuidValidator=void 0,t.UuidValidator=class{constructor(){var e,t;t=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-5][0-9a-f]{3}-[089ab][0-9a-f]{3}-[0-9a-f]{12}$/i,(e=\"UUID_REGEX\")in this?Object.defineProperty(this,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):this[e]=t}validate(e){return null!==String(e).toLowerCase().match(this.UUID_REGEX)}}},18851:(e,t)=>{Object.defineProperty(t,\"__esModule\",{value:!0})},93726:(e,t)=>{var r;Object.defineProperty(t,\"__esModule\",{value:!0}),t.WorkspaceAccessLevel=void 0,(r=t.WorkspaceAccessLevel||(t.WorkspaceAccessLevel={})).Owner=\"owner\",r.Admin=\"admin\",r.ReadOnly=\"read-only\",r.WriteAndRead=\"write-and-read\"},6976:(e,t)=>{var r;Object.defineProperty(t,\"__esModule\",{value:!0}),t.WorkspaceType=void 0,(r=t.WorkspaceType||(t.WorkspaceType={})).Root=\"root\",r.Team=\"team\",r.Private=\"private\"},8404:(e,t)=>{var r;Object.defineProperty(t,\"__esModule\",{value:!0}),t.WorkspaceUserStatus=void 0,(r=t.WorkspaceUserStatus||(t.WorkspaceUserStatus={})).Active=\"active\",r.PendingKeyshare=\"pending-keyshare\"},31679:function(e,t,r){var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!(\"get\"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)\"default\"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,\"__esModule\",{value:!0}),i(r(19883),t),i(r(31624),t),i(r(9457),t),i(r(56380),t),i(r(63465),t),i(r(60187),t),i(r(37693),t),i(r(95892),t),i(r(46923),t),i(r(58162),t),i(r(96148),t),i(r(44506),t),i(r(71411),t),i(r(81859),t),i(r(44021),t),i(r(15959),t),i(r(46278),t),i(r(57658),t),i(r(23562),t),i(r(89384),t),i(r(16374),t),i(r(4160),t),i(r(38449),t),i(r(20494),t),i(r(76972),t),i(r(47781),t),i(r(1649),t),i(r(18851),t),i(r(93726),t),i(r(6976),t),i(r(8404),t)},10256:function(e,t,r){var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!(\"get\"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)\"default\"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,\"__esModule\",{value:!0}),i(r(31679),t)},29606:(e,t)=>{var r;Object.defineProperty(t,\"__esModule\",{value:!0}),t.CloudProvider=void 0,(r=t.CloudProvider||(t.CloudProvider={})).Dropbox=\"Dropbox\",r.Google=\"Google Drive\",r.OneDrive=\"OneDrive\"},23234:(e,t)=>{var r;Object.defineProperty(t,\"__esModule\",{value:!0}),t.DropboxBackupFrequency=void 0,(r=t.DropboxBackupFrequency||(t.DropboxBackupFrequency={})).Disabled=\"disabled\",r.Daily=\"daily\",r.Weekly=\"weekly\"},60468:(e,t)=>{var r;Object.defineProperty(t,\"__esModule\",{value:!0}),t.EmailBackupFrequency=void 0,(r=t.EmailBackupFrequency||(t.EmailBackupFrequency={})).Disabled=\"disabled\",r.Daily=\"daily\",r.Weekly=\"weekly\"},53757:(e,t)=>{var r;Object.defineProperty(t,\"__esModule\",{value:!0}),t.GoogleDriveBackupFrequency=void 0,(r=t.GoogleDriveBackupFrequency||(t.GoogleDriveBackupFrequency={})).Disabled=\"disabled\",r.Daily=\"daily\",r.Weekly=\"weekly\"},51032:(e,t)=>{Object.defineProperty(t,\"__esModule\",{value:!0})},93063:(e,t)=>{var r;Object.defineProperty(t,\"__esModule\",{value:!0}),t.LogSessionUserAgentOption=void 0,(r=t.LogSessionUserAgentOption||(t.LogSessionUserAgentOption={})).Disabled=\"disabled\",r.Enabled=\"enabled\"},50722:(e,t)=>{var r;Object.defineProperty(t,\"__esModule\",{value:!0}),t.MuteFailedBackupsEmailsOption=void 0,(r=t.MuteFailedBackupsEmailsOption||(t.MuteFailedBackupsEmailsOption={})).Muted=\"muted\",r.NotMuted=\"not_muted\"},92360:(e,t)=>{var r;Object.defineProperty(t,\"__esModule\",{value:!0}),t.MuteFailedCloudBackupsEmailsOption=void 0,(r=t.MuteFailedCloudBackupsEmailsOption||(t.MuteFailedCloudBackupsEmailsOption={})).Muted=\"muted\",r.NotMuted=\"not_muted\"},35325:(e,t)=>{var r;Object.defineProperty(t,\"__esModule\",{value:!0}),t.MuteMarketingEmailsOption=void 0,(r=t.MuteMarketingEmailsOption||(t.MuteMarketingEmailsOption={})).Muted=\"muted\",r.NotMuted=\"not_muted\"},84395:(e,t)=>{var r;Object.defineProperty(t,\"__esModule\",{value:!0}),t.MuteSignInEmailsOption=void 0,(r=t.MuteSignInEmailsOption||(t.MuteSignInEmailsOption={})).Muted=\"muted\",r.NotMuted=\"not_muted\"},14822:(e,t)=>{var r;Object.defineProperty(t,\"__esModule\",{value:!0}),t.OneDriveBackupFrequency=void 0,(r=t.OneDriveBackupFrequency||(t.OneDriveBackupFrequency={})).Disabled=\"disabled\",r.Daily=\"daily\",r.Weekly=\"weekly\"},54342:(e,t)=>{Object.defineProperty(t,\"__esModule\",{value:!0})},78245:(e,t)=>{var r;Object.defineProperty(t,\"__esModule\",{value:!0}),t.SettingName=void 0,(r=t.SettingName||(t.SettingName={})).MfaSecret=\"MFA_SECRET\",r.ExtensionKey=\"EXTENSION_KEY\",r.EmailBackupFrequency=\"EMAIL_BACKUP_FREQUENCY\",r.DropboxBackupFrequency=\"DROPBOX_BACKUP_FREQUENCY\",r.DropboxBackupToken=\"DROPBOX_BACKUP_TOKEN\",r.OneDriveBackupFrequency=\"ONE_DRIVE_BACKUP_FREQUENCY\",r.OneDriveBackupToken=\"ONE_DRIVE_BACKUP_TOKEN\",r.GoogleDriveBackupFrequency=\"GOOGLE_DRIVE_BACKUP_FREQUENCY\",r.GoogleDriveBackupToken=\"GOOGLE_DRIVE_BACKUP_TOKEN\",r.MuteFailedBackupsEmails=\"MUTE_FAILED_BACKUPS_EMAILS\",r.MuteFailedCloudBackupsEmails=\"MUTE_FAILED_CLOUD_BACKUPS_EMAILS\",r.MuteSignInEmails=\"MUTE_SIGN_IN_EMAILS\",r.MuteMarketingEmails=\"MUTE_MARKETING_EMAILS\",r.ListedAuthorSecrets=\"LISTED_AUTHOR_SECRETS\",r.LogSessionUserAgent=\"LOG_SESSION_USER_AGENT\"},16355:(e,t)=>{var r;Object.defineProperty(t,\"__esModule\",{value:!0}),t.SubscriptionSettingName=void 0,(r=t.SubscriptionSettingName||(t.SubscriptionSettingName={})).FileUploadBytesLimit=\"FILE_UPLOAD_BYTES_LIMIT\",r.FileUploadBytesUsed=\"FILE_UPLOAD_BYTES_USED\"},91557:function(e,t,r){var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!(\"get\"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)\"default\"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,\"__esModule\",{value:!0}),i(r(29606),t),i(r(23234),t),i(r(60468),t),i(r(53757),t),i(r(51032),t),i(r(93063),t),i(r(50722),t),i(r(92360),t),i(r(35325),t),i(r(84395),t),i(r(14822),t),i(r(54342),t),i(r(78245),t),i(r(16355),t)},9382:function(e,t,r){var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!(\"get\"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)\"default\"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,\"__esModule\",{value:!0}),i(r(91557),t)},66181:function(e){e.exports=function(){function e(t){return e=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e},e(t)}function t(e,r){return t=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},t(e,r)}function r(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function n(e,i,o){return n=r()?Reflect.construct:function(e,r,n){var i=[null];i.push.apply(i,r);var o=new(Function.bind.apply(e,i));return n&&t(o,n.prototype),o},n.apply(null,arguments)}function i(e){return function(e){if(Array.isArray(e))return o(e)}(e)||function(e){if(\"undefined\"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e[\"@@iterator\"])return Array.from(e)}(e)||function(e,t){if(e){if(\"string\"==typeof e)return o(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return\"Object\"===r&&e.constructor&&(r=e.constructor.name),\"Map\"===r||\"Set\"===r?Array.from(e):\"Arguments\"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?o(e,t):void 0}}(e)||function(){throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}()}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var s=Object.hasOwnProperty,a=Object.setPrototypeOf,c=Object.isFrozen,l=Object.getPrototypeOf,u=Object.getOwnPropertyDescriptor,d=Object.freeze,p=Object.seal,h=Object.create,y=\"undefined\"!=typeof Reflect&&Reflect,v=y.apply,f=y.construct;v||(v=function(e,t,r){return e.apply(t,r)}),d||(d=function(e){return e}),p||(p=function(e){return e}),f||(f=function(e,t){return n(e,i(t))});var g,m=A(Array.prototype.forEach),S=A(Array.prototype.pop),b=A(Array.prototype.push),P=A(String.prototype.toLowerCase),_=A(String.prototype.match),w=A(String.prototype.replace),E=A(String.prototype.indexOf),O=A(String.prototype.trim),I=A(RegExp.prototype.test),C=(g=TypeError,function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return f(g,t)});function A(e){return function(t){for(var r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];return v(e,t,n)}}function M(e,t,r){r=r||P,a&&a(e,null);for(var n=t.length;n--;){var i=t[n];if(\"string\"==typeof i){var o=r(i);o!==i&&(c(t)||(t[n]=o),i=o)}e[i]=!0}return e}function D(e){var t,r=h(null);for(t in e)v(s,e,[t])&&(r[t]=e[t]);return r}function T(e,t){for(;null!==e;){var r=u(e,t);if(r){if(r.get)return A(r.get);if(\"function\"==typeof r.value)return A(r.value)}e=l(e)}return function(e){return console.warn(\"fallback value for\",e),null}}var R=d([\"a\",\"abbr\",\"acronym\",\"address\",\"area\",\"article\",\"aside\",\"audio\",\"b\",\"bdi\",\"bdo\",\"big\",\"blink\",\"blockquote\",\"body\",\"br\",\"button\",\"canvas\",\"caption\",\"center\",\"cite\",\"code\",\"col\",\"colgroup\",\"content\",\"data\",\"datalist\",\"dd\",\"decorator\",\"del\",\"details\",\"dfn\",\"dialog\",\"dir\",\"div\",\"dl\",\"dt\",\"element\",\"em\",\"fieldset\",\"figcaption\",\"figure\",\"font\",\"footer\",\"form\",\"h1\",\"h2\",\"h3\",\"h4\",\"h5\",\"h6\",\"head\",\"header\",\"hgroup\",\"hr\",\"html\",\"i\",\"img\",\"input\",\"ins\",\"kbd\",\"label\",\"legend\",\"li\",\"main\",\"map\",\"mark\",\"marquee\",\"menu\",\"menuitem\",\"meter\",\"nav\",\"nobr\",\"ol\",\"optgroup\",\"option\",\"output\",\"p\",\"picture\",\"pre\",\"progress\",\"q\",\"rp\",\"rt\",\"ruby\",\"s\",\"samp\",\"section\",\"select\",\"shadow\",\"small\",\"source\",\"spacer\",\"span\",\"strike\",\"strong\",\"style\",\"sub\",\"summary\",\"sup\",\"table\",\"tbody\",\"td\",\"template\",\"textarea\",\"tfoot\",\"th\",\"thead\",\"time\",\"tr\",\"track\",\"tt\",\"u\",\"ul\",\"var\",\"video\",\"wbr\"]),k=d([\"svg\",\"a\",\"altglyph\",\"altglyphdef\",\"altglyphitem\",\"animatecolor\",\"animatemotion\",\"animatetransform\",\"circle\",\"clippath\",\"defs\",\"desc\",\"ellipse\",\"filter\",\"font\",\"g\",\"glyph\",\"glyphref\",\"hkern\",\"image\",\"line\",\"lineargradient\",\"marker\",\"mask\",\"metadata\",\"mpath\",\"path\",\"pattern\",\"polygon\",\"polyline\",\"radialgradient\",\"rect\",\"stop\",\"style\",\"switch\",\"symbol\",\"text\",\"textpath\",\"title\",\"tref\",\"tspan\",\"view\",\"vkern\"]),N=d([\"feBlend\",\"feColorMatrix\",\"feComponentTransfer\",\"feComposite\",\"feConvolveMatrix\",\"feDiffuseLighting\",\"feDisplacementMap\",\"feDistantLight\",\"feFlood\",\"feFuncA\",\"feFuncB\",\"feFuncG\",\"feFuncR\",\"feGaussianBlur\",\"feImage\",\"feMerge\",\"feMergeNode\",\"feMorphology\",\"feOffset\",\"fePointLight\",\"feSpecularLighting\",\"feSpotLight\",\"feTile\",\"feTurbulence\"]),F=d([\"animate\",\"color-profile\",\"cursor\",\"discard\",\"fedropshadow\",\"font-face\",\"font-face-format\",\"font-face-name\",\"font-face-src\",\"font-face-uri\",\"foreignobject\",\"hatch\",\"hatchpath\",\"mesh\",\"meshgradient\",\"meshpatch\",\"meshrow\",\"missing-glyph\",\"script\",\"set\",\"solidcolor\",\"unknown\",\"use\"]),j=d([\"math\",\"menclose\",\"merror\",\"mfenced\",\"mfrac\",\"mglyph\",\"mi\",\"mlabeledtr\",\"mmultiscripts\",\"mn\",\"mo\",\"mover\",\"mpadded\",\"mphantom\",\"mroot\",\"mrow\",\"ms\",\"mspace\",\"msqrt\",\"mstyle\",\"msub\",\"msup\",\"msubsup\",\"mtable\",\"mtd\",\"mtext\",\"mtr\",\"munder\",\"munderover\"]),K=d([\"maction\",\"maligngroup\",\"malignmark\",\"mlongdiv\",\"mscarries\",\"mscarry\",\"msgroup\",\"mstack\",\"msline\",\"msrow\",\"semantics\",\"annotation\",\"annotation-xml\",\"mprescripts\",\"none\"]),x=d([\"#text\"]),L=d([\"accept\",\"action\",\"align\",\"alt\",\"autocapitalize\",\"autocomplete\",\"autopictureinpicture\",\"autoplay\",\"background\",\"bgcolor\",\"border\",\"capture\",\"cellpadding\",\"cellspacing\",\"checked\",\"cite\",\"class\",\"clear\",\"color\",\"cols\",\"colspan\",\"controls\",\"controlslist\",\"coords\",\"crossorigin\",\"datetime\",\"decoding\",\"default\",\"dir\",\"disabled\",\"disablepictureinpicture\",\"disableremoteplayback\",\"download\",\"draggable\",\"enctype\",\"enterkeyhint\",\"face\",\"for\",\"headers\",\"height\",\"hidden\",\"high\",\"href\",\"hreflang\",\"id\",\"inputmode\",\"integrity\",\"ismap\",\"kind\",\"label\",\"lang\",\"list\",\"loading\",\"loop\",\"low\",\"max\",\"maxlength\",\"media\",\"method\",\"min\",\"minlength\",\"multiple\",\"muted\",\"name\",\"nonce\",\"noshade\",\"novalidate\",\"nowrap\",\"open\",\"optimum\",\"pattern\",\"placeholder\",\"playsinline\",\"poster\",\"preload\",\"pubdate\",\"radiogroup\",\"readonly\",\"rel\",\"required\",\"rev\",\"reversed\",\"role\",\"rows\",\"rowspan\",\"spellcheck\",\"scope\",\"selected\",\"shape\",\"size\",\"sizes\",\"span\",\"srclang\",\"start\",\"src\",\"srcset\",\"step\",\"style\",\"summary\",\"tabindex\",\"title\",\"translate\",\"type\",\"usemap\",\"valign\",\"value\",\"width\",\"xmlns\",\"slot\"]),U=d([\"accent-height\",\"accumulate\",\"additive\",\"alignment-baseline\",\"ascent\",\"attributename\",\"attributetype\",\"azimuth\",\"basefrequency\",\"baseline-shift\",\"begin\",\"bias\",\"by\",\"class\",\"clip\",\"clippathunits\",\"clip-path\",\"clip-rule\",\"color\",\"color-interpolation\",\"color-interpolation-filters\",\"color-profile\",\"color-rendering\",\"cx\",\"cy\",\"d\",\"dx\",\"dy\",\"diffuseconstant\",\"direction\",\"display\",\"divisor\",\"dur\",\"edgemode\",\"elevation\",\"end\",\"fill\",\"fill-opacity\",\"fill-rule\",\"filter\",\"filterunits\",\"flood-color\",\"flood-opacity\",\"font-family\",\"font-size\",\"font-size-adjust\",\"font-stretch\",\"font-style\",\"font-variant\",\"font-weight\",\"fx\",\"fy\",\"g1\",\"g2\",\"glyph-name\",\"glyphref\",\"gradientunits\",\"gradienttransform\",\"height\",\"href\",\"id\",\"image-rendering\",\"in\",\"in2\",\"k\",\"k1\",\"k2\",\"k3\",\"k4\",\"kerning\",\"keypoints\",\"keysplines\",\"keytimes\",\"lang\",\"lengthadjust\",\"letter-spacing\",\"kernelmatrix\",\"kernelunitlength\",\"lighting-color\",\"local\",\"marker-end\",\"marker-mid\",\"marker-start\",\"markerheight\",\"markerunits\",\"markerwidth\",\"maskcontentunits\",\"maskunits\",\"max\",\"mask\",\"media\",\"method\",\"mode\",\"min\",\"name\",\"numoctaves\",\"offset\",\"operator\",\"opacity\",\"order\",\"orient\",\"orientation\",\"origin\",\"overflow\",\"paint-order\",\"path\",\"pathlength\",\"patterncontentunits\",\"patterntransform\",\"patternunits\",\"points\",\"preservealpha\",\"preserveaspectratio\",\"primitiveunits\",\"r\",\"rx\",\"ry\",\"radius\",\"refx\",\"refy\",\"repeatcount\",\"repeatdur\",\"restart\",\"result\",\"rotate\",\"scale\",\"seed\",\"shape-rendering\",\"specularconstant\",\"specularexponent\",\"spreadmethod\",\"startoffset\",\"stddeviation\",\"stitchtiles\",\"stop-color\",\"stop-opacity\",\"stroke-dasharray\",\"stroke-dashoffset\",\"stroke-linecap\",\"stroke-linejoin\",\"stroke-miterlimit\",\"stroke-opacity\",\"stroke\",\"stroke-width\",\"style\",\"surfacescale\",\"systemlanguage\",\"tabindex\",\"targetx\",\"targety\",\"transform\",\"transform-origin\",\"text-anchor\",\"text-decoration\",\"text-rendering\",\"textlength\",\"type\",\"u1\",\"u2\",\"unicode\",\"values\",\"viewbox\",\"visibility\",\"version\",\"vert-adv-y\",\"vert-origin-x\",\"vert-origin-y\",\"width\",\"word-spacing\",\"wrap\",\"writing-mode\",\"xchannelselector\",\"ychannelselector\",\"x\",\"x1\",\"x2\",\"xmlns\",\"y\",\"y1\",\"y2\",\"z\",\"zoomandpan\"]),V=d([\"accent\",\"accentunder\",\"align\",\"bevelled\",\"close\",\"columnsalign\",\"columnlines\",\"columnspan\",\"denomalign\",\"depth\",\"dir\",\"display\",\"displaystyle\",\"encoding\",\"fence\",\"frame\",\"height\",\"href\",\"id\",\"largeop\",\"length\",\"linethickness\",\"lspace\",\"lquote\",\"mathbackground\",\"mathcolor\",\"mathsize\",\"mathvariant\",\"maxsize\",\"minsize\",\"movablelimits\",\"notation\",\"numalign\",\"open\",\"rowalign\",\"rowlines\",\"rowspacing\",\"rowspan\",\"rspace\",\"rquote\",\"scriptlevel\",\"scriptminsize\",\"scriptsizemultiplier\",\"selection\",\"separator\",\"separators\",\"stretchy\",\"subscriptshift\",\"supscriptshift\",\"symmetric\",\"voffset\",\"width\",\"xmlns\"]),B=d([\"xlink:href\",\"xml:id\",\"xlink:title\",\"xml:space\",\"xmlns:xlink\"]),W=p(/\\{\\{[\\w\\W]*|[\\w\\W]*\\}\\}/gm),G=p(/<%[\\w\\W]*|[\\w\\W]*%>/gm),H=p(/^data-[\\-\\w.\\u00B7-\\uFFFF]/),z=p(/^aria-[\\-\\w]+$/),q=p(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\\-]+(?:[^a-z+.\\-:]|$))/i),Y=p(/^(?:\\w+script|data):/i),J=p(/[\\u0000-\\u0020\\u00A0\\u1680\\u180E\\u2000-\\u2029\\u205F\\u3000]/g),Q=p(/^html$/i),X=function(){return\"undefined\"==typeof window?null:window},$=function(t,r){if(\"object\"!==e(t)||\"function\"!=typeof t.createPolicy)return null;var n=null,i=\"data-tt-policy-suffix\";r.currentScript&&r.currentScript.hasAttribute(i)&&(n=r.currentScript.getAttribute(i));var o=\"dompurify\"+(n?\"#\"+n:\"\");try{return t.createPolicy(o,{createHTML:function(e){return e},createScriptURL:function(e){return e}})}catch(e){return console.warn(\"TrustedTypes policy \"+o+\" could not be created.\"),null}};return function t(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:X(),n=function(e){return t(e)};if(n.version=\"2.4.0\",n.removed=[],!r||!r.document||9!==r.document.nodeType)return n.isSupported=!1,n;var o=r.document,s=r.document,a=r.DocumentFragment,c=r.HTMLTemplateElement,l=r.Node,u=r.Element,p=r.NodeFilter,h=r.NamedNodeMap,y=void 0===h?r.NamedNodeMap||r.MozNamedAttrMap:h,v=r.HTMLFormElement,f=r.DOMParser,g=r.trustedTypes,A=u.prototype,Z=T(A,\"cloneNode\"),ee=T(A,\"nextSibling\"),te=T(A,\"childNodes\"),re=T(A,\"parentNode\");if(\"function\"==typeof c){var ne=s.createElement(\"template\");ne.content&&ne.content.ownerDocument&&(s=ne.content.ownerDocument)}var ie=$(g,o),oe=ie?ie.createHTML(\"\"):\"\",se=s,ae=se.implementation,ce=se.createNodeIterator,le=se.createDocumentFragment,ue=se.getElementsByTagName,de=o.importNode,pe={};try{pe=D(s).documentMode?s.documentMode:{}}catch(e){}var he={};n.isSupported=\"function\"==typeof re&&ae&&void 0!==ae.createHTMLDocument&&9!==pe;var ye,ve,fe=W,ge=G,me=H,Se=z,be=Y,Pe=J,_e=q,we=null,Ee=M({},[].concat(i(R),i(k),i(N),i(j),i(x))),Oe=null,Ie=M({},[].concat(i(L),i(U),i(V),i(B))),Ce=Object.seal(Object.create(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),Ae=null,Me=null,De=!0,Te=!0,Re=!1,ke=!1,Ne=!1,Fe=!1,je=!1,Ke=!1,xe=!1,Le=!1,Ue=!0,Ve=!1,Be=\"user-content-\",We=!0,Ge=!1,He={},ze=null,qe=M({},[\"annotation-xml\",\"audio\",\"colgroup\",\"desc\",\"foreignobject\",\"head\",\"iframe\",\"math\",\"mi\",\"mn\",\"mo\",\"ms\",\"mtext\",\"noembed\",\"noframes\",\"noscript\",\"plaintext\",\"script\",\"style\",\"svg\",\"template\",\"thead\",\"title\",\"video\",\"xmp\"]),Ye=null,Je=M({},[\"audio\",\"video\",\"img\",\"source\",\"image\",\"track\"]),Qe=null,Xe=M({},[\"alt\",\"class\",\"for\",\"id\",\"label\",\"name\",\"pattern\",\"placeholder\",\"role\",\"summary\",\"title\",\"value\",\"style\",\"xmlns\"]),$e=\"http://www.w3.org/1998/Math/MathML\",Ze=\"http://www.w3.org/2000/svg\",et=\"http://www.w3.org/1999/xhtml\",tt=et,rt=!1,nt=[\"application/xhtml+xml\",\"text/html\"],it=\"text/html\",ot=null,st=s.createElement(\"form\"),at=function(e){return e instanceof RegExp||e instanceof Function},ct=function(t){ot&&ot===t||(t&&\"object\"===e(t)||(t={}),t=D(t),ye=ye=-1===nt.indexOf(t.PARSER_MEDIA_TYPE)?it:t.PARSER_MEDIA_TYPE,ve=\"application/xhtml+xml\"===ye?function(e){return e}:P,we=\"ALLOWED_TAGS\"in t?M({},t.ALLOWED_TAGS,ve):Ee,Oe=\"ALLOWED_ATTR\"in t?M({},t.ALLOWED_ATTR,ve):Ie,Qe=\"ADD_URI_SAFE_ATTR\"in t?M(D(Xe),t.ADD_URI_SAFE_ATTR,ve):Xe,Ye=\"ADD_DATA_URI_TAGS\"in t?M(D(Je),t.ADD_DATA_URI_TAGS,ve):Je,ze=\"FORBID_CONTENTS\"in t?M({},t.FORBID_CONTENTS,ve):qe,Ae=\"FORBID_TAGS\"in t?M({},t.FORBID_TAGS,ve):{},Me=\"FORBID_ATTR\"in t?M({},t.FORBID_ATTR,ve):{},He=\"USE_PROFILES\"in t&&t.USE_PROFILES,De=!1!==t.ALLOW_ARIA_ATTR,Te=!1!==t.ALLOW_DATA_ATTR,Re=t.ALLOW_UNKNOWN_PROTOCOLS||!1,ke=t.SAFE_FOR_TEMPLATES||!1,Ne=t.WHOLE_DOCUMENT||!1,Ke=t.RETURN_DOM||!1,xe=t.RETURN_DOM_FRAGMENT||!1,Le=t.RETURN_TRUSTED_TYPE||!1,je=t.FORCE_BODY||!1,Ue=!1!==t.SANITIZE_DOM,Ve=t.SANITIZE_NAMED_PROPS||!1,We=!1!==t.KEEP_CONTENT,Ge=t.IN_PLACE||!1,_e=t.ALLOWED_URI_REGEXP||_e,tt=t.NAMESPACE||et,t.CUSTOM_ELEMENT_HANDLING&&at(t.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(Ce.tagNameCheck=t.CUSTOM_ELEMENT_HANDLING.tagNameCheck),t.CUSTOM_ELEMENT_HANDLING&&at(t.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(Ce.attributeNameCheck=t.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),t.CUSTOM_ELEMENT_HANDLING&&\"boolean\"==typeof t.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements&&(Ce.allowCustomizedBuiltInElements=t.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),ke&&(Te=!1),xe&&(Ke=!0),He&&(we=M({},i(x)),Oe=[],!0===He.html&&(M(we,R),M(Oe,L)),!0===He.svg&&(M(we,k),M(Oe,U),M(Oe,B)),!0===He.svgFilters&&(M(we,N),M(Oe,U),M(Oe,B)),!0===He.mathMl&&(M(we,j),M(Oe,V),M(Oe,B))),t.ADD_TAGS&&(we===Ee&&(we=D(we)),M(we,t.ADD_TAGS,ve)),t.ADD_ATTR&&(Oe===Ie&&(Oe=D(Oe)),M(Oe,t.ADD_ATTR,ve)),t.ADD_URI_SAFE_ATTR&&M(Qe,t.ADD_URI_SAFE_ATTR,ve),t.FORBID_CONTENTS&&(ze===qe&&(ze=D(ze)),M(ze,t.FORBID_CONTENTS,ve)),We&&(we[\"#text\"]=!0),Ne&&M(we,[\"html\",\"head\",\"body\"]),we.table&&(M(we,[\"tbody\"]),delete Ae.tbody),d&&d(t),ot=t)},lt=M({},[\"mi\",\"mo\",\"mn\",\"ms\",\"mtext\"]),ut=M({},[\"foreignobject\",\"desc\",\"title\",\"annotation-xml\"]),dt=M({},[\"title\",\"style\",\"font\",\"a\",\"script\"]),pt=M({},k);M(pt,N),M(pt,F);var ht=M({},j);M(ht,K);var yt=function(e){var t=re(e);t&&t.tagName||(t={namespaceURI:et,tagName:\"template\"});var r=P(e.tagName),n=P(t.tagName);return e.namespaceURI===Ze?t.namespaceURI===et?\"svg\"===r:t.namespaceURI===$e?\"svg\"===r&&(\"annotation-xml\"===n||lt[n]):Boolean(pt[r]):e.namespaceURI===$e?t.namespaceURI===et?\"math\"===r:t.namespaceURI===Ze?\"math\"===r&&ut[n]:Boolean(ht[r]):e.namespaceURI===et&&!(t.namespaceURI===Ze&&!ut[n])&&!(t.namespaceURI===$e&&!lt[n])&&!ht[r]&&(dt[r]||!pt[r])},vt=function(e){b(n.removed,{element:e});try{e.parentNode.removeChild(e)}catch(t){try{e.outerHTML=oe}catch(t){e.remove()}}},ft=function(e,t){try{b(n.removed,{attribute:t.getAttributeNode(e),from:t})}catch(e){b(n.removed,{attribute:null,from:t})}if(t.removeAttribute(e),\"is\"===e&&!Oe[e])if(Ke||xe)try{vt(t)}catch(e){}else try{t.setAttribute(e,\"\")}catch(e){}},gt=function(e){var t,r;if(je)e=\"<remove></remove>\"+e;else{var n=_(e,/^[\\r\\n\\t ]+/);r=n&&n[0]}\"application/xhtml+xml\"===ye&&(e='<html xmlns=\"http://www.w3.org/1999/xhtml\"><head></head><body>'+e+\"</body></html>\");var i=ie?ie.createHTML(e):e;if(tt===et)try{t=(new f).parseFromString(i,ye)}catch(e){}if(!t||!t.documentElement){t=ae.createDocument(tt,\"template\",null);try{t.documentElement.innerHTML=rt?\"\":i}catch(e){}}var o=t.body||t.documentElement;return e&&r&&o.insertBefore(s.createTextNode(r),o.childNodes[0]||null),tt===et?ue.call(t,Ne?\"html\":\"body\")[0]:Ne?t.documentElement:o},mt=function(e){return ce.call(e.ownerDocument||e,e,p.SHOW_ELEMENT|p.SHOW_COMMENT|p.SHOW_TEXT,null,!1)},St=function(e){return e instanceof v&&(\"string\"!=typeof e.nodeName||\"string\"!=typeof e.textContent||\"function\"!=typeof e.removeChild||!(e.attributes instanceof y)||\"function\"!=typeof e.removeAttribute||\"function\"!=typeof e.setAttribute||\"string\"!=typeof e.namespaceURI||\"function\"!=typeof e.insertBefore)},bt=function(t){return\"object\"===e(l)?t instanceof l:t&&\"object\"===e(t)&&\"number\"==typeof t.nodeType&&\"string\"==typeof t.nodeName},Pt=function(e,t,r){he[e]&&m(he[e],(function(e){e.call(n,t,r,ot)}))},_t=function(e){var t;if(Pt(\"beforeSanitizeElements\",e,null),St(e))return vt(e),!0;if(I(/[\\u0080-\\uFFFF]/,e.nodeName))return vt(e),!0;var r=ve(e.nodeName);if(Pt(\"uponSanitizeElement\",e,{tagName:r,allowedTags:we}),e.hasChildNodes()&&!bt(e.firstElementChild)&&(!bt(e.content)||!bt(e.content.firstElementChild))&&I(/<[/\\w]/g,e.innerHTML)&&I(/<[/\\w]/g,e.textContent))return vt(e),!0;if(\"select\"===r&&I(/<template/i,e.innerHTML))return vt(e),!0;if(!we[r]||Ae[r]){if(!Ae[r]&&Et(r)){if(Ce.tagNameCheck instanceof RegExp&&I(Ce.tagNameCheck,r))return!1;if(Ce.tagNameCheck instanceof Function&&Ce.tagNameCheck(r))return!1}if(We&&!ze[r]){var i=re(e)||e.parentNode,o=te(e)||e.childNodes;if(o&&i)for(var s=o.length-1;s>=0;--s)i.insertBefore(Z(o[s],!0),ee(e))}return vt(e),!0}return e instanceof u&&!yt(e)?(vt(e),!0):\"noscript\"!==r&&\"noembed\"!==r||!I(/<\\/no(script|embed)/i,e.innerHTML)?(ke&&3===e.nodeType&&(t=e.textContent,t=w(t,fe,\" \"),t=w(t,ge,\" \"),e.textContent!==t&&(b(n.removed,{element:e.cloneNode()}),e.textContent=t)),Pt(\"afterSanitizeElements\",e,null),!1):(vt(e),!0)},wt=function(e,t,r){if(Ue&&(\"id\"===t||\"name\"===t)&&(r in s||r in st))return!1;if(Te&&!Me[t]&&I(me,t));else if(De&&I(Se,t));else if(!Oe[t]||Me[t]){if(!(Et(e)&&(Ce.tagNameCheck instanceof RegExp&&I(Ce.tagNameCheck,e)||Ce.tagNameCheck instanceof Function&&Ce.tagNameCheck(e))&&(Ce.attributeNameCheck instanceof RegExp&&I(Ce.attributeNameCheck,t)||Ce.attributeNameCheck instanceof Function&&Ce.attributeNameCheck(t))||\"is\"===t&&Ce.allowCustomizedBuiltInElements&&(Ce.tagNameCheck instanceof RegExp&&I(Ce.tagNameCheck,r)||Ce.tagNameCheck instanceof Function&&Ce.tagNameCheck(r))))return!1}else if(Qe[t]);else if(I(_e,w(r,Pe,\"\")));else if(\"src\"!==t&&\"xlink:href\"!==t&&\"href\"!==t||\"script\"===e||0!==E(r,\"data:\")||!Ye[e])if(Re&&!I(be,w(r,Pe,\"\")));else if(r)return!1;return!0},Et=function(e){return e.indexOf(\"-\")>0},Ot=function(t){var r,i,o,s;Pt(\"beforeSanitizeAttributes\",t,null);var a=t.attributes;if(a){var c={attrName:\"\",attrValue:\"\",keepAttr:!0,allowedAttributes:Oe};for(s=a.length;s--;){var l=r=a[s],u=l.name,d=l.namespaceURI;if(i=\"value\"===u?r.value:O(r.value),o=ve(u),c.attrName=o,c.attrValue=i,c.keepAttr=!0,c.forceKeepAttr=void 0,Pt(\"uponSanitizeAttribute\",t,c),i=c.attrValue,!c.forceKeepAttr&&(ft(u,t),c.keepAttr))if(I(/\\/>/i,i))ft(u,t);else{ke&&(i=w(i,fe,\" \"),i=w(i,ge,\" \"));var p=ve(t.nodeName);if(wt(p,o,i)){if(!Ve||\"id\"!==o&&\"name\"!==o||(ft(u,t),i=Be+i),ie&&\"object\"===e(g)&&\"function\"==typeof g.getAttributeType)if(d);else switch(g.getAttributeType(p,o)){case\"TrustedHTML\":i=ie.createHTML(i);break;case\"TrustedScriptURL\":i=ie.createScriptURL(i)}try{d?t.setAttributeNS(d,u,i):t.setAttribute(u,i),S(n.removed)}catch(e){}}}}Pt(\"afterSanitizeAttributes\",t,null)}},It=function e(t){var r,n=mt(t);for(Pt(\"beforeSanitizeShadowDOM\",t,null);r=n.nextNode();)Pt(\"uponSanitizeShadowNode\",r,null),_t(r)||(r.content instanceof a&&e(r.content),Ot(r));Pt(\"afterSanitizeShadowDOM\",t,null)};return n.sanitize=function(t){var i,s,c,u,d,p=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if((rt=!t)&&(t=\"\\x3c!--\\x3e\"),\"string\"!=typeof t&&!bt(t)){if(\"function\"!=typeof t.toString)throw C(\"toString is not a function\");if(\"string\"!=typeof(t=t.toString()))throw C(\"dirty is not a string, aborting\")}if(!n.isSupported){if(\"object\"===e(r.toStaticHTML)||\"function\"==typeof r.toStaticHTML){if(\"string\"==typeof t)return r.toStaticHTML(t);if(bt(t))return r.toStaticHTML(t.outerHTML)}return t}if(Fe||ct(p),n.removed=[],\"string\"==typeof t&&(Ge=!1),Ge){if(t.nodeName){var h=ve(t.nodeName);if(!we[h]||Ae[h])throw C(\"root node is forbidden and cannot be sanitized in-place\")}}else if(t instanceof l)1===(s=(i=gt(\"\\x3c!----\\x3e\")).ownerDocument.importNode(t,!0)).nodeType&&\"BODY\"===s.nodeName||\"HTML\"===s.nodeName?i=s:i.appendChild(s);else{if(!Ke&&!ke&&!Ne&&-1===t.indexOf(\"<\"))return ie&&Le?ie.createHTML(t):t;if(!(i=gt(t)))return Ke?null:Le?oe:\"\"}i&&je&&vt(i.firstChild);for(var y=mt(Ge?t:i);c=y.nextNode();)3===c.nodeType&&c===u||_t(c)||(c.content instanceof a&&It(c.content),Ot(c),u=c);if(u=null,Ge)return t;if(Ke){if(xe)for(d=le.call(i.ownerDocument);i.firstChild;)d.appendChild(i.firstChild);else d=i;return Oe.shadowroot&&(d=de.call(o,d,!0)),d}var v=Ne?i.outerHTML:i.innerHTML;return Ne&&we[\"!doctype\"]&&i.ownerDocument&&i.ownerDocument.doctype&&i.ownerDocument.doctype.name&&I(Q,i.ownerDocument.doctype.name)&&(v=\"<!DOCTYPE \"+i.ownerDocument.doctype.name+\">\\n\"+v),ke&&(v=w(v,fe,\" \"),v=w(v,ge,\" \")),ie&&Le?ie.createHTML(v):v},n.setConfig=function(e){ct(e),Fe=!0},n.clearConfig=function(){ot=null,Fe=!1},n.isValidAttribute=function(e,t,r){ot||ct({});var n=ve(e),i=ve(t);return wt(n,i,r)},n.addHook=function(e,t){\"function\"==typeof t&&(he[e]=he[e]||[],b(he[e],t))},n.removeHook=function(e){if(he[e])return S(he[e])},n.removeHooks=function(e){he[e]&&(he[e]=[])},n.removeAllHooks=function(){he={}},n}()}()},86200:(e,t,r)=>{var n=r(99805)(r(71188),\"DataView\");e.exports=n},45115:(e,t,r)=>{var n=r(70377),i=r(81239),o=r(31091),s=r(13932),a=r(69488);function c(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}c.prototype.clear=n,c.prototype.delete=i,c.prototype.get=o,c.prototype.has=s,c.prototype.set=a,e.exports=c},71089:(e,t,r)=>{var n=r(45977),i=r(4395),o=r(44807),s=r(87930),a=r(99045);function c(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}c.prototype.clear=n,c.prototype.delete=i,c.prototype.get=o,c.prototype.has=s,c.prototype.set=a,e.exports=c},16810:(e,t,r)=>{var n=r(99805)(r(71188),\"Map\");e.exports=n},10848:(e,t,r)=>{var n=r(19849),i=r(24184),o=r(24920),s=r(62638),a=r(60895);function c(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}c.prototype.clear=n,c.prototype.delete=i,c.prototype.get=o,c.prototype.has=s,c.prototype.set=a,e.exports=c},39774:(e,t,r)=>{var n=r(99805)(r(71188),\"Promise\");e.exports=n},50965:(e,t,r)=>{var n=r(99805)(r(71188),\"Set\");e.exports=n},44870:(e,t,r)=>{var n=r(10848),i=r(68579),o=r(5162);function s(e){var t=-1,r=null==e?0:e.length;for(this.__data__=new n;++t<r;)this.add(e[t])}s.prototype.add=s.prototype.push=i,s.prototype.has=o,e.exports=s},41152:(e,t,r)=>{var n=r(71089),i=r(69064),o=r(45851),s=r(70927),a=r(10998),c=r(5108);function l(e){var t=this.__data__=new n(e);this.size=t.size}l.prototype.clear=i,l.prototype.delete=o,l.prototype.get=s,l.prototype.has=a,l.prototype.set=c,e.exports=l},89335:(e,t,r)=>{var n=r(71188).Symbol;e.exports=n},71293:(e,t,r)=>{var n=r(71188).Uint8Array;e.exports=n},62459:(e,t,r)=>{var n=r(99805)(r(71188),\"WeakMap\");e.exports=n},7359:e=>{e.exports=function(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}},21058:e=>{e.exports=function(e,t){for(var r=-1,n=null==e?0:e.length,i=0,o=[];++r<n;){var s=e[r];t(s,r,e)&&(o[i++]=s)}return o}},26728:(e,t,r)=>{var n=r(34049);e.exports=function(e,t){return!(null==e||!e.length)&&n(e,t,0)>-1}},64087:e=>{e.exports=function(e,t,r){for(var n=-1,i=null==e?0:e.length;++n<i;)if(r(t,e[n]))return!0;return!1}},84427:(e,t,r)=>{var n=r(54805),i=r(41041),o=r(19041),s=r(18962),a=r(83574),c=r(90299),l=Object.prototype.hasOwnProperty;e.exports=function(e,t){var r=o(e),u=!r&&i(e),d=!r&&!u&&s(e),p=!r&&!u&&!d&&c(e),h=r||u||d||p,y=h?n(e.length,String):[],v=y.length;for(var f in e)!t&&!l.call(e,f)||h&&(\"length\"==f||d&&(\"offset\"==f||\"parent\"==f)||p&&(\"buffer\"==f||\"byteLength\"==f||\"byteOffset\"==f)||a(f,v))||y.push(f);return y}},39600:e=>{e.exports=function(e,t){for(var r=-1,n=null==e?0:e.length,i=Array(n);++r<n;)i[r]=t(e[r],r,e);return i}},50534:e=>{e.exports=function(e,t){for(var r=-1,n=t.length,i=e.length;++r<n;)e[i+r]=t[r];return e}},95681:e=>{e.exports=function(e,t){for(var r=-1,n=null==e?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}},36587:(e,t,r)=>{var n=r(95826),i=r(38288);e.exports=function(e,t,r){(void 0!==r&&!i(e[t],r)||void 0===r&&!(t in e))&&n(e,t,r)}},59521:(e,t,r)=>{var n=r(95826),i=r(38288),o=Object.prototype.hasOwnProperty;e.exports=function(e,t,r){var s=e[t];o.call(e,t)&&i(s,r)&&(void 0!==r||t in e)||n(e,t,r)}},25063:(e,t,r)=>{var n=r(38288);e.exports=function(e,t){for(var r=e.length;r--;)if(n(e[r][0],t))return r;return-1}},95826:(e,t,r)=>{var n=r(65745);e.exports=function(e,t,r){\"__proto__\"==t&&n?n(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}},92080:(e,t,r)=>{var n=r(57458),i=Object.create,o=function(){function e(){}return function(t){if(!n(t))return{};if(i)return i(t);e.prototype=t;var r=new e;return e.prototype=void 0,r}}();e.exports=o},36869:e=>{e.exports=function(e,t,r,n){for(var i=e.length,o=r+(n?1:-1);n?o--:++o<i;)if(t(e[o],o,e))return o;return-1}},56609:(e,t,r)=>{var n=r(56345)();e.exports=n},34820:(e,t,r)=>{var n=r(67304),i=r(35657);e.exports=function(e,t){for(var r=0,o=(t=n(t,e)).length;null!=e&&r<o;)e=e[i(t[r++])];return r&&r==o?e:void 0}},48968:(e,t,r)=>{var n=r(50534),i=r(19041);e.exports=function(e,t,r){var o=t(e);return i(e)?o:n(o,r(e))}},84031:(e,t,r)=>{var n=r(89335),i=r(31307),o=r(95780),s=n?n.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?\"[object Undefined]\":\"[object Null]\":s&&s in Object(e)?i(e):o(e)}},29043:e=>{e.exports=function(e,t){return null!=e&&t in Object(e)}},34049:(e,t,r)=>{var n=r(36869),i=r(70439),o=r(63662);e.exports=function(e,t,r){return t==t?o(e,t,r):n(e,i,r)}},36720:(e,t,r)=>{var n=r(84031),i=r(85175);e.exports=function(e){return i(e)&&\"[object Arguments]\"==n(e)}},1570:(e,t,r)=>{var n=r(90930),i=r(85175);e.exports=function e(t,r,o,s,a){return t===r||(null==t||null==r||!i(t)&&!i(r)?t!=t&&r!=r:n(t,r,o,s,e,a))}},90930:(e,t,r)=>{var n=r(41152),i=r(39153),o=r(4237),s=r(92550),a=r(48584),c=r(19041),l=r(18962),u=r(90299),d=\"[object Arguments]\",p=\"[object Array]\",h=\"[object Object]\",y=Object.prototype.hasOwnProperty;e.exports=function(e,t,r,v,f,g){var m=c(e),S=c(t),b=m?p:a(e),P=S?p:a(t),_=(b=b==d?h:b)==h,w=(P=P==d?h:P)==h,E=b==P;if(E&&l(e)){if(!l(t))return!1;m=!0,_=!1}if(E&&!_)return g||(g=new n),m||u(e)?i(e,t,r,v,f,g):o(e,t,b,r,v,f,g);if(!(1&r)){var O=_&&y.call(e,\"__wrapped__\"),I=w&&y.call(t,\"__wrapped__\");if(O||I){var C=O?e.value():e,A=I?t.value():t;return g||(g=new n),f(C,A,r,v,g)}}return!!E&&(g||(g=new n),s(e,t,r,v,f,g))}},42382:(e,t,r)=>{var n=r(41152),i=r(1570);e.exports=function(e,t,r,o){var s=r.length,a=s,c=!o;if(null==e)return!a;for(e=Object(e);s--;){var l=r[s];if(c&&l[2]?l[1]!==e[l[0]]:!(l[0]in e))return!1}for(;++s<a;){var u=(l=r[s])[0],d=e[u],p=l[1];if(c&&l[2]){if(void 0===d&&!(u in e))return!1}else{var h=new n;if(o)var y=o(d,p,u,e,t,h);if(!(void 0===y?i(p,d,3,o,h):y))return!1}}return!0}},70439:e=>{e.exports=function(e){return e!=e}},50558:(e,t,r)=>{var n=r(41033),i=r(41518),o=r(57458),s=r(14309),a=/^\\[object .+?Constructor\\]$/,c=Function.prototype,l=Object.prototype,u=c.toString,d=l.hasOwnProperty,p=RegExp(\"^\"+u.call(d).replace(/[\\\\^$.*+?()[\\]{}|]/g,\"\\\\$&\").replace(/hasOwnProperty|(function).*?(?=\\\\\\()| for .+?(?=\\\\\\])/g,\"$1.*?\")+\"$\");e.exports=function(e){return!(!o(e)||i(e))&&(n(e)?p:a).test(s(e))}},28229:(e,t,r)=>{var n=r(84031),i=r(94111),o=r(85175),s={};s[\"[object Float32Array]\"]=s[\"[object Float64Array]\"]=s[\"[object Int8Array]\"]=s[\"[object Int16Array]\"]=s[\"[object Int32Array]\"]=s[\"[object Uint8Array]\"]=s[\"[object Uint8ClampedArray]\"]=s[\"[object Uint16Array]\"]=s[\"[object Uint32Array]\"]=!0,s[\"[object Arguments]\"]=s[\"[object Array]\"]=s[\"[object ArrayBuffer]\"]=s[\"[object Boolean]\"]=s[\"[object DataView]\"]=s[\"[object Date]\"]=s[\"[object Error]\"]=s[\"[object Function]\"]=s[\"[object Map]\"]=s[\"[object Number]\"]=s[\"[object Object]\"]=s[\"[object RegExp]\"]=s[\"[object Set]\"]=s[\"[object String]\"]=s[\"[object WeakMap]\"]=!1,e.exports=function(e){return o(e)&&i(e.length)&&!!s[n(e)]}},24064:(e,t,r)=>{var n=r(7305),i=r(8308),o=r(46391),s=r(19041),a=r(47973);e.exports=function(e){return\"function\"==typeof e?e:null==e?o:\"object\"==typeof e?s(e)?i(e[0],e[1]):n(e):a(e)}},13182:(e,t,r)=>{var n=r(58088),i=r(30622),o=Object.prototype.hasOwnProperty;e.exports=function(e){if(!n(e))return i(e);var t=[];for(var r in Object(e))o.call(e,r)&&\"constructor\"!=r&&t.push(r);return t}},78590:(e,t,r)=>{var n=r(57458),i=r(58088),o=r(83760),s=Object.prototype.hasOwnProperty;e.exports=function(e){if(!n(e))return o(e);var t=i(e),r=[];for(var a in e)(\"constructor\"!=a||!t&&s.call(e,a))&&r.push(a);return r}},7305:(e,t,r)=>{var n=r(42382),i=r(74966),o=r(73356);e.exports=function(e){var t=i(e);return 1==t.length&&t[0][2]?o(t[0][0],t[0][1]):function(r){return r===e||n(r,e,t)}}},8308:(e,t,r)=>{var n=r(1570),i=r(55772),o=r(42338),s=r(75374),a=r(39944),c=r(73356),l=r(35657);e.exports=function(e,t){return s(e)&&a(t)?c(l(e),t):function(r){var s=i(r,e);return void 0===s&&s===t?o(r,e):n(t,s,3)}}},90791:(e,t,r)=>{var n=r(41152),i=r(36587),o=r(56609),s=r(20005),a=r(57458),c=r(38929),l=r(19314);e.exports=function e(t,r,u,d,p){t!==r&&o(r,(function(o,c){if(p||(p=new n),a(o))s(t,r,c,u,e,d,p);else{var h=d?d(l(t,c),o,c+\"\",t,r,p):void 0;void 0===h&&(h=o),i(t,c,h)}}),c)}},20005:(e,t,r)=>{var n=r(36587),i=r(16971),o=r(96120),s=r(95531),a=r(24129),c=r(41041),l=r(19041),u=r(40541),d=r(18962),p=r(41033),h=r(57458),y=r(73748),v=r(90299),f=r(19314),g=r(95920);e.exports=function(e,t,r,m,S,b,P){var _=f(e,r),w=f(t,r),E=P.get(w);if(E)n(e,r,E);else{var O=b?b(_,w,r+\"\",e,t,P):void 0,I=void 0===O;if(I){var C=l(w),A=!C&&d(w),M=!C&&!A&&v(w);O=w,C||A||M?l(_)?O=_:u(_)?O=s(_):A?(I=!1,O=i(w,!0)):M?(I=!1,O=o(w,!0)):O=[]:y(w)||c(w)?(O=_,c(_)?O=g(_):h(_)&&!p(_)||(O=a(w))):I=!1}I&&(P.set(w,O),S(O,w,m,b,P),P.delete(w)),n(e,r,O)}}},91484:e=>{e.exports=function(e){return function(t){return null==t?void 0:t[e]}}},15571:(e,t,r)=>{var n=r(34820);e.exports=function(e){return function(t){return n(t,e)}}},70896:(e,t,r)=>{var n=r(79117),i=r(83574),o=Array.prototype.splice;e.exports=function(e,t){for(var r=e?t.length:0,s=r-1;r--;){var a=t[r];if(r==s||a!==c){var c=a;i(a)?o.call(e,a,1):n(e,a)}}return e}},49595:(e,t,r)=>{var n=r(46391),i=r(75969),o=r(34253);e.exports=function(e,t){return o(i(e,t,n),e+\"\")}},52920:(e,t,r)=>{var n=r(61845),i=r(65745),o=r(46391),s=i?function(e,t){return i(e,\"toString\",{configurable:!0,enumerable:!1,value:n(t),writable:!0})}:o;e.exports=s},84539:e=>{e.exports=function(e,t,r){var n=-1,i=e.length;t<0&&(t=-t>i?0:i+t),(r=r>i?i:r)<0&&(r+=i),i=t>r?0:r-t>>>0,t>>>=0;for(var o=Array(i);++n<i;)o[n]=e[n+t];return o}},54805:e=>{e.exports=function(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}},84372:(e,t,r)=>{var n=r(89335),i=r(39600),o=r(19041),s=r(5847),a=n?n.prototype:void 0,c=a?a.toString:void 0;e.exports=function e(t){if(\"string\"==typeof t)return t;if(o(t))return i(t,e)+\"\";if(s(t))return c?c.call(t):\"\";var r=t+\"\";return\"0\"==r&&1/t==-1/0?\"-0\":r}},62555:(e,t,r)=>{var n=r(92456),i=/^\\s+/;e.exports=function(e){return e?e.slice(0,n(e)+1).replace(i,\"\"):e}},45314:e=>{e.exports=function(e){return function(t){return e(t)}}},445:(e,t,r)=>{var n=r(44870),i=r(26728),o=r(64087),s=r(13359),a=r(19789),c=r(59805);e.exports=function(e,t,r){var l=-1,u=i,d=e.length,p=!0,h=[],y=h;if(r)p=!1,u=o;else if(d>=200){var v=t?null:a(e);if(v)return c(v);p=!1,u=s,y=new n}else y=t?[]:h;e:for(;++l<d;){var f=e[l],g=t?t(f):f;if(f=r||0!==f?f:0,p&&g==g){for(var m=y.length;m--;)if(y[m]===g)continue e;t&&y.push(g),h.push(f)}else u(y,g,r)||(y!==h&&y.push(g),h.push(f))}return h}},79117:(e,t,r)=>{var n=r(67304),i=r(4261),o=r(24719),s=r(35657);e.exports=function(e,t){return t=n(t,e),null==(e=o(e,t))||delete e[s(i(t))]}},13359:e=>{e.exports=function(e,t){return e.has(t)}},67304:(e,t,r)=>{var n=r(19041),i=r(75374),o=r(72996),s=r(40065);e.exports=function(e,t){return n(e)?e:i(e,t)?[e]:o(s(e))}},71402:(e,t,r)=>{var n=r(71293);e.exports=function(e){var t=new e.constructor(e.byteLength);return new n(t).set(new n(e)),t}},16971:(e,t,r)=>{e=r.nmd(e);var n=r(71188),i=t&&!t.nodeType&&t,o=i&&e&&!e.nodeType&&e,s=o&&o.exports===i?n.Buffer:void 0,a=s?s.allocUnsafe:void 0;e.exports=function(e,t){if(t)return e.slice();var r=e.length,n=a?a(r):new e.constructor(r);return e.copy(n),n}},96120:(e,t,r)=>{var n=r(71402);e.exports=function(e,t){var r=t?n(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.length)}},95531:e=>{e.exports=function(e,t){var r=-1,n=e.length;for(t||(t=Array(n));++r<n;)t[r]=e[r];return t}},98775:(e,t,r)=>{var n=r(59521),i=r(95826);e.exports=function(e,t,r,o){var s=!r;r||(r={});for(var a=-1,c=t.length;++a<c;){var l=t[a],u=o?o(r[l],e[l],l,r,e):void 0;void 0===u&&(u=e[l]),s?i(r,l,u):n(r,l,u)}return r}},96953:(e,t,r)=>{var n=r(71188)[\"__core-js_shared__\"];e.exports=n},11143:(e,t,r)=>{var n=r(49595),i=r(28411);e.exports=function(e){return n((function(t,r){var n=-1,o=r.length,s=o>1?r[o-1]:void 0,a=o>2?r[2]:void 0;for(s=e.length>3&&\"function\"==typeof s?(o--,s):void 0,a&&i(r[0],r[1],a)&&(s=o<3?void 0:s,o=1),t=Object(t);++n<o;){var c=r[n];c&&e(t,c,n,s)}return t}))}},56345:e=>{e.exports=function(e){return function(t,r,n){for(var i=-1,o=Object(t),s=n(t),a=s.length;a--;){var c=s[e?a:++i];if(!1===r(o[c],c,o))break}return t}}},63271:(e,t,r)=>{var n=r(24064),i=r(60798),o=r(75121);e.exports=function(e){return function(t,r,s){var a=Object(t);if(!i(t)){var c=n(r,3);t=o(t),r=function(e){return c(a[e],e,a)}}var l=e(t,r,s);return l>-1?a[c?t[l]:l]:void 0}}},19789:(e,t,r)=>{var n=r(50965),i=r(58569),o=r(59805),s=n&&1/o(new n([,-0]))[1]==1/0?function(e){return new n(e)}:i;e.exports=s},65745:(e,t,r)=>{var n=r(99805),i=function(){try{var e=n(Object,\"defineProperty\");return e({},\"\",{}),e}catch(e){}}();e.exports=i},39153:(e,t,r)=>{var n=r(44870),i=r(95681),o=r(13359);e.exports=function(e,t,r,s,a,c){var l=1&r,u=e.length,d=t.length;if(u!=d&&!(l&&d>u))return!1;var p=c.get(e),h=c.get(t);if(p&&h)return p==t&&h==e;var y=-1,v=!0,f=2&r?new n:void 0;for(c.set(e,t),c.set(t,e);++y<u;){var g=e[y],m=t[y];if(s)var S=l?s(m,g,y,t,e,c):s(g,m,y,e,t,c);if(void 0!==S){if(S)continue;v=!1;break}if(f){if(!i(t,(function(e,t){if(!o(f,t)&&(g===e||a(g,e,r,s,c)))return f.push(t)}))){v=!1;break}}else if(g!==m&&!a(g,m,r,s,c)){v=!1;break}}return c.delete(e),c.delete(t),v}},4237:(e,t,r)=>{var n=r(89335),i=r(71293),o=r(38288),s=r(39153),a=r(14857),c=r(59805),l=n?n.prototype:void 0,u=l?l.valueOf:void 0;e.exports=function(e,t,r,n,l,d,p){switch(r){case\"[object DataView]\":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case\"[object ArrayBuffer]\":return!(e.byteLength!=t.byteLength||!d(new i(e),new i(t)));case\"[object Boolean]\":case\"[object Date]\":case\"[object Number]\":return o(+e,+t);case\"[object Error]\":return e.name==t.name&&e.message==t.message;case\"[object RegExp]\":case\"[object String]\":return e==t+\"\";case\"[object Map]\":var h=a;case\"[object Set]\":var y=1&n;if(h||(h=c),e.size!=t.size&&!y)return!1;var v=p.get(e);if(v)return v==t;n|=2,p.set(e,t);var f=s(h(e),h(t),n,l,d,p);return p.delete(e),f;case\"[object Symbol]\":if(u)return u.call(e)==u.call(t)}return!1}},92550:(e,t,r)=>{var n=r(86717),i=Object.prototype.hasOwnProperty;e.exports=function(e,t,r,o,s,a){var c=1&r,l=n(e),u=l.length;if(u!=n(t).length&&!c)return!1;for(var d=u;d--;){var p=l[d];if(!(c?p in t:i.call(t,p)))return!1}var h=a.get(e),y=a.get(t);if(h&&y)return h==t&&y==e;var v=!0;a.set(e,t),a.set(t,e);for(var f=c;++d<u;){var g=e[p=l[d]],m=t[p];if(o)var S=c?o(m,g,p,t,e,a):o(g,m,p,e,t,a);if(!(void 0===S?g===m||s(g,m,r,o,a):S)){v=!1;break}f||(f=\"constructor\"==p)}if(v&&!f){var b=e.constructor,P=t.constructor;b==P||!(\"constructor\"in e)||!(\"constructor\"in t)||\"function\"==typeof b&&b instanceof b&&\"function\"==typeof P&&P instanceof P||(v=!1)}return a.delete(e),a.delete(t),v}},96407:(e,t,r)=>{var n=\"object\"==typeof r.g&&r.g&&r.g.Object===Object&&r.g;e.exports=n},86717:(e,t,r)=>{var n=r(48968),i=r(56519),o=r(75121);e.exports=function(e){return n(e,o,i)}},45510:(e,t,r)=>{var n=r(47113);e.exports=function(e,t){var r=e.__data__;return n(t)?r[\"string\"==typeof t?\"string\":\"hash\"]:r.map}},74966:(e,t,r)=>{var n=r(39944),i=r(75121);e.exports=function(e){for(var t=i(e),r=t.length;r--;){var o=t[r],s=e[o];t[r]=[o,s,n(s)]}return t}},99805:(e,t,r)=>{var n=r(50558),i=r(74733);e.exports=function(e,t){var r=i(e,t);return n(r)?r:void 0}},49722:(e,t,r)=>{var n=r(88605)(Object.getPrototypeOf,Object);e.exports=n},31307:(e,t,r)=>{var n=r(89335),i=Object.prototype,o=i.hasOwnProperty,s=i.toString,a=n?n.toStringTag:void 0;e.exports=function(e){var t=o.call(e,a),r=e[a];try{e[a]=void 0;var n=!0}catch(e){}var i=s.call(e);return n&&(t?e[a]=r:delete e[a]),i}},56519:(e,t,r)=>{var n=r(21058),i=r(38819),o=Object.prototype.propertyIsEnumerable,s=Object.getOwnPropertySymbols,a=s?function(e){return null==e?[]:(e=Object(e),n(s(e),(function(t){return o.call(e,t)})))}:i;e.exports=a},48584:(e,t,r)=>{var n=r(86200),i=r(16810),o=r(39774),s=r(50965),a=r(62459),c=r(84031),l=r(14309),u=\"[object Map]\",d=\"[object Promise]\",p=\"[object Set]\",h=\"[object WeakMap]\",y=\"[object DataView]\",v=l(n),f=l(i),g=l(o),m=l(s),S=l(a),b=c;(n&&b(new n(new ArrayBuffer(1)))!=y||i&&b(new i)!=u||o&&b(o.resolve())!=d||s&&b(new s)!=p||a&&b(new a)!=h)&&(b=function(e){var t=c(e),r=\"[object Object]\"==t?e.constructor:void 0,n=r?l(r):\"\";if(n)switch(n){case v:return y;case f:return u;case g:return d;case m:return p;case S:return h}return t}),e.exports=b},74733:e=>{e.exports=function(e,t){return null==e?void 0:e[t]}},6613:(e,t,r)=>{var n=r(67304),i=r(41041),o=r(19041),s=r(83574),a=r(94111),c=r(35657);e.exports=function(e,t,r){for(var l=-1,u=(t=n(t,e)).length,d=!1;++l<u;){var p=c(t[l]);if(!(d=null!=e&&r(e,p)))break;e=e[p]}return d||++l!=u?d:!!(u=null==e?0:e.length)&&a(u)&&s(p,u)&&(o(e)||i(e))}},70377:(e,t,r)=>{var n=r(42600);e.exports=function(){this.__data__=n?n(null):{},this.size=0}},81239:e=>{e.exports=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}},31091:(e,t,r)=>{var n=r(42600),i=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;if(n){var r=t[e];return\"__lodash_hash_undefined__\"===r?void 0:r}return i.call(t,e)?t[e]:void 0}},13932:(e,t,r)=>{var n=r(42600),i=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;return n?void 0!==t[e]:i.call(t,e)}},69488:(e,t,r)=>{var n=r(42600);e.exports=function(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=n&&void 0===t?\"__lodash_hash_undefined__\":t,this}},24129:(e,t,r)=>{var n=r(92080),i=r(49722),o=r(58088);e.exports=function(e){return\"function\"!=typeof e.constructor||o(e)?{}:n(i(e))}},83574:e=>{var t=/^(?:0|[1-9]\\d*)$/;e.exports=function(e,r){var n=typeof e;return!!(r=null==r?9007199254740991:r)&&(\"number\"==n||\"symbol\"!=n&&t.test(e))&&e>-1&&e%1==0&&e<r}},28411:(e,t,r)=>{var n=r(38288),i=r(60798),o=r(83574),s=r(57458);e.exports=function(e,t,r){if(!s(r))return!1;var a=typeof t;return!!(\"number\"==a?i(r)&&o(t,r.length):\"string\"==a&&t in r)&&n(r[t],e)}},75374:(e,t,r)=>{var n=r(19041),i=r(5847),o=/\\.|\\[(?:[^[\\]]*|([\"'])(?:(?!\\1)[^\\\\]|\\\\.)*?\\1)\\]/,s=/^\\w*$/;e.exports=function(e,t){if(n(e))return!1;var r=typeof e;return!(\"number\"!=r&&\"symbol\"!=r&&\"boolean\"!=r&&null!=e&&!i(e))||s.test(e)||!o.test(e)||null!=t&&e in Object(t)}},47113:e=>{e.exports=function(e){var t=typeof e;return\"string\"==t||\"number\"==t||\"symbol\"==t||\"boolean\"==t?\"__proto__\"!==e:null===e}},41518:(e,t,r)=>{var n,i=r(96953),o=(n=/[^.]+$/.exec(i&&i.keys&&i.keys.IE_PROTO||\"\"))?\"Symbol(src)_1.\"+n:\"\";e.exports=function(e){return!!o&&o in e}},58088:e=>{var t=Object.prototype;e.exports=function(e){var r=e&&e.constructor;return e===(\"function\"==typeof r&&r.prototype||t)}},39944:(e,t,r)=>{var n=r(57458);e.exports=function(e){return e==e&&!n(e)}},45977:e=>{e.exports=function(){this.__data__=[],this.size=0}},4395:(e,t,r)=>{var n=r(25063),i=Array.prototype.splice;e.exports=function(e){var t=this.__data__,r=n(t,e);return!(r<0||(r==t.length-1?t.pop():i.call(t,r,1),--this.size,0))}},44807:(e,t,r)=>{var n=r(25063);e.exports=function(e){var t=this.__data__,r=n(t,e);return r<0?void 0:t[r][1]}},87930:(e,t,r)=>{var n=r(25063);e.exports=function(e){return n(this.__data__,e)>-1}},99045:(e,t,r)=>{var n=r(25063);e.exports=function(e,t){var r=this.__data__,i=n(r,e);return i<0?(++this.size,r.push([e,t])):r[i][1]=t,this}},19849:(e,t,r)=>{var n=r(45115),i=r(71089),o=r(16810);e.exports=function(){this.size=0,this.__data__={hash:new n,map:new(o||i),string:new n}}},24184:(e,t,r)=>{var n=r(45510);e.exports=function(e){var t=n(this,e).delete(e);return this.size-=t?1:0,t}},24920:(e,t,r)=>{var n=r(45510);e.exports=function(e){return n(this,e).get(e)}},62638:(e,t,r)=>{var n=r(45510);e.exports=function(e){return n(this,e).has(e)}},60895:(e,t,r)=>{var n=r(45510);e.exports=function(e,t){var r=n(this,e),i=r.size;return r.set(e,t),this.size+=r.size==i?0:1,this}},14857:e=>{e.exports=function(e){var t=-1,r=Array(e.size);return e.forEach((function(e,n){r[++t]=[n,e]})),r}},73356:e=>{e.exports=function(e,t){return function(r){return null!=r&&r[e]===t&&(void 0!==t||e in Object(r))}}},26993:(e,t,r)=>{var n=r(71608);e.exports=function(e){var t=n(e,(function(e){return 500===r.size&&r.clear(),e})),r=t.cache;return t}},42600:(e,t,r)=>{var n=r(99805)(Object,\"create\");e.exports=n},30622:(e,t,r)=>{var n=r(88605)(Object.keys,Object);e.exports=n},83760:e=>{e.exports=function(e){var t=[];if(null!=e)for(var r in Object(e))t.push(r);return t}},83434:(e,t,r)=>{e=r.nmd(e);var n=r(96407),i=t&&!t.nodeType&&t,o=i&&e&&!e.nodeType&&e,s=o&&o.exports===i&&n.process,a=function(){try{return o&&o.require&&o.require(\"util\").types||s&&s.binding&&s.binding(\"util\")}catch(e){}}();e.exports=a},95780:e=>{var t=Object.prototype.toString;e.exports=function(e){return t.call(e)}},88605:e=>{e.exports=function(e,t){return function(r){return e(t(r))}}},75969:(e,t,r)=>{var n=r(7359),i=Math.max;e.exports=function(e,t,r){return t=i(void 0===t?e.length-1:t,0),function(){for(var o=arguments,s=-1,a=i(o.length-t,0),c=Array(a);++s<a;)c[s]=o[t+s];s=-1;for(var l=Array(t+1);++s<t;)l[s]=o[s];return l[t]=r(c),n(e,this,l)}}},24719:(e,t,r)=>{var n=r(34820),i=r(84539);e.exports=function(e,t){return t.length<2?e:n(e,i(t,0,-1))}},71188:(e,t,r)=>{var n=r(96407),i=\"object\"==typeof self&&self&&self.Object===Object&&self,o=n||i||Function(\"return this\")();e.exports=o},19314:e=>{e.exports=function(e,t){if((\"constructor\"!==t||\"function\"!=typeof e[t])&&\"__proto__\"!=t)return e[t]}},68579:e=>{e.exports=function(e){return this.__data__.set(e,\"__lodash_hash_undefined__\"),this}},5162:e=>{e.exports=function(e){return this.__data__.has(e)}},59805:e=>{e.exports=function(e){var t=-1,r=Array(e.size);return e.forEach((function(e){r[++t]=e})),r}},34253:(e,t,r)=>{var n=r(52920),i=r(26254)(n);e.exports=i},26254:e=>{var t=Date.now;e.exports=function(e){var r=0,n=0;return function(){var i=t(),o=16-(i-n);if(n=i,o>0){if(++r>=800)return arguments[0]}else r=0;return e.apply(void 0,arguments)}}},69064:(e,t,r)=>{var n=r(71089);e.exports=function(){this.__data__=new n,this.size=0}},45851:e=>{e.exports=function(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}},70927:e=>{e.exports=function(e){return this.__data__.get(e)}},10998:e=>{e.exports=function(e){return this.__data__.has(e)}},5108:(e,t,r)=>{var n=r(71089),i=r(16810),o=r(10848);e.exports=function(e,t){var r=this.__data__;if(r instanceof n){var s=r.__data__;if(!i||s.length<199)return s.push([e,t]),this.size=++r.size,this;r=this.__data__=new o(s)}return r.set(e,t),this.size=r.size,this}},63662:e=>{e.exports=function(e,t,r){for(var n=r-1,i=e.length;++n<i;)if(e[n]===t)return n;return-1}},72996:(e,t,r)=>{var n=r(26993),i=/[^.[\\]]+|\\[(?:(-?\\d+(?:\\.\\d+)?)|([\"'])((?:(?!\\2)[^\\\\]|\\\\.)*?)\\2)\\]|(?=(?:\\.|\\[\\])(?:\\.|\\[\\]|$))/g,o=/\\\\(\\\\)?/g,s=n((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(\"\"),e.replace(i,(function(e,r,n,i){t.push(n?i.replace(o,\"$1\"):r||e)})),t}));e.exports=s},35657:(e,t,r)=>{var n=r(5847);e.exports=function(e){if(\"string\"==typeof e||n(e))return e;var t=e+\"\";return\"0\"==t&&1/e==-1/0?\"-0\":t}},14309:e=>{var t=Function.prototype.toString;e.exports=function(e){if(null!=e){try{return t.call(e)}catch(e){}try{return e+\"\"}catch(e){}}return\"\"}},92456:e=>{var t=/\\s/;e.exports=function(e){for(var r=e.length;r--&&t.test(e.charAt(r)););return r}},61845:e=>{e.exports=function(e){return function(){return e}}},38288:e=>{e.exports=function(e,t){return e===t||e!=e&&t!=t}},3270:(e,t,r)=>{var n=r(63271)(r(59129));e.exports=n},59129:(e,t,r)=>{var n=r(36869),i=r(24064),o=r(3506),s=Math.max;e.exports=function(e,t,r){var a=null==e?0:e.length;if(!a)return-1;var c=null==r?0:o(r);return c<0&&(c=s(a+c,0)),n(e,i(t,3),c)}},55772:(e,t,r)=>{var n=r(34820);e.exports=function(e,t,r){var i=null==e?void 0:n(e,t);return void 0===i?r:i}},42338:(e,t,r)=>{var n=r(29043),i=r(6613);e.exports=function(e,t){return null!=e&&i(e,t,n)}},46391:e=>{e.exports=function(e){return e}},41041:(e,t,r)=>{var n=r(36720),i=r(85175),o=Object.prototype,s=o.hasOwnProperty,a=o.propertyIsEnumerable,c=n(function(){return arguments}())?n:function(e){return i(e)&&s.call(e,\"callee\")&&!a.call(e,\"callee\")};e.exports=c},19041:e=>{var t=Array.isArray;e.exports=t},60798:(e,t,r)=>{var n=r(41033),i=r(94111);e.exports=function(e){return null!=e&&i(e.length)&&!n(e)}},40541:(e,t,r)=>{var n=r(60798),i=r(85175);e.exports=function(e){return i(e)&&n(e)}},18962:(e,t,r)=>{e=r.nmd(e);var n=r(71188),i=r(67349),o=t&&!t.nodeType&&t,s=o&&e&&!e.nodeType&&e,a=s&&s.exports===o?n.Buffer:void 0,c=(a?a.isBuffer:void 0)||i;e.exports=c},41033:(e,t,r)=>{var n=r(84031),i=r(57458);e.exports=function(e){if(!i(e))return!1;var t=n(e);return\"[object Function]\"==t||\"[object GeneratorFunction]\"==t||\"[object AsyncFunction]\"==t||\"[object Proxy]\"==t}},94111:e=>{e.exports=function(e){return\"number\"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}},57458:e=>{e.exports=function(e){var t=typeof e;return null!=e&&(\"object\"==t||\"function\"==t)}},85175:e=>{e.exports=function(e){return null!=e&&\"object\"==typeof e}},73748:(e,t,r)=>{var n=r(84031),i=r(49722),o=r(85175),s=Function.prototype,a=Object.prototype,c=s.toString,l=a.hasOwnProperty,u=c.call(Object);e.exports=function(e){if(!o(e)||\"[object Object]\"!=n(e))return!1;var t=i(e);if(null===t)return!0;var r=l.call(t,\"constructor\")&&t.constructor;return\"function\"==typeof r&&r instanceof r&&c.call(r)==u}},5847:(e,t,r)=>{var n=r(84031),i=r(85175);e.exports=function(e){return\"symbol\"==typeof e||i(e)&&\"[object Symbol]\"==n(e)}},90299:(e,t,r)=>{var n=r(28229),i=r(45314),o=r(83434),s=o&&o.isTypedArray,a=s?i(s):n;e.exports=a},75121:(e,t,r)=>{var n=r(84427),i=r(13182),o=r(60798);e.exports=function(e){return o(e)?n(e):i(e)}},38929:(e,t,r)=>{var n=r(84427),i=r(78590),o=r(60798);e.exports=function(e){return o(e)?n(e,!0):i(e)}},4261:e=>{e.exports=function(e){var t=null==e?0:e.length;return t?e[t-1]:void 0}},31773:function(e,t,r){var n;e=r.nmd(e),function(){var i,o=\"Expected a function\",s=\"__lodash_hash_undefined__\",a=\"__lodash_placeholder__\",c=32,l=128,u=1/0,d=9007199254740991,p=NaN,h=4294967295,y=[[\"ary\",l],[\"bind\",1],[\"bindKey\",2],[\"curry\",8],[\"curryRight\",16],[\"flip\",512],[\"partial\",c],[\"partialRight\",64],[\"rearg\",256]],v=\"[object Arguments]\",f=\"[object Array]\",g=\"[object Boolean]\",m=\"[object Date]\",S=\"[object Error]\",b=\"[object Function]\",P=\"[object GeneratorFunction]\",_=\"[object Map]\",w=\"[object Number]\",E=\"[object Object]\",O=\"[object Promise]\",I=\"[object RegExp]\",C=\"[object Set]\",A=\"[object String]\",M=\"[object Symbol]\",D=\"[object WeakMap]\",T=\"[object ArrayBuffer]\",R=\"[object DataView]\",k=\"[object Float32Array]\",N=\"[object Float64Array]\",F=\"[object Int8Array]\",j=\"[object Int16Array]\",K=\"[object Int32Array]\",x=\"[object Uint8Array]\",L=\"[object Uint8ClampedArray]\",U=\"[object Uint16Array]\",V=\"[object Uint32Array]\",B=/\\b__p \\+= '';/g,W=/\\b(__p \\+=) '' \\+/g,G=/(__e\\(.*?\\)|\\b__t\\)) \\+\\n'';/g,H=/&(?:amp|lt|gt|quot|#39);/g,z=/[&<>\"']/g,q=RegExp(H.source),Y=RegExp(z.source),J=/<%-([\\s\\S]+?)%>/g,Q=/<%([\\s\\S]+?)%>/g,X=/<%=([\\s\\S]+?)%>/g,$=/\\.|\\[(?:[^[\\]]*|([\"'])(?:(?!\\1)[^\\\\]|\\\\.)*?\\1)\\]/,Z=/^\\w*$/,ee=/[^.[\\]]+|\\[(?:(-?\\d+(?:\\.\\d+)?)|([\"'])((?:(?!\\2)[^\\\\]|\\\\.)*?)\\2)\\]|(?=(?:\\.|\\[\\])(?:\\.|\\[\\]|$))/g,te=/[\\\\^$.*+?()[\\]{}|]/g,re=RegExp(te.source),ne=/^\\s+/,ie=/\\s/,oe=/\\{(?:\\n\\/\\* \\[wrapped with .+\\] \\*\\/)?\\n?/,se=/\\{\\n\\/\\* \\[wrapped with (.+)\\] \\*/,ae=/,? & /,ce=/[^\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\x7f]+/g,le=/[()=,{}\\[\\]\\/\\s]/,ue=/\\\\(\\\\)?/g,de=/\\$\\{([^\\\\}]*(?:\\\\.[^\\\\}]*)*)\\}/g,pe=/\\w*$/,he=/^[-+]0x[0-9a-f]+$/i,ye=/^0b[01]+$/i,ve=/^\\[object .+?Constructor\\]$/,fe=/^0o[0-7]+$/i,ge=/^(?:0|[1-9]\\d*)$/,me=/[\\xc0-\\xd6\\xd8-\\xf6\\xf8-\\xff\\u0100-\\u017f]/g,Se=/($^)/,be=/['\\n\\r\\u2028\\u2029\\\\]/g,Pe=\"\\\\u0300-\\\\u036f\\\\ufe20-\\\\ufe2f\\\\u20d0-\\\\u20ff\",_e=\"a-z\\\\xdf-\\\\xf6\\\\xf8-\\\\xff\",we=\"A-Z\\\\xc0-\\\\xd6\\\\xd8-\\\\xde\",Ee=\"\\\\xac\\\\xb1\\\\xd7\\\\xf7\\\\x00-\\\\x2f\\\\x3a-\\\\x40\\\\x5b-\\\\x60\\\\x7b-\\\\xbf\\\\u2000-\\\\u206f \\\\t\\\\x0b\\\\f\\\\xa0\\\\ufeff\\\\n\\\\r\\\\u2028\\\\u2029\\\\u1680\\\\u180e\\\\u2000\\\\u2001\\\\u2002\\\\u2003\\\\u2004\\\\u2005\\\\u2006\\\\u2007\\\\u2008\\\\u2009\\\\u200a\\\\u202f\\\\u205f\\\\u3000\",Oe=\"[\"+Ee+\"]\",Ie=\"[\"+Pe+\"]\",Ce=\"\\\\d+\",Ae=\"[\"+_e+\"]\",Me=\"[^\\\\ud800-\\\\udfff\"+Ee+Ce+\"\\\\u2700-\\\\u27bf\"+_e+we+\"]\",De=\"\\\\ud83c[\\\\udffb-\\\\udfff]\",Te=\"[^\\\\ud800-\\\\udfff]\",Re=\"(?:\\\\ud83c[\\\\udde6-\\\\uddff]){2}\",ke=\"[\\\\ud800-\\\\udbff][\\\\udc00-\\\\udfff]\",Ne=\"[\"+we+\"]\",Fe=\"(?:\"+Ae+\"|\"+Me+\")\",je=\"(?:\"+Ne+\"|\"+Me+\")\",Ke=\"(?:['](?:d|ll|m|re|s|t|ve))?\",xe=\"(?:['](?:D|LL|M|RE|S|T|VE))?\",Le=\"(?:\"+Ie+\"|\"+De+\")?\",Ue=\"[\\\\ufe0e\\\\ufe0f]?\",Ve=Ue+Le+\"(?:\\\\u200d(?:\"+[Te,Re,ke].join(\"|\")+\")\"+Ue+Le+\")*\",Be=\"(?:\"+[\"[\\\\u2700-\\\\u27bf]\",Re,ke].join(\"|\")+\")\"+Ve,We=\"(?:\"+[Te+Ie+\"?\",Ie,Re,ke,\"[\\\\ud800-\\\\udfff]\"].join(\"|\")+\")\",Ge=RegExp(\"[']\",\"g\"),He=RegExp(Ie,\"g\"),ze=RegExp(De+\"(?=\"+De+\")|\"+We+Ve,\"g\"),qe=RegExp([Ne+\"?\"+Ae+\"+\"+Ke+\"(?=\"+[Oe,Ne,\"$\"].join(\"|\")+\")\",je+\"+\"+xe+\"(?=\"+[Oe,Ne+Fe,\"$\"].join(\"|\")+\")\",Ne+\"?\"+Fe+\"+\"+Ke,Ne+\"+\"+xe,\"\\\\d*(?:1ST|2ND|3RD|(?![123])\\\\dTH)(?=\\\\b|[a-z_])\",\"\\\\d*(?:1st|2nd|3rd|(?![123])\\\\dth)(?=\\\\b|[A-Z_])\",Ce,Be].join(\"|\"),\"g\"),Ye=RegExp(\"[\\\\u200d\\\\ud800-\\\\udfff\"+Pe+\"\\\\ufe0e\\\\ufe0f]\"),Je=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Qe=[\"Array\",\"Buffer\",\"DataView\",\"Date\",\"Error\",\"Float32Array\",\"Float64Array\",\"Function\",\"Int8Array\",\"Int16Array\",\"Int32Array\",\"Map\",\"Math\",\"Object\",\"Promise\",\"RegExp\",\"Set\",\"String\",\"Symbol\",\"TypeError\",\"Uint8Array\",\"Uint8ClampedArray\",\"Uint16Array\",\"Uint32Array\",\"WeakMap\",\"_\",\"clearTimeout\",\"isFinite\",\"parseInt\",\"setTimeout\"],Xe=-1,$e={};$e[k]=$e[N]=$e[F]=$e[j]=$e[K]=$e[x]=$e[L]=$e[U]=$e[V]=!0,$e[v]=$e[f]=$e[T]=$e[g]=$e[R]=$e[m]=$e[S]=$e[b]=$e[_]=$e[w]=$e[E]=$e[I]=$e[C]=$e[A]=$e[D]=!1;var Ze={};Ze[v]=Ze[f]=Ze[T]=Ze[R]=Ze[g]=Ze[m]=Ze[k]=Ze[N]=Ze[F]=Ze[j]=Ze[K]=Ze[_]=Ze[w]=Ze[E]=Ze[I]=Ze[C]=Ze[A]=Ze[M]=Ze[x]=Ze[L]=Ze[U]=Ze[V]=!0,Ze[S]=Ze[b]=Ze[D]=!1;var et={\"\\\\\":\"\\\\\",\"'\":\"'\",\"\\n\":\"n\",\"\\r\":\"r\",\"\\u2028\":\"u2028\",\"\\u2029\":\"u2029\"},tt=parseFloat,rt=parseInt,nt=\"object\"==typeof r.g&&r.g&&r.g.Object===Object&&r.g,it=\"object\"==typeof self&&self&&self.Object===Object&&self,ot=nt||it||Function(\"return this\")(),st=t&&!t.nodeType&&t,at=st&&e&&!e.nodeType&&e,ct=at&&at.exports===st,lt=ct&&nt.process,ut=function(){try{return at&&at.require&&at.require(\"util\").types||lt&&lt.binding&&lt.binding(\"util\")}catch(e){}}(),dt=ut&&ut.isArrayBuffer,pt=ut&&ut.isDate,ht=ut&&ut.isMap,yt=ut&&ut.isRegExp,vt=ut&&ut.isSet,ft=ut&&ut.isTypedArray;function gt(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}function mt(e,t,r,n){for(var i=-1,o=null==e?0:e.length;++i<o;){var s=e[i];t(n,s,r(s),e)}return n}function St(e,t){for(var r=-1,n=null==e?0:e.length;++r<n&&!1!==t(e[r],r,e););return e}function bt(e,t){for(var r=null==e?0:e.length;r--&&!1!==t(e[r],r,e););return e}function Pt(e,t){for(var r=-1,n=null==e?0:e.length;++r<n;)if(!t(e[r],r,e))return!1;return!0}function _t(e,t){for(var r=-1,n=null==e?0:e.length,i=0,o=[];++r<n;){var s=e[r];t(s,r,e)&&(o[i++]=s)}return o}function wt(e,t){return!(null==e||!e.length)&&kt(e,t,0)>-1}function Et(e,t,r){for(var n=-1,i=null==e?0:e.length;++n<i;)if(r(t,e[n]))return!0;return!1}function Ot(e,t){for(var r=-1,n=null==e?0:e.length,i=Array(n);++r<n;)i[r]=t(e[r],r,e);return i}function It(e,t){for(var r=-1,n=t.length,i=e.length;++r<n;)e[i+r]=t[r];return e}function Ct(e,t,r,n){var i=-1,o=null==e?0:e.length;for(n&&o&&(r=e[++i]);++i<o;)r=t(r,e[i],i,e);return r}function At(e,t,r,n){var i=null==e?0:e.length;for(n&&i&&(r=e[--i]);i--;)r=t(r,e[i],i,e);return r}function Mt(e,t){for(var r=-1,n=null==e?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}var Dt=Kt(\"length\");function Tt(e,t,r){var n;return r(e,(function(e,r,i){if(t(e,r,i))return n=r,!1})),n}function Rt(e,t,r,n){for(var i=e.length,o=r+(n?1:-1);n?o--:++o<i;)if(t(e[o],o,e))return o;return-1}function kt(e,t,r){return t==t?function(e,t,r){for(var n=r-1,i=e.length;++n<i;)if(e[n]===t)return n;return-1}(e,t,r):Rt(e,Ft,r)}function Nt(e,t,r,n){for(var i=r-1,o=e.length;++i<o;)if(n(e[i],t))return i;return-1}function Ft(e){return e!=e}function jt(e,t){var r=null==e?0:e.length;return r?Ut(e,t)/r:p}function Kt(e){return function(t){return null==t?i:t[e]}}function xt(e){return function(t){return null==e?i:e[t]}}function Lt(e,t,r,n,i){return i(e,(function(e,i,o){r=n?(n=!1,e):t(r,e,i,o)})),r}function Ut(e,t){for(var r,n=-1,o=e.length;++n<o;){var s=t(e[n]);s!==i&&(r=r===i?s:r+s)}return r}function Vt(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}function Bt(e){return e?e.slice(0,sr(e)+1).replace(ne,\"\"):e}function Wt(e){return function(t){return e(t)}}function Gt(e,t){return Ot(t,(function(t){return e[t]}))}function Ht(e,t){return e.has(t)}function zt(e,t){for(var r=-1,n=e.length;++r<n&&kt(t,e[r],0)>-1;);return r}function qt(e,t){for(var r=e.length;r--&&kt(t,e[r],0)>-1;);return r}function Yt(e,t){for(var r=e.length,n=0;r--;)e[r]===t&&++n;return n}var Jt=xt({:\"A\",:\"A\",:\"A\",:\"A\",:\"A\",:\"A\",:\"a\",:\"a\",:\"a\",:\"a\",:\"a\",:\"a\",:\"C\",:\"c\",:\"D\",:\"d\",:\"E\",:\"E\",:\"E\",:\"E\",:\"e\",:\"e\",:\"e\",:\"e\",:\"I\",:\"I\",:\"I\",:\"I\",:\"i\",:\"i\",:\"i\",:\"i\",:\"N\",:\"n\",:\"O\",:\"O\",:\"O\",:\"O\",:\"O\",:\"O\",:\"o\",:\"o\",:\"o\",:\"o\",:\"o\",:\"o\",:\"U\",:\"U\",:\"U\",:\"U\",:\"u\",:\"u\",:\"u\",:\"u\",:\"Y\",:\"y\",:\"y\",:\"Ae\",:\"ae\",:\"Th\",:\"th\",:\"ss\",:\"A\",:\"A\",:\"A\",:\"a\",:\"a\",:\"a\",:\"C\",:\"C\",:\"C\",:\"C\",:\"c\",:\"c\",:\"c\",:\"c\",:\"D\",:\"D\",:\"d\",:\"d\",:\"E\",:\"E\",:\"E\",:\"E\",:\"E\",:\"e\",:\"e\",:\"e\",:\"e\",:\"e\",:\"G\",:\"G\",:\"G\",:\"G\",:\"g\",:\"g\",:\"g\",:\"g\",:\"H\",:\"H\",:\"h\",:\"h\",:\"I\",:\"I\",:\"I\",:\"I\",:\"I\",:\"i\",:\"i\",:\"i\",:\"i\",:\"i\",:\"J\",:\"j\",:\"K\",:\"k\",:\"k\",:\"L\",:\"L\",:\"L\",:\"L\",:\"L\",:\"l\",:\"l\",:\"l\",:\"l\",:\"l\",:\"N\",:\"N\",:\"N\",:\"N\",:\"n\",:\"n\",:\"n\",:\"n\",:\"O\",:\"O\",:\"O\",:\"o\",:\"o\",:\"o\",:\"R\",:\"R\",:\"R\",:\"r\",:\"r\",:\"r\",:\"S\",:\"S\",:\"S\",:\"S\",:\"s\",:\"s\",:\"s\",:\"s\",:\"T\",:\"T\",:\"T\",:\"t\",:\"t\",:\"t\",:\"U\",:\"U\",:\"U\",:\"U\",:\"U\",:\"U\",:\"u\",:\"u\",:\"u\",:\"u\",:\"u\",:\"u\",:\"W\",:\"w\",:\"Y\",:\"y\",:\"Y\",:\"Z\",:\"Z\",:\"Z\",:\"z\",:\"z\",:\"z\",:\"IJ\",:\"ij\",:\"Oe\",:\"oe\",:\"'n\",:\"s\"}),Qt=xt({\"&\":\"&amp;\",\"<\":\"&lt;\",\">\":\"&gt;\",'\"':\"&quot;\",\"'\":\"&#39;\"});function Xt(e){return\"\\\\\"+et[e]}function $t(e){return Ye.test(e)}function Zt(e){var t=-1,r=Array(e.size);return e.forEach((function(e,n){r[++t]=[n,e]})),r}function er(e,t){return function(r){return e(t(r))}}function tr(e,t){for(var r=-1,n=e.length,i=0,o=[];++r<n;){var s=e[r];s!==t&&s!==a||(e[r]=a,o[i++]=r)}return o}function rr(e){var t=-1,r=Array(e.size);return e.forEach((function(e){r[++t]=e})),r}function nr(e){var t=-1,r=Array(e.size);return e.forEach((function(e){r[++t]=[e,e]})),r}function ir(e){return $t(e)?function(e){for(var t=ze.lastIndex=0;ze.test(e);)++t;return t}(e):Dt(e)}function or(e){return $t(e)?function(e){return e.match(ze)||[]}(e):function(e){return e.split(\"\")}(e)}function sr(e){for(var t=e.length;t--&&ie.test(e.charAt(t)););return t}var ar=xt({\"&amp;\":\"&\",\"&lt;\":\"<\",\"&gt;\":\">\",\"&quot;\":'\"',\"&#39;\":\"'\"}),cr=function e(t){var r,n=(t=null==t?ot:cr.defaults(ot.Object(),t,cr.pick(ot,Qe))).Array,ie=t.Date,Pe=t.Error,_e=t.Function,we=t.Math,Ee=t.Object,Oe=t.RegExp,Ie=t.String,Ce=t.TypeError,Ae=n.prototype,Me=_e.prototype,De=Ee.prototype,Te=t[\"__core-js_shared__\"],Re=Me.toString,ke=De.hasOwnProperty,Ne=0,Fe=(r=/[^.]+$/.exec(Te&&Te.keys&&Te.keys.IE_PROTO||\"\"))?\"Symbol(src)_1.\"+r:\"\",je=De.toString,Ke=Re.call(Ee),xe=ot._,Le=Oe(\"^\"+Re.call(ke).replace(te,\"\\\\$&\").replace(/hasOwnProperty|(function).*?(?=\\\\\\()| for .+?(?=\\\\\\])/g,\"$1.*?\")+\"$\"),Ue=ct?t.Buffer:i,Ve=t.Symbol,Be=t.Uint8Array,We=Ue?Ue.allocUnsafe:i,ze=er(Ee.getPrototypeOf,Ee),Ye=Ee.create,et=De.propertyIsEnumerable,nt=Ae.splice,it=Ve?Ve.isConcatSpreadable:i,st=Ve?Ve.iterator:i,at=Ve?Ve.toStringTag:i,lt=function(){try{var e=lo(Ee,\"defineProperty\");return e({},\"\",{}),e}catch(e){}}(),ut=t.clearTimeout!==ot.clearTimeout&&t.clearTimeout,Dt=ie&&ie.now!==ot.Date.now&&ie.now,xt=t.setTimeout!==ot.setTimeout&&t.setTimeout,lr=we.ceil,ur=we.floor,dr=Ee.getOwnPropertySymbols,pr=Ue?Ue.isBuffer:i,hr=t.isFinite,yr=Ae.join,vr=er(Ee.keys,Ee),fr=we.max,gr=we.min,mr=ie.now,Sr=t.parseInt,br=we.random,Pr=Ae.reverse,_r=lo(t,\"DataView\"),wr=lo(t,\"Map\"),Er=lo(t,\"Promise\"),Or=lo(t,\"Set\"),Ir=lo(t,\"WeakMap\"),Cr=lo(Ee,\"create\"),Ar=Ir&&new Ir,Mr={},Dr=Lo(_r),Tr=Lo(wr),Rr=Lo(Er),kr=Lo(Or),Nr=Lo(Ir),Fr=Ve?Ve.prototype:i,jr=Fr?Fr.valueOf:i,Kr=Fr?Fr.toString:i;function xr(e){if(ra(e)&&!Hs(e)&&!(e instanceof Br)){if(e instanceof Vr)return e;if(ke.call(e,\"__wrapped__\"))return Uo(e)}return new Vr(e)}var Lr=function(){function e(){}return function(t){if(!ta(t))return{};if(Ye)return Ye(t);e.prototype=t;var r=new e;return e.prototype=i,r}}();function Ur(){}function Vr(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=i}function Br(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=h,this.__views__=[]}function Wr(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function Gr(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function Hr(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function zr(e){var t=-1,r=null==e?0:e.length;for(this.__data__=new Hr;++t<r;)this.add(e[t])}function qr(e){var t=this.__data__=new Gr(e);this.size=t.size}function Yr(e,t){var r=Hs(e),n=!r&&Gs(e),i=!r&&!n&&Js(e),o=!r&&!n&&!i&&ua(e),s=r||n||i||o,a=s?Vt(e.length,Ie):[],c=a.length;for(var l in e)!t&&!ke.call(e,l)||s&&(\"length\"==l||i&&(\"offset\"==l||\"parent\"==l)||o&&(\"buffer\"==l||\"byteLength\"==l||\"byteOffset\"==l)||go(l,c))||a.push(l);return a}function Jr(e){var t=e.length;return t?e[zn(0,t-1)]:i}function Qr(e,t){return No(Ci(e),sn(t,0,e.length))}function Xr(e){return No(Ci(e))}function $r(e,t,r){(r!==i&&!Vs(e[t],r)||r===i&&!(t in e))&&nn(e,t,r)}function Zr(e,t,r){var n=e[t];ke.call(e,t)&&Vs(n,r)&&(r!==i||t in e)||nn(e,t,r)}function en(e,t){for(var r=e.length;r--;)if(Vs(e[r][0],t))return r;return-1}function tn(e,t,r,n){return dn(e,(function(e,i,o){t(n,e,r(e),o)})),n}function rn(e,t){return e&&Ai(t,Ra(t),e)}function nn(e,t,r){\"__proto__\"==t&&lt?lt(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}function on(e,t){for(var r=-1,o=t.length,s=n(o),a=null==e;++r<o;)s[r]=a?i:Ca(e,t[r]);return s}function sn(e,t,r){return e==e&&(r!==i&&(e=e<=r?e:r),t!==i&&(e=e>=t?e:t)),e}function an(e,t,r,n,o,s){var a,c=1&t,l=2&t,u=4&t;if(r&&(a=o?r(e,n,o,s):r(e)),a!==i)return a;if(!ta(e))return e;var d=Hs(e);if(d){if(a=function(e){var t=e.length,r=new e.constructor(t);return t&&\"string\"==typeof e[0]&&ke.call(e,\"index\")&&(r.index=e.index,r.input=e.input),r}(e),!c)return Ci(e,a)}else{var p=ho(e),h=p==b||p==P;if(Js(e))return Pi(e,c);if(p==E||p==v||h&&!o){if(a=l||h?{}:vo(e),!c)return l?function(e,t){return Ai(e,po(e),t)}(e,function(e,t){return e&&Ai(t,ka(t),e)}(a,e)):function(e,t){return Ai(e,uo(e),t)}(e,rn(a,e))}else{if(!Ze[p])return o?e:{};a=function(e,t,r){var n,i=e.constructor;switch(t){case T:return _i(e);case g:case m:return new i(+e);case R:return function(e,t){var r=t?_i(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.byteLength)}(e,r);case k:case N:case F:case j:case K:case x:case L:case U:case V:return wi(e,r);case _:return new i;case w:case A:return new i(e);case I:return function(e){var t=new e.constructor(e.source,pe.exec(e));return t.lastIndex=e.lastIndex,t}(e);case C:return new i;case M:return n=e,jr?Ee(jr.call(n)):{}}}(e,p,c)}}s||(s=new qr);var y=s.get(e);if(y)return y;s.set(e,a),aa(e)?e.forEach((function(n){a.add(an(n,t,r,n,e,s))})):na(e)&&e.forEach((function(n,i){a.set(i,an(n,t,r,i,e,s))}));var f=d?i:(u?l?ro:to:l?ka:Ra)(e);return St(f||e,(function(n,i){f&&(n=e[i=n]),Zr(a,i,an(n,t,r,i,e,s))})),a}function cn(e,t,r){var n=r.length;if(null==e)return!n;for(e=Ee(e);n--;){var o=r[n],s=t[o],a=e[o];if(a===i&&!(o in e)||!s(a))return!1}return!0}function ln(e,t,r){if(\"function\"!=typeof e)throw new Ce(o);return Do((function(){e.apply(i,r)}),t)}function un(e,t,r,n){var i=-1,o=wt,s=!0,a=e.length,c=[],l=t.length;if(!a)return c;r&&(t=Ot(t,Wt(r))),n?(o=Et,s=!1):t.length>=200&&(o=Ht,s=!1,t=new zr(t));e:for(;++i<a;){var u=e[i],d=null==r?u:r(u);if(u=n||0!==u?u:0,s&&d==d){for(var p=l;p--;)if(t[p]===d)continue e;c.push(u)}else o(t,d,n)||c.push(u)}return c}xr.templateSettings={escape:J,evaluate:Q,interpolate:X,variable:\"\",imports:{_:xr}},xr.prototype=Ur.prototype,xr.prototype.constructor=xr,Vr.prototype=Lr(Ur.prototype),Vr.prototype.constructor=Vr,Br.prototype=Lr(Ur.prototype),Br.prototype.constructor=Br,Wr.prototype.clear=function(){this.__data__=Cr?Cr(null):{},this.size=0},Wr.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},Wr.prototype.get=function(e){var t=this.__data__;if(Cr){var r=t[e];return r===s?i:r}return ke.call(t,e)?t[e]:i},Wr.prototype.has=function(e){var t=this.__data__;return Cr?t[e]!==i:ke.call(t,e)},Wr.prototype.set=function(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=Cr&&t===i?s:t,this},Gr.prototype.clear=function(){this.__data__=[],this.size=0},Gr.prototype.delete=function(e){var t=this.__data__,r=en(t,e);return!(r<0||(r==t.length-1?t.pop():nt.call(t,r,1),--this.size,0))},Gr.prototype.get=function(e){var t=this.__data__,r=en(t,e);return r<0?i:t[r][1]},Gr.prototype.has=function(e){return en(this.__data__,e)>-1},Gr.prototype.set=function(e,t){var r=this.__data__,n=en(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this},Hr.prototype.clear=function(){this.size=0,this.__data__={hash:new Wr,map:new(wr||Gr),string:new Wr}},Hr.prototype.delete=function(e){var t=ao(this,e).delete(e);return this.size-=t?1:0,t},Hr.prototype.get=function(e){return ao(this,e).get(e)},Hr.prototype.has=function(e){return ao(this,e).has(e)},Hr.prototype.set=function(e,t){var r=ao(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this},zr.prototype.add=zr.prototype.push=function(e){return this.__data__.set(e,s),this},zr.prototype.has=function(e){return this.__data__.has(e)},qr.prototype.clear=function(){this.__data__=new Gr,this.size=0},qr.prototype.delete=function(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r},qr.prototype.get=function(e){return this.__data__.get(e)},qr.prototype.has=function(e){return this.__data__.has(e)},qr.prototype.set=function(e,t){var r=this.__data__;if(r instanceof Gr){var n=r.__data__;if(!wr||n.length<199)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new Hr(n)}return r.set(e,t),this.size=r.size,this};var dn=Ti(Sn),pn=Ti(bn,!0);function hn(e,t){var r=!0;return dn(e,(function(e,n,i){return r=!!t(e,n,i)})),r}function yn(e,t,r){for(var n=-1,o=e.length;++n<o;){var s=e[n],a=t(s);if(null!=a&&(c===i?a==a&&!la(a):r(a,c)))var c=a,l=s}return l}function vn(e,t){var r=[];return dn(e,(function(e,n,i){t(e,n,i)&&r.push(e)})),r}function fn(e,t,r,n,i){var o=-1,s=e.length;for(r||(r=fo),i||(i=[]);++o<s;){var a=e[o];t>0&&r(a)?t>1?fn(a,t-1,r,n,i):It(i,a):n||(i[i.length]=a)}return i}var gn=Ri(),mn=Ri(!0);function Sn(e,t){return e&&gn(e,t,Ra)}function bn(e,t){return e&&mn(e,t,Ra)}function Pn(e,t){return _t(t,(function(t){return $s(e[t])}))}function _n(e,t){for(var r=0,n=(t=gi(t,e)).length;null!=e&&r<n;)e=e[xo(t[r++])];return r&&r==n?e:i}function wn(e,t,r){var n=t(e);return Hs(e)?n:It(n,r(e))}function En(e){return null==e?e===i?\"[object Undefined]\":\"[object Null]\":at&&at in Ee(e)?function(e){var t=ke.call(e,at),r=e[at];try{e[at]=i;var n=!0}catch(e){}var o=je.call(e);return n&&(t?e[at]=r:delete e[at]),o}(e):function(e){return je.call(e)}(e)}function On(e,t){return e>t}function In(e,t){return null!=e&&ke.call(e,t)}function Cn(e,t){return null!=e&&t in Ee(e)}function An(e,t,r){for(var o=r?Et:wt,s=e[0].length,a=e.length,c=a,l=n(a),u=1/0,d=[];c--;){var p=e[c];c&&t&&(p=Ot(p,Wt(t))),u=gr(p.length,u),l[c]=!r&&(t||s>=120&&p.length>=120)?new zr(c&&p):i}p=e[0];var h=-1,y=l[0];e:for(;++h<s&&d.length<u;){var v=p[h],f=t?t(v):v;if(v=r||0!==v?v:0,!(y?Ht(y,f):o(d,f,r))){for(c=a;--c;){var g=l[c];if(!(g?Ht(g,f):o(e[c],f,r)))continue e}y&&y.push(f),d.push(v)}}return d}function Mn(e,t,r){var n=null==(e=Io(e,t=gi(t,e)))?e:e[xo(Xo(t))];return null==n?i:gt(n,e,r)}function Dn(e){return ra(e)&&En(e)==v}function Tn(e,t,r,n,o){return e===t||(null==e||null==t||!ra(e)&&!ra(t)?e!=e&&t!=t:function(e,t,r,n,o,s){var a=Hs(e),c=Hs(t),l=a?f:ho(e),u=c?f:ho(t),d=(l=l==v?E:l)==E,p=(u=u==v?E:u)==E,h=l==u;if(h&&Js(e)){if(!Js(t))return!1;a=!0,d=!1}if(h&&!d)return s||(s=new qr),a||ua(e)?Zi(e,t,r,n,o,s):function(e,t,r,n,i,o,s){switch(r){case R:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case T:return!(e.byteLength!=t.byteLength||!o(new Be(e),new Be(t)));case g:case m:case w:return Vs(+e,+t);case S:return e.name==t.name&&e.message==t.message;case I:case A:return e==t+\"\";case _:var a=Zt;case C:var c=1&n;if(a||(a=rr),e.size!=t.size&&!c)return!1;var l=s.get(e);if(l)return l==t;n|=2,s.set(e,t);var u=Zi(a(e),a(t),n,i,o,s);return s.delete(e),u;case M:if(jr)return jr.call(e)==jr.call(t)}return!1}(e,t,l,r,n,o,s);if(!(1&r)){var y=d&&ke.call(e,\"__wrapped__\"),b=p&&ke.call(t,\"__wrapped__\");if(y||b){var P=y?e.value():e,O=b?t.value():t;return s||(s=new qr),o(P,O,r,n,s)}}return!!h&&(s||(s=new qr),function(e,t,r,n,o,s){var a=1&r,c=to(e),l=c.length;if(l!=to(t).length&&!a)return!1;for(var u=l;u--;){var d=c[u];if(!(a?d in t:ke.call(t,d)))return!1}var p=s.get(e),h=s.get(t);if(p&&h)return p==t&&h==e;var y=!0;s.set(e,t),s.set(t,e);for(var v=a;++u<l;){var f=e[d=c[u]],g=t[d];if(n)var m=a?n(g,f,d,t,e,s):n(f,g,d,e,t,s);if(!(m===i?f===g||o(f,g,r,n,s):m)){y=!1;break}v||(v=\"constructor\"==d)}if(y&&!v){var S=e.constructor,b=t.constructor;S==b||!(\"constructor\"in e)||!(\"constructor\"in t)||\"function\"==typeof S&&S instanceof S&&\"function\"==typeof b&&b instanceof b||(y=!1)}return s.delete(e),s.delete(t),y}(e,t,r,n,o,s))}(e,t,r,n,Tn,o))}function Rn(e,t,r,n){var o=r.length,s=o,a=!n;if(null==e)return!s;for(e=Ee(e);o--;){var c=r[o];if(a&&c[2]?c[1]!==e[c[0]]:!(c[0]in e))return!1}for(;++o<s;){var l=(c=r[o])[0],u=e[l],d=c[1];if(a&&c[2]){if(u===i&&!(l in e))return!1}else{var p=new qr;if(n)var h=n(u,d,l,e,t,p);if(!(h===i?Tn(d,u,3,n,p):h))return!1}}return!0}function kn(e){return!(!ta(e)||(t=e,Fe&&Fe in t))&&($s(e)?Le:ve).test(Lo(e));var t}function Nn(e){return\"function\"==typeof e?e:null==e?ic:\"object\"==typeof e?Hs(e)?Ln(e[0],e[1]):xn(e):hc(e)}function Fn(e){if(!_o(e))return vr(e);var t=[];for(var r in Ee(e))ke.call(e,r)&&\"constructor\"!=r&&t.push(r);return t}function jn(e,t){return e<t}function Kn(e,t){var r=-1,i=qs(e)?n(e.length):[];return dn(e,(function(e,n,o){i[++r]=t(e,n,o)})),i}function xn(e){var t=co(e);return 1==t.length&&t[0][2]?Eo(t[0][0],t[0][1]):function(r){return r===e||Rn(r,e,t)}}function Ln(e,t){return So(e)&&wo(t)?Eo(xo(e),t):function(r){var n=Ca(r,e);return n===i&&n===t?Aa(r,e):Tn(t,n,3)}}function Un(e,t,r,n,o){e!==t&&gn(t,(function(s,a){if(o||(o=new qr),ta(s))!function(e,t,r,n,o,s,a){var c=Ao(e,r),l=Ao(t,r),u=a.get(l);if(u)$r(e,r,u);else{var d=s?s(c,l,r+\"\",e,t,a):i,p=d===i;if(p){var h=Hs(l),y=!h&&Js(l),v=!h&&!y&&ua(l);d=l,h||y||v?Hs(c)?d=c:Ys(c)?d=Ci(c):y?(p=!1,d=Pi(l,!0)):v?(p=!1,d=wi(l,!0)):d=[]:oa(l)||Gs(l)?(d=c,Gs(c)?d=ma(c):ta(c)&&!$s(c)||(d=vo(l))):p=!1}p&&(a.set(l,d),o(d,l,n,s,a),a.delete(l)),$r(e,r,d)}}(e,t,a,r,Un,n,o);else{var c=n?n(Ao(e,a),s,a+\"\",e,t,o):i;c===i&&(c=s),$r(e,a,c)}}),ka)}function Vn(e,t){var r=e.length;if(r)return go(t+=t<0?r:0,r)?e[t]:i}function Bn(e,t,r){t=t.length?Ot(t,(function(e){return Hs(e)?function(t){return _n(t,1===e.length?e[0]:e)}:e})):[ic];var n=-1;t=Ot(t,Wt(so()));var i=Kn(e,(function(e,r,i){var o=Ot(t,(function(t){return t(e)}));return{criteria:o,index:++n,value:e}}));return function(e,t){var n=e.length;for(e.sort((function(e,t){return function(e,t,r){for(var n=-1,i=e.criteria,o=t.criteria,s=i.length,a=r.length;++n<s;){var c=Ei(i[n],o[n]);if(c)return n>=a?c:c*(\"desc\"==r[n]?-1:1)}return e.index-t.index}(e,t,r)}));n--;)e[n]=e[n].value;return e}(i)}function Wn(e,t,r){for(var n=-1,i=t.length,o={};++n<i;){var s=t[n],a=_n(e,s);r(a,s)&&Xn(o,gi(s,e),a)}return o}function Gn(e,t,r,n){var i=n?Nt:kt,o=-1,s=t.length,a=e;for(e===t&&(t=Ci(t)),r&&(a=Ot(e,Wt(r)));++o<s;)for(var c=0,l=t[o],u=r?r(l):l;(c=i(a,u,c,n))>-1;)a!==e&&nt.call(a,c,1),nt.call(e,c,1);return e}function Hn(e,t){for(var r=e?t.length:0,n=r-1;r--;){var i=t[r];if(r==n||i!==o){var o=i;go(i)?nt.call(e,i,1):li(e,i)}}return e}function zn(e,t){return e+ur(br()*(t-e+1))}function qn(e,t){var r=\"\";if(!e||t<1||t>d)return r;do{t%2&&(r+=e),(t=ur(t/2))&&(e+=e)}while(t);return r}function Yn(e,t){return To(Oo(e,t,ic),e+\"\")}function Jn(e){return Jr(Va(e))}function Qn(e,t){var r=Va(e);return No(r,sn(t,0,r.length))}function Xn(e,t,r,n){if(!ta(e))return e;for(var o=-1,s=(t=gi(t,e)).length,a=s-1,c=e;null!=c&&++o<s;){var l=xo(t[o]),u=r;if(\"__proto__\"===l||\"constructor\"===l||\"prototype\"===l)return e;if(o!=a){var d=c[l];(u=n?n(d,l,c):i)===i&&(u=ta(d)?d:go(t[o+1])?[]:{})}Zr(c,l,u),c=c[l]}return e}var $n=Ar?function(e,t){return Ar.set(e,t),e}:ic,Zn=lt?function(e,t){return lt(e,\"toString\",{configurable:!0,enumerable:!1,value:tc(t),writable:!0})}:ic;function ei(e){return No(Va(e))}function ti(e,t,r){var i=-1,o=e.length;t<0&&(t=-t>o?0:o+t),(r=r>o?o:r)<0&&(r+=o),o=t>r?0:r-t>>>0,t>>>=0;for(var s=n(o);++i<o;)s[i]=e[i+t];return s}function ri(e,t){var r;return dn(e,(function(e,n,i){return!(r=t(e,n,i))})),!!r}function ni(e,t,r){var n=0,i=null==e?n:e.length;if(\"number\"==typeof t&&t==t&&i<=2147483647){for(;n<i;){var o=n+i>>>1,s=e[o];null!==s&&!la(s)&&(r?s<=t:s<t)?n=o+1:i=o}return i}return ii(e,t,ic,r)}function ii(e,t,r,n){var o=0,s=null==e?0:e.length;if(0===s)return 0;for(var a=(t=r(t))!=t,c=null===t,l=la(t),u=t===i;o<s;){var d=ur((o+s)/2),p=r(e[d]),h=p!==i,y=null===p,v=p==p,f=la(p);if(a)var g=n||v;else g=u?v&&(n||h):c?v&&h&&(n||!y):l?v&&h&&!y&&(n||!f):!y&&!f&&(n?p<=t:p<t);g?o=d+1:s=d}return gr(s,4294967294)}function oi(e,t){for(var r=-1,n=e.length,i=0,o=[];++r<n;){var s=e[r],a=t?t(s):s;if(!r||!Vs(a,c)){var c=a;o[i++]=0===s?0:s}}return o}function si(e){return\"number\"==typeof e?e:la(e)?p:+e}function ai(e){if(\"string\"==typeof e)return e;if(Hs(e))return Ot(e,ai)+\"\";if(la(e))return Kr?Kr.call(e):\"\";var t=e+\"\";return\"0\"==t&&1/e==-1/0?\"-0\":t}function ci(e,t,r){var n=-1,i=wt,o=e.length,s=!0,a=[],c=a;if(r)s=!1,i=Et;else if(o>=200){var l=t?null:qi(e);if(l)return rr(l);s=!1,i=Ht,c=new zr}else c=t?[]:a;e:for(;++n<o;){var u=e[n],d=t?t(u):u;if(u=r||0!==u?u:0,s&&d==d){for(var p=c.length;p--;)if(c[p]===d)continue e;t&&c.push(d),a.push(u)}else i(c,d,r)||(c!==a&&c.push(d),a.push(u))}return a}function li(e,t){return null==(e=Io(e,t=gi(t,e)))||delete e[xo(Xo(t))]}function ui(e,t,r,n){return Xn(e,t,r(_n(e,t)),n)}function di(e,t,r,n){for(var i=e.length,o=n?i:-1;(n?o--:++o<i)&&t(e[o],o,e););return r?ti(e,n?0:o,n?o+1:i):ti(e,n?o+1:0,n?i:o)}function pi(e,t){var r=e;return r instanceof Br&&(r=r.value()),Ct(t,(function(e,t){return t.func.apply(t.thisArg,It([e],t.args))}),r)}function hi(e,t,r){var i=e.length;if(i<2)return i?ci(e[0]):[];for(var o=-1,s=n(i);++o<i;)for(var a=e[o],c=-1;++c<i;)c!=o&&(s[o]=un(s[o]||a,e[c],t,r));return ci(fn(s,1),t,r)}function yi(e,t,r){for(var n=-1,o=e.length,s=t.length,a={};++n<o;){var c=n<s?t[n]:i;r(a,e[n],c)}return a}function vi(e){return Ys(e)?e:[]}function fi(e){return\"function\"==typeof e?e:ic}function gi(e,t){return Hs(e)?e:So(e,t)?[e]:Ko(Sa(e))}var mi=Yn;function Si(e,t,r){var n=e.length;return r=r===i?n:r,!t&&r>=n?e:ti(e,t,r)}var bi=ut||function(e){return ot.clearTimeout(e)};function Pi(e,t){if(t)return e.slice();var r=e.length,n=We?We(r):new e.constructor(r);return e.copy(n),n}function _i(e){var t=new e.constructor(e.byteLength);return new Be(t).set(new Be(e)),t}function wi(e,t){var r=t?_i(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.length)}function Ei(e,t){if(e!==t){var r=e!==i,n=null===e,o=e==e,s=la(e),a=t!==i,c=null===t,l=t==t,u=la(t);if(!c&&!u&&!s&&e>t||s&&a&&l&&!c&&!u||n&&a&&l||!r&&l||!o)return 1;if(!n&&!s&&!u&&e<t||u&&r&&o&&!n&&!s||c&&r&&o||!a&&o||!l)return-1}return 0}function Oi(e,t,r,i){for(var o=-1,s=e.length,a=r.length,c=-1,l=t.length,u=fr(s-a,0),d=n(l+u),p=!i;++c<l;)d[c]=t[c];for(;++o<a;)(p||o<s)&&(d[r[o]]=e[o]);for(;u--;)d[c++]=e[o++];return d}function Ii(e,t,r,i){for(var o=-1,s=e.length,a=-1,c=r.length,l=-1,u=t.length,d=fr(s-c,0),p=n(d+u),h=!i;++o<d;)p[o]=e[o];for(var y=o;++l<u;)p[y+l]=t[l];for(;++a<c;)(h||o<s)&&(p[y+r[a]]=e[o++]);return p}function Ci(e,t){var r=-1,i=e.length;for(t||(t=n(i));++r<i;)t[r]=e[r];return t}function Ai(e,t,r,n){var o=!r;r||(r={});for(var s=-1,a=t.length;++s<a;){var c=t[s],l=n?n(r[c],e[c],c,r,e):i;l===i&&(l=e[c]),o?nn(r,c,l):Zr(r,c,l)}return r}function Mi(e,t){return function(r,n){var i=Hs(r)?mt:tn,o=t?t():{};return i(r,e,so(n,2),o)}}function Di(e){return Yn((function(t,r){var n=-1,o=r.length,s=o>1?r[o-1]:i,a=o>2?r[2]:i;for(s=e.length>3&&\"function\"==typeof s?(o--,s):i,a&&mo(r[0],r[1],a)&&(s=o<3?i:s,o=1),t=Ee(t);++n<o;){var c=r[n];c&&e(t,c,n,s)}return t}))}function Ti(e,t){return function(r,n){if(null==r)return r;if(!qs(r))return e(r,n);for(var i=r.length,o=t?i:-1,s=Ee(r);(t?o--:++o<i)&&!1!==n(s[o],o,s););return r}}function Ri(e){return function(t,r,n){for(var i=-1,o=Ee(t),s=n(t),a=s.length;a--;){var c=s[e?a:++i];if(!1===r(o[c],c,o))break}return t}}function ki(e){return function(t){var r=$t(t=Sa(t))?or(t):i,n=r?r[0]:t.charAt(0),o=r?Si(r,1).join(\"\"):t.slice(1);return n[e]()+o}}function Ni(e){return function(t){return Ct($a(Ga(t).replace(Ge,\"\")),e,\"\")}}function Fi(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var r=Lr(e.prototype),n=e.apply(r,t);return ta(n)?n:r}}function ji(e){return function(t,r,n){var o=Ee(t);if(!qs(t)){var s=so(r,3);t=Ra(t),r=function(e){return s(o[e],e,o)}}var a=e(t,r,n);return a>-1?o[s?t[a]:a]:i}}function Ki(e){return eo((function(t){var r=t.length,n=r,s=Vr.prototype.thru;for(e&&t.reverse();n--;){var a=t[n];if(\"function\"!=typeof a)throw new Ce(o);if(s&&!c&&\"wrapper\"==io(a))var c=new Vr([],!0)}for(n=c?n:r;++n<r;){var l=io(a=t[n]),u=\"wrapper\"==l?no(a):i;c=u&&bo(u[0])&&424==u[1]&&!u[4].length&&1==u[9]?c[io(u[0])].apply(c,u[3]):1==a.length&&bo(a)?c[l]():c.thru(a)}return function(){var e=arguments,n=e[0];if(c&&1==e.length&&Hs(n))return c.plant(n).value();for(var i=0,o=r?t[i].apply(this,e):n;++i<r;)o=t[i].call(this,o);return o}}))}function xi(e,t,r,o,s,a,c,u,d,p){var h=t&l,y=1&t,v=2&t,f=24&t,g=512&t,m=v?i:Fi(e);return function i(){for(var l=arguments.length,S=n(l),b=l;b--;)S[b]=arguments[b];if(f)var P=oo(i),_=Yt(S,P);if(o&&(S=Oi(S,o,s,f)),a&&(S=Ii(S,a,c,f)),l-=_,f&&l<p){var w=tr(S,P);return Hi(e,t,xi,i.placeholder,r,S,w,u,d,p-l)}var E=y?r:this,O=v?E[e]:e;return l=S.length,u?S=Co(S,u):g&&l>1&&S.reverse(),h&&d<l&&(S.length=d),this&&this!==ot&&this instanceof i&&(O=m||Fi(O)),O.apply(E,S)}}function Li(e,t){return function(r,n){return function(e,t,r,n){return Sn(e,(function(e,i,o){t(n,r(e),i,o)})),n}(r,e,t(n),{})}}function Ui(e,t){return function(r,n){var o;if(r===i&&n===i)return t;if(r!==i&&(o=r),n!==i){if(o===i)return n;\"string\"==typeof r||\"string\"==typeof n?(r=ai(r),n=ai(n)):(r=si(r),n=si(n)),o=e(r,n)}return o}}function Vi(e){return eo((function(t){return t=Ot(t,Wt(so())),Yn((function(r){var n=this;return e(t,(function(e){return gt(e,n,r)}))}))}))}function Bi(e,t){var r=(t=t===i?\" \":ai(t)).length;if(r<2)return r?qn(t,e):t;var n=qn(t,lr(e/ir(t)));return $t(t)?Si(or(n),0,e).join(\"\"):n.slice(0,e)}function Wi(e){return function(t,r,o){return o&&\"number\"!=typeof o&&mo(t,r,o)&&(r=o=i),t=ya(t),r===i?(r=t,t=0):r=ya(r),function(e,t,r,i){for(var o=-1,s=fr(lr((t-e)/(r||1)),0),a=n(s);s--;)a[i?s:++o]=e,e+=r;return a}(t,r,o=o===i?t<r?1:-1:ya(o),e)}}function Gi(e){return function(t,r){return\"string\"==typeof t&&\"string\"==typeof r||(t=ga(t),r=ga(r)),e(t,r)}}function Hi(e,t,r,n,o,s,a,l,u,d){var p=8&t;t|=p?c:64,4&(t&=~(p?64:c))||(t&=-4);var h=[e,t,o,p?s:i,p?a:i,p?i:s,p?i:a,l,u,d],y=r.apply(i,h);return bo(e)&&Mo(y,h),y.placeholder=n,Ro(y,e,t)}function zi(e){var t=we[e];return function(e,r){if(e=ga(e),(r=null==r?0:gr(va(r),292))&&hr(e)){var n=(Sa(e)+\"e\").split(\"e\");return+((n=(Sa(t(n[0]+\"e\"+(+n[1]+r)))+\"e\").split(\"e\"))[0]+\"e\"+(+n[1]-r))}return t(e)}}var qi=Or&&1/rr(new Or([,-0]))[1]==u?function(e){return new Or(e)}:lc;function Yi(e){return function(t){var r=ho(t);return r==_?Zt(t):r==C?nr(t):function(e,t){return Ot(t,(function(t){return[t,e[t]]}))}(t,e(t))}}function Ji(e,t,r,s,u,d,p,h){var y=2&t;if(!y&&\"function\"!=typeof e)throw new Ce(o);var v=s?s.length:0;if(v||(t&=-97,s=u=i),p=p===i?p:fr(va(p),0),h=h===i?h:va(h),v-=u?u.length:0,64&t){var f=s,g=u;s=u=i}var m=y?i:no(e),S=[e,t,r,s,u,f,g,d,p,h];if(m&&function(e,t){var r=e[1],n=t[1],i=r|n,o=i<131,s=n==l&&8==r||n==l&&256==r&&e[7].length<=t[8]||384==n&&t[7].length<=t[8]&&8==r;if(!o&&!s)return e;1&n&&(e[2]=t[2],i|=1&r?0:4);var c=t[3];if(c){var u=e[3];e[3]=u?Oi(u,c,t[4]):c,e[4]=u?tr(e[3],a):t[4]}(c=t[5])&&(u=e[5],e[5]=u?Ii(u,c,t[6]):c,e[6]=u?tr(e[5],a):t[6]),(c=t[7])&&(e[7]=c),n&l&&(e[8]=null==e[8]?t[8]:gr(e[8],t[8])),null==e[9]&&(e[9]=t[9]),e[0]=t[0],e[1]=i}(S,m),e=S[0],t=S[1],r=S[2],s=S[3],u=S[4],!(h=S[9]=S[9]===i?y?0:e.length:fr(S[9]-v,0))&&24&t&&(t&=-25),t&&1!=t)b=8==t||16==t?function(e,t,r){var o=Fi(e);return function s(){for(var a=arguments.length,c=n(a),l=a,u=oo(s);l--;)c[l]=arguments[l];var d=a<3&&c[0]!==u&&c[a-1]!==u?[]:tr(c,u);return(a-=d.length)<r?Hi(e,t,xi,s.placeholder,i,c,d,i,i,r-a):gt(this&&this!==ot&&this instanceof s?o:e,this,c)}}(e,t,h):t!=c&&33!=t||u.length?xi.apply(i,S):function(e,t,r,i){var o=1&t,s=Fi(e);return function t(){for(var a=-1,c=arguments.length,l=-1,u=i.length,d=n(u+c),p=this&&this!==ot&&this instanceof t?s:e;++l<u;)d[l]=i[l];for(;c--;)d[l++]=arguments[++a];return gt(p,o?r:this,d)}}(e,t,r,s);else var b=function(e,t,r){var n=1&t,i=Fi(e);return function t(){return(this&&this!==ot&&this instanceof t?i:e).apply(n?r:this,arguments)}}(e,t,r);return Ro((m?$n:Mo)(b,S),e,t)}function Qi(e,t,r,n){return e===i||Vs(e,De[r])&&!ke.call(n,r)?t:e}function Xi(e,t,r,n,o,s){return ta(e)&&ta(t)&&(s.set(t,e),Un(e,t,i,Xi,s),s.delete(t)),e}function $i(e){return oa(e)?i:e}function Zi(e,t,r,n,o,s){var a=1&r,c=e.length,l=t.length;if(c!=l&&!(a&&l>c))return!1;var u=s.get(e),d=s.get(t);if(u&&d)return u==t&&d==e;var p=-1,h=!0,y=2&r?new zr:i;for(s.set(e,t),s.set(t,e);++p<c;){var v=e[p],f=t[p];if(n)var g=a?n(f,v,p,t,e,s):n(v,f,p,e,t,s);if(g!==i){if(g)continue;h=!1;break}if(y){if(!Mt(t,(function(e,t){if(!Ht(y,t)&&(v===e||o(v,e,r,n,s)))return y.push(t)}))){h=!1;break}}else if(v!==f&&!o(v,f,r,n,s)){h=!1;break}}return s.delete(e),s.delete(t),h}function eo(e){return To(Oo(e,i,zo),e+\"\")}function to(e){return wn(e,Ra,uo)}function ro(e){return wn(e,ka,po)}var no=Ar?function(e){return Ar.get(e)}:lc;function io(e){for(var t=e.name+\"\",r=Mr[t],n=ke.call(Mr,t)?r.length:0;n--;){var i=r[n],o=i.func;if(null==o||o==e)return i.name}return t}function oo(e){return(ke.call(xr,\"placeholder\")?xr:e).placeholder}function so(){var e=xr.iteratee||oc;return e=e===oc?Nn:e,arguments.length?e(arguments[0],arguments[1]):e}function ao(e,t){var r,n,i=e.__data__;return(\"string\"==(n=typeof(r=t))||\"number\"==n||\"symbol\"==n||\"boolean\"==n?\"__proto__\"!==r:null===r)?i[\"string\"==typeof t?\"string\":\"hash\"]:i.map}function co(e){for(var t=Ra(e),r=t.length;r--;){var n=t[r],i=e[n];t[r]=[n,i,wo(i)]}return t}function lo(e,t){var r=function(e,t){return null==e?i:e[t]}(e,t);return kn(r)?r:i}var uo=dr?function(e){return null==e?[]:(e=Ee(e),_t(dr(e),(function(t){return et.call(e,t)})))}:fc,po=dr?function(e){for(var t=[];e;)It(t,uo(e)),e=ze(e);return t}:fc,ho=En;function yo(e,t,r){for(var n=-1,i=(t=gi(t,e)).length,o=!1;++n<i;){var s=xo(t[n]);if(!(o=null!=e&&r(e,s)))break;e=e[s]}return o||++n!=i?o:!!(i=null==e?0:e.length)&&ea(i)&&go(s,i)&&(Hs(e)||Gs(e))}function vo(e){return\"function\"!=typeof e.constructor||_o(e)?{}:Lr(ze(e))}function fo(e){return Hs(e)||Gs(e)||!!(it&&e&&e[it])}function go(e,t){var r=typeof e;return!!(t=null==t?d:t)&&(\"number\"==r||\"symbol\"!=r&&ge.test(e))&&e>-1&&e%1==0&&e<t}function mo(e,t,r){if(!ta(r))return!1;var n=typeof t;return!!(\"number\"==n?qs(r)&&go(t,r.length):\"string\"==n&&t in r)&&Vs(r[t],e)}function So(e,t){if(Hs(e))return!1;var r=typeof e;return!(\"number\"!=r&&\"symbol\"!=r&&\"boolean\"!=r&&null!=e&&!la(e))||Z.test(e)||!$.test(e)||null!=t&&e in Ee(t)}function bo(e){var t=io(e),r=xr[t];if(\"function\"!=typeof r||!(t in Br.prototype))return!1;if(e===r)return!0;var n=no(r);return!!n&&e===n[0]}(_r&&ho(new _r(new ArrayBuffer(1)))!=R||wr&&ho(new wr)!=_||Er&&ho(Er.resolve())!=O||Or&&ho(new Or)!=C||Ir&&ho(new Ir)!=D)&&(ho=function(e){var t=En(e),r=t==E?e.constructor:i,n=r?Lo(r):\"\";if(n)switch(n){case Dr:return R;case Tr:return _;case Rr:return O;case kr:return C;case Nr:return D}return t});var Po=Te?$s:gc;function _o(e){var t=e&&e.constructor;return e===(\"function\"==typeof t&&t.prototype||De)}function wo(e){return e==e&&!ta(e)}function Eo(e,t){return function(r){return null!=r&&r[e]===t&&(t!==i||e in Ee(r))}}function Oo(e,t,r){return t=fr(t===i?e.length-1:t,0),function(){for(var i=arguments,o=-1,s=fr(i.length-t,0),a=n(s);++o<s;)a[o]=i[t+o];o=-1;for(var c=n(t+1);++o<t;)c[o]=i[o];return c[t]=r(a),gt(e,this,c)}}function Io(e,t){return t.length<2?e:_n(e,ti(t,0,-1))}function Co(e,t){for(var r=e.length,n=gr(t.length,r),o=Ci(e);n--;){var s=t[n];e[n]=go(s,r)?o[s]:i}return e}function Ao(e,t){if((\"constructor\"!==t||\"function\"!=typeof e[t])&&\"__proto__\"!=t)return e[t]}var Mo=ko($n),Do=xt||function(e,t){return ot.setTimeout(e,t)},To=ko(Zn);function Ro(e,t,r){var n=t+\"\";return To(e,function(e,t){var r=t.length;if(!r)return e;var n=r-1;return t[n]=(r>1?\"& \":\"\")+t[n],t=t.join(r>2?\", \":\" \"),e.replace(oe,\"{\\n/* [wrapped with \"+t+\"] */\\n\")}(n,function(e,t){return St(y,(function(r){var n=\"_.\"+r[0];t&r[1]&&!wt(e,n)&&e.push(n)})),e.sort()}(function(e){var t=e.match(se);return t?t[1].split(ae):[]}(n),r)))}function ko(e){var t=0,r=0;return function(){var n=mr(),o=16-(n-r);if(r=n,o>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(i,arguments)}}function No(e,t){var r=-1,n=e.length,o=n-1;for(t=t===i?n:t;++r<t;){var s=zn(r,o),a=e[s];e[s]=e[r],e[r]=a}return e.length=t,e}var Fo,jo,Ko=(Fo=Fs((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(\"\"),e.replace(ee,(function(e,r,n,i){t.push(n?i.replace(ue,\"$1\"):r||e)})),t}),(function(e){return 500===jo.size&&jo.clear(),e})),jo=Fo.cache,Fo);function xo(e){if(\"string\"==typeof e||la(e))return e;var t=e+\"\";return\"0\"==t&&1/e==-1/0?\"-0\":t}function Lo(e){if(null!=e){try{return Re.call(e)}catch(e){}try{return e+\"\"}catch(e){}}return\"\"}function Uo(e){if(e instanceof Br)return e.clone();var t=new Vr(e.__wrapped__,e.__chain__);return t.__actions__=Ci(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}var Vo=Yn((function(e,t){return Ys(e)?un(e,fn(t,1,Ys,!0)):[]})),Bo=Yn((function(e,t){var r=Xo(t);return Ys(r)&&(r=i),Ys(e)?un(e,fn(t,1,Ys,!0),so(r,2)):[]})),Wo=Yn((function(e,t){var r=Xo(t);return Ys(r)&&(r=i),Ys(e)?un(e,fn(t,1,Ys,!0),i,r):[]}));function Go(e,t,r){var n=null==e?0:e.length;if(!n)return-1;var i=null==r?0:va(r);return i<0&&(i=fr(n+i,0)),Rt(e,so(t,3),i)}function Ho(e,t,r){var n=null==e?0:e.length;if(!n)return-1;var o=n-1;return r!==i&&(o=va(r),o=r<0?fr(n+o,0):gr(o,n-1)),Rt(e,so(t,3),o,!0)}function zo(e){return null!=e&&e.length?fn(e,1):[]}function qo(e){return e&&e.length?e[0]:i}var Yo=Yn((function(e){var t=Ot(e,vi);return t.length&&t[0]===e[0]?An(t):[]})),Jo=Yn((function(e){var t=Xo(e),r=Ot(e,vi);return t===Xo(r)?t=i:r.pop(),r.length&&r[0]===e[0]?An(r,so(t,2)):[]})),Qo=Yn((function(e){var t=Xo(e),r=Ot(e,vi);return(t=\"function\"==typeof t?t:i)&&r.pop(),r.length&&r[0]===e[0]?An(r,i,t):[]}));function Xo(e){var t=null==e?0:e.length;return t?e[t-1]:i}var $o=Yn(Zo);function Zo(e,t){return e&&e.length&&t&&t.length?Gn(e,t):e}var es=eo((function(e,t){var r=null==e?0:e.length,n=on(e,t);return Hn(e,Ot(t,(function(e){return go(e,r)?+e:e})).sort(Ei)),n}));function ts(e){return null==e?e:Pr.call(e)}var rs=Yn((function(e){return ci(fn(e,1,Ys,!0))})),ns=Yn((function(e){var t=Xo(e);return Ys(t)&&(t=i),ci(fn(e,1,Ys,!0),so(t,2))})),is=Yn((function(e){var t=Xo(e);return t=\"function\"==typeof t?t:i,ci(fn(e,1,Ys,!0),i,t)}));function os(e){if(!e||!e.length)return[];var t=0;return e=_t(e,(function(e){if(Ys(e))return t=fr(e.length,t),!0})),Vt(t,(function(t){return Ot(e,Kt(t))}))}function ss(e,t){if(!e||!e.length)return[];var r=os(e);return null==t?r:Ot(r,(function(e){return gt(t,i,e)}))}var as=Yn((function(e,t){return Ys(e)?un(e,t):[]})),cs=Yn((function(e){return hi(_t(e,Ys))})),ls=Yn((function(e){var t=Xo(e);return Ys(t)&&(t=i),hi(_t(e,Ys),so(t,2))})),us=Yn((function(e){var t=Xo(e);return t=\"function\"==typeof t?t:i,hi(_t(e,Ys),i,t)})),ds=Yn(os),ps=Yn((function(e){var t=e.length,r=t>1?e[t-1]:i;return r=\"function\"==typeof r?(e.pop(),r):i,ss(e,r)}));function hs(e){var t=xr(e);return t.__chain__=!0,t}function ys(e,t){return t(e)}var vs=eo((function(e){var t=e.length,r=t?e[0]:0,n=this.__wrapped__,o=function(t){return on(t,e)};return!(t>1||this.__actions__.length)&&n instanceof Br&&go(r)?((n=n.slice(r,+r+(t?1:0))).__actions__.push({func:ys,args:[o],thisArg:i}),new Vr(n,this.__chain__).thru((function(e){return t&&!e.length&&e.push(i),e}))):this.thru(o)})),fs=Mi((function(e,t,r){ke.call(e,r)?++e[r]:nn(e,r,1)})),gs=ji(Go),ms=ji(Ho);function Ss(e,t){return(Hs(e)?St:dn)(e,so(t,3))}function bs(e,t){return(Hs(e)?bt:pn)(e,so(t,3))}var Ps=Mi((function(e,t,r){ke.call(e,r)?e[r].push(t):nn(e,r,[t])})),_s=Yn((function(e,t,r){var i=-1,o=\"function\"==typeof t,s=qs(e)?n(e.length):[];return dn(e,(function(e){s[++i]=o?gt(t,e,r):Mn(e,t,r)})),s})),ws=Mi((function(e,t,r){nn(e,r,t)}));function Es(e,t){return(Hs(e)?Ot:Kn)(e,so(t,3))}var Os=Mi((function(e,t,r){e[r?0:1].push(t)}),(function(){return[[],[]]})),Is=Yn((function(e,t){if(null==e)return[];var r=t.length;return r>1&&mo(e,t[0],t[1])?t=[]:r>2&&mo(t[0],t[1],t[2])&&(t=[t[0]]),Bn(e,fn(t,1),[])})),Cs=Dt||function(){return ot.Date.now()};function As(e,t,r){return t=r?i:t,t=e&&null==t?e.length:t,Ji(e,l,i,i,i,i,t)}function Ms(e,t){var r;if(\"function\"!=typeof t)throw new Ce(o);return e=va(e),function(){return--e>0&&(r=t.apply(this,arguments)),e<=1&&(t=i),r}}var Ds=Yn((function(e,t,r){var n=1;if(r.length){var i=tr(r,oo(Ds));n|=c}return Ji(e,n,t,r,i)})),Ts=Yn((function(e,t,r){var n=3;if(r.length){var i=tr(r,oo(Ts));n|=c}return Ji(t,n,e,r,i)}));function Rs(e,t,r){var n,s,a,c,l,u,d=0,p=!1,h=!1,y=!0;if(\"function\"!=typeof e)throw new Ce(o);function v(t){var r=n,o=s;return n=s=i,d=t,c=e.apply(o,r)}function f(e){return d=e,l=Do(m,t),p?v(e):c}function g(e){var r=e-u;return u===i||r>=t||r<0||h&&e-d>=a}function m(){var e=Cs();if(g(e))return S(e);l=Do(m,function(e){var r=t-(e-u);return h?gr(r,a-(e-d)):r}(e))}function S(e){return l=i,y&&n?v(e):(n=s=i,c)}function b(){var e=Cs(),r=g(e);if(n=arguments,s=this,u=e,r){if(l===i)return f(u);if(h)return bi(l),l=Do(m,t),v(u)}return l===i&&(l=Do(m,t)),c}return t=ga(t)||0,ta(r)&&(p=!!r.leading,a=(h=\"maxWait\"in r)?fr(ga(r.maxWait)||0,t):a,y=\"trailing\"in r?!!r.trailing:y),b.cancel=function(){l!==i&&bi(l),d=0,n=u=s=l=i},b.flush=function(){return l===i?c:S(Cs())},b}var ks=Yn((function(e,t){return ln(e,1,t)})),Ns=Yn((function(e,t,r){return ln(e,ga(t)||0,r)}));function Fs(e,t){if(\"function\"!=typeof e||null!=t&&\"function\"!=typeof t)throw new Ce(o);var r=function r(){var n=arguments,i=t?t.apply(this,n):n[0],o=r.cache;if(o.has(i))return o.get(i);var s=e.apply(this,n);return r.cache=o.set(i,s)||o,s};return r.cache=new(Fs.Cache||Hr),r}function js(e){if(\"function\"!=typeof e)throw new Ce(o);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}Fs.Cache=Hr;var Ks=mi((function(e,t){var r=(t=1==t.length&&Hs(t[0])?Ot(t[0],Wt(so())):Ot(fn(t,1),Wt(so()))).length;return Yn((function(n){for(var i=-1,o=gr(n.length,r);++i<o;)n[i]=t[i].call(this,n[i]);return gt(e,this,n)}))})),xs=Yn((function(e,t){var r=tr(t,oo(xs));return Ji(e,c,i,t,r)})),Ls=Yn((function(e,t){var r=tr(t,oo(Ls));return Ji(e,64,i,t,r)})),Us=eo((function(e,t){return Ji(e,256,i,i,i,t)}));function Vs(e,t){return e===t||e!=e&&t!=t}var Bs=Gi(On),Ws=Gi((function(e,t){return e>=t})),Gs=Dn(function(){return arguments}())?Dn:function(e){return ra(e)&&ke.call(e,\"callee\")&&!et.call(e,\"callee\")},Hs=n.isArray,zs=dt?Wt(dt):function(e){return ra(e)&&En(e)==T};function qs(e){return null!=e&&ea(e.length)&&!$s(e)}function Ys(e){return ra(e)&&qs(e)}var Js=pr||gc,Qs=pt?Wt(pt):function(e){return ra(e)&&En(e)==m};function Xs(e){if(!ra(e))return!1;var t=En(e);return t==S||\"[object DOMException]\"==t||\"string\"==typeof e.message&&\"string\"==typeof e.name&&!oa(e)}function $s(e){if(!ta(e))return!1;var t=En(e);return t==b||t==P||\"[object AsyncFunction]\"==t||\"[object Proxy]\"==t}function Zs(e){return\"number\"==typeof e&&e==va(e)}function ea(e){return\"number\"==typeof e&&e>-1&&e%1==0&&e<=d}function ta(e){var t=typeof e;return null!=e&&(\"object\"==t||\"function\"==t)}function ra(e){return null!=e&&\"object\"==typeof e}var na=ht?Wt(ht):function(e){return ra(e)&&ho(e)==_};function ia(e){return\"number\"==typeof e||ra(e)&&En(e)==w}function oa(e){if(!ra(e)||En(e)!=E)return!1;var t=ze(e);if(null===t)return!0;var r=ke.call(t,\"constructor\")&&t.constructor;return\"function\"==typeof r&&r instanceof r&&Re.call(r)==Ke}var sa=yt?Wt(yt):function(e){return ra(e)&&En(e)==I},aa=vt?Wt(vt):function(e){return ra(e)&&ho(e)==C};function ca(e){return\"string\"==typeof e||!Hs(e)&&ra(e)&&En(e)==A}function la(e){return\"symbol\"==typeof e||ra(e)&&En(e)==M}var ua=ft?Wt(ft):function(e){return ra(e)&&ea(e.length)&&!!$e[En(e)]},da=Gi(jn),pa=Gi((function(e,t){return e<=t}));function ha(e){if(!e)return[];if(qs(e))return ca(e)?or(e):Ci(e);if(st&&e[st])return function(e){for(var t,r=[];!(t=e.next()).done;)r.push(t.value);return r}(e[st]());var t=ho(e);return(t==_?Zt:t==C?rr:Va)(e)}function ya(e){return e?(e=ga(e))===u||e===-1/0?17976931348623157e292*(e<0?-1:1):e==e?e:0:0===e?e:0}function va(e){var t=ya(e),r=t%1;return t==t?r?t-r:t:0}function fa(e){return e?sn(va(e),0,h):0}function ga(e){if(\"number\"==typeof e)return e;if(la(e))return p;if(ta(e)){var t=\"function\"==typeof e.valueOf?e.valueOf():e;e=ta(t)?t+\"\":t}if(\"string\"!=typeof e)return 0===e?e:+e;e=Bt(e);var r=ye.test(e);return r||fe.test(e)?rt(e.slice(2),r?2:8):he.test(e)?p:+e}function ma(e){return Ai(e,ka(e))}function Sa(e){return null==e?\"\":ai(e)}var ba=Di((function(e,t){if(_o(t)||qs(t))Ai(t,Ra(t),e);else for(var r in t)ke.call(t,r)&&Zr(e,r,t[r])})),Pa=Di((function(e,t){Ai(t,ka(t),e)})),_a=Di((function(e,t,r,n){Ai(t,ka(t),e,n)})),wa=Di((function(e,t,r,n){Ai(t,Ra(t),e,n)})),Ea=eo(on),Oa=Yn((function(e,t){e=Ee(e);var r=-1,n=t.length,o=n>2?t[2]:i;for(o&&mo(t[0],t[1],o)&&(n=1);++r<n;)for(var s=t[r],a=ka(s),c=-1,l=a.length;++c<l;){var u=a[c],d=e[u];(d===i||Vs(d,De[u])&&!ke.call(e,u))&&(e[u]=s[u])}return e})),Ia=Yn((function(e){return e.push(i,Xi),gt(Fa,i,e)}));function Ca(e,t,r){var n=null==e?i:_n(e,t);return n===i?r:n}function Aa(e,t){return null!=e&&yo(e,t,Cn)}var Ma=Li((function(e,t,r){null!=t&&\"function\"!=typeof t.toString&&(t=je.call(t)),e[t]=r}),tc(ic)),Da=Li((function(e,t,r){null!=t&&\"function\"!=typeof t.toString&&(t=je.call(t)),ke.call(e,t)?e[t].push(r):e[t]=[r]}),so),Ta=Yn(Mn);function Ra(e){return qs(e)?Yr(e):Fn(e)}function ka(e){return qs(e)?Yr(e,!0):function(e){if(!ta(e))return function(e){var t=[];if(null!=e)for(var r in Ee(e))t.push(r);return t}(e);var t=_o(e),r=[];for(var n in e)(\"constructor\"!=n||!t&&ke.call(e,n))&&r.push(n);return r}(e)}var Na=Di((function(e,t,r){Un(e,t,r)})),Fa=Di((function(e,t,r,n){Un(e,t,r,n)})),ja=eo((function(e,t){var r={};if(null==e)return r;var n=!1;t=Ot(t,(function(t){return t=gi(t,e),n||(n=t.length>1),t})),Ai(e,ro(e),r),n&&(r=an(r,7,$i));for(var i=t.length;i--;)li(r,t[i]);return r})),Ka=eo((function(e,t){return null==e?{}:function(e,t){return Wn(e,t,(function(t,r){return Aa(e,r)}))}(e,t)}));function xa(e,t){if(null==e)return{};var r=Ot(ro(e),(function(e){return[e]}));return t=so(t),Wn(e,r,(function(e,r){return t(e,r[0])}))}var La=Yi(Ra),Ua=Yi(ka);function Va(e){return null==e?[]:Gt(e,Ra(e))}var Ba=Ni((function(e,t,r){return t=t.toLowerCase(),e+(r?Wa(t):t)}));function Wa(e){return Xa(Sa(e).toLowerCase())}function Ga(e){return(e=Sa(e))&&e.replace(me,Jt).replace(He,\"\")}var Ha=Ni((function(e,t,r){return e+(r?\"-\":\"\")+t.toLowerCase()})),za=Ni((function(e,t,r){return e+(r?\" \":\"\")+t.toLowerCase()})),qa=ki(\"toLowerCase\"),Ya=Ni((function(e,t,r){return e+(r?\"_\":\"\")+t.toLowerCase()})),Ja=Ni((function(e,t,r){return e+(r?\" \":\"\")+Xa(t)})),Qa=Ni((function(e,t,r){return e+(r?\" \":\"\")+t.toUpperCase()})),Xa=ki(\"toUpperCase\");function $a(e,t,r){return e=Sa(e),(t=r?i:t)===i?function(e){return Je.test(e)}(e)?function(e){return e.match(qe)||[]}(e):function(e){return e.match(ce)||[]}(e):e.match(t)||[]}var Za=Yn((function(e,t){try{return gt(e,i,t)}catch(e){return Xs(e)?e:new Pe(e)}})),ec=eo((function(e,t){return St(t,(function(t){t=xo(t),nn(e,t,Ds(e[t],e))})),e}));function tc(e){return function(){return e}}var rc=Ki(),nc=Ki(!0);function ic(e){return e}function oc(e){return Nn(\"function\"==typeof e?e:an(e,1))}var sc=Yn((function(e,t){return function(r){return Mn(r,e,t)}})),ac=Yn((function(e,t){return function(r){return Mn(e,r,t)}}));function cc(e,t,r){var n=Ra(t),i=Pn(t,n);null!=r||ta(t)&&(i.length||!n.length)||(r=t,t=e,e=this,i=Pn(t,Ra(t)));var o=!(ta(r)&&\"chain\"in r&&!r.chain),s=$s(e);return St(i,(function(r){var n=t[r];e[r]=n,s&&(e.prototype[r]=function(){var t=this.__chain__;if(o||t){var r=e(this.__wrapped__),i=r.__actions__=Ci(this.__actions__);return i.push({func:n,args:arguments,thisArg:e}),r.__chain__=t,r}return n.apply(e,It([this.value()],arguments))})})),e}function lc(){}var uc=Vi(Ot),dc=Vi(Pt),pc=Vi(Mt);function hc(e){return So(e)?Kt(xo(e)):function(e){return function(t){return _n(t,e)}}(e)}var yc=Wi(),vc=Wi(!0);function fc(){return[]}function gc(){return!1}var mc,Sc=Ui((function(e,t){return e+t}),0),bc=zi(\"ceil\"),Pc=Ui((function(e,t){return e/t}),1),_c=zi(\"floor\"),wc=Ui((function(e,t){return e*t}),1),Ec=zi(\"round\"),Oc=Ui((function(e,t){return e-t}),0);return xr.after=function(e,t){if(\"function\"!=typeof t)throw new Ce(o);return e=va(e),function(){if(--e<1)return t.apply(this,arguments)}},xr.ary=As,xr.assign=ba,xr.assignIn=Pa,xr.assignInWith=_a,xr.assignWith=wa,xr.at=Ea,xr.before=Ms,xr.bind=Ds,xr.bindAll=ec,xr.bindKey=Ts,xr.castArray=function(){if(!arguments.length)return[];var e=arguments[0];return Hs(e)?e:[e]},xr.chain=hs,xr.chunk=function(e,t,r){t=(r?mo(e,t,r):t===i)?1:fr(va(t),0);var o=null==e?0:e.length;if(!o||t<1)return[];for(var s=0,a=0,c=n(lr(o/t));s<o;)c[a++]=ti(e,s,s+=t);return c},xr.compact=function(e){for(var t=-1,r=null==e?0:e.length,n=0,i=[];++t<r;){var o=e[t];o&&(i[n++]=o)}return i},xr.concat=function(){var e=arguments.length;if(!e)return[];for(var t=n(e-1),r=arguments[0],i=e;i--;)t[i-1]=arguments[i];return It(Hs(r)?Ci(r):[r],fn(t,1))},xr.cond=function(e){var t=null==e?0:e.length,r=so();return e=t?Ot(e,(function(e){if(\"function\"!=typeof e[1])throw new Ce(o);return[r(e[0]),e[1]]})):[],Yn((function(r){for(var n=-1;++n<t;){var i=e[n];if(gt(i[0],this,r))return gt(i[1],this,r)}}))},xr.conforms=function(e){return function(e){var t=Ra(e);return function(r){return cn(r,e,t)}}(an(e,1))},xr.constant=tc,xr.countBy=fs,xr.create=function(e,t){var r=Lr(e);return null==t?r:rn(r,t)},xr.curry=function e(t,r,n){var o=Ji(t,8,i,i,i,i,i,r=n?i:r);return o.placeholder=e.placeholder,o},xr.curryRight=function e(t,r,n){var o=Ji(t,16,i,i,i,i,i,r=n?i:r);return o.placeholder=e.placeholder,o},xr.debounce=Rs,xr.defaults=Oa,xr.defaultsDeep=Ia,xr.defer=ks,xr.delay=Ns,xr.difference=Vo,xr.differenceBy=Bo,xr.differenceWith=Wo,xr.drop=function(e,t,r){var n=null==e?0:e.length;return n?ti(e,(t=r||t===i?1:va(t))<0?0:t,n):[]},xr.dropRight=function(e,t,r){var n=null==e?0:e.length;return n?ti(e,0,(t=n-(t=r||t===i?1:va(t)))<0?0:t):[]},xr.dropRightWhile=function(e,t){return e&&e.length?di(e,so(t,3),!0,!0):[]},xr.dropWhile=function(e,t){return e&&e.length?di(e,so(t,3),!0):[]},xr.fill=function(e,t,r,n){var o=null==e?0:e.length;return o?(r&&\"number\"!=typeof r&&mo(e,t,r)&&(r=0,n=o),function(e,t,r,n){var o=e.length;for((r=va(r))<0&&(r=-r>o?0:o+r),(n=n===i||n>o?o:va(n))<0&&(n+=o),n=r>n?0:fa(n);r<n;)e[r++]=t;return e}(e,t,r,n)):[]},xr.filter=function(e,t){return(Hs(e)?_t:vn)(e,so(t,3))},xr.flatMap=function(e,t){return fn(Es(e,t),1)},xr.flatMapDeep=function(e,t){return fn(Es(e,t),u)},xr.flatMapDepth=function(e,t,r){return r=r===i?1:va(r),fn(Es(e,t),r)},xr.flatten=zo,xr.flattenDeep=function(e){return null!=e&&e.length?fn(e,u):[]},xr.flattenDepth=function(e,t){return null!=e&&e.length?fn(e,t=t===i?1:va(t)):[]},xr.flip=function(e){return Ji(e,512)},xr.flow=rc,xr.flowRight=nc,xr.fromPairs=function(e){for(var t=-1,r=null==e?0:e.length,n={};++t<r;){var i=e[t];n[i[0]]=i[1]}return n},xr.functions=function(e){return null==e?[]:Pn(e,Ra(e))},xr.functionsIn=function(e){return null==e?[]:Pn(e,ka(e))},xr.groupBy=Ps,xr.initial=function(e){return null!=e&&e.length?ti(e,0,-1):[]},xr.intersection=Yo,xr.intersectionBy=Jo,xr.intersectionWith=Qo,xr.invert=Ma,xr.invertBy=Da,xr.invokeMap=_s,xr.iteratee=oc,xr.keyBy=ws,xr.keys=Ra,xr.keysIn=ka,xr.map=Es,xr.mapKeys=function(e,t){var r={};return t=so(t,3),Sn(e,(function(e,n,i){nn(r,t(e,n,i),e)})),r},xr.mapValues=function(e,t){var r={};return t=so(t,3),Sn(e,(function(e,n,i){nn(r,n,t(e,n,i))})),r},xr.matches=function(e){return xn(an(e,1))},xr.matchesProperty=function(e,t){return Ln(e,an(t,1))},xr.memoize=Fs,xr.merge=Na,xr.mergeWith=Fa,xr.method=sc,xr.methodOf=ac,xr.mixin=cc,xr.negate=js,xr.nthArg=function(e){return e=va(e),Yn((function(t){return Vn(t,e)}))},xr.omit=ja,xr.omitBy=function(e,t){return xa(e,js(so(t)))},xr.once=function(e){return Ms(2,e)},xr.orderBy=function(e,t,r,n){return null==e?[]:(Hs(t)||(t=null==t?[]:[t]),Hs(r=n?i:r)||(r=null==r?[]:[r]),Bn(e,t,r))},xr.over=uc,xr.overArgs=Ks,xr.overEvery=dc,xr.overSome=pc,xr.partial=xs,xr.partialRight=Ls,xr.partition=Os,xr.pick=Ka,xr.pickBy=xa,xr.property=hc,xr.propertyOf=function(e){return function(t){return null==e?i:_n(e,t)}},xr.pull=$o,xr.pullAll=Zo,xr.pullAllBy=function(e,t,r){return e&&e.length&&t&&t.length?Gn(e,t,so(r,2)):e},xr.pullAllWith=function(e,t,r){return e&&e.length&&t&&t.length?Gn(e,t,i,r):e},xr.pullAt=es,xr.range=yc,xr.rangeRight=vc,xr.rearg=Us,xr.reject=function(e,t){return(Hs(e)?_t:vn)(e,js(so(t,3)))},xr.remove=function(e,t){var r=[];if(!e||!e.length)return r;var n=-1,i=[],o=e.length;for(t=so(t,3);++n<o;){var s=e[n];t(s,n,e)&&(r.push(s),i.push(n))}return Hn(e,i),r},xr.rest=function(e,t){if(\"function\"!=typeof e)throw new Ce(o);return Yn(e,t=t===i?t:va(t))},xr.reverse=ts,xr.sampleSize=function(e,t,r){return t=(r?mo(e,t,r):t===i)?1:va(t),(Hs(e)?Qr:Qn)(e,t)},xr.set=function(e,t,r){return null==e?e:Xn(e,t,r)},xr.setWith=function(e,t,r,n){return n=\"function\"==typeof n?n:i,null==e?e:Xn(e,t,r,n)},xr.shuffle=function(e){return(Hs(e)?Xr:ei)(e)},xr.slice=function(e,t,r){var n=null==e?0:e.length;return n?(r&&\"number\"!=typeof r&&mo(e,t,r)?(t=0,r=n):(t=null==t?0:va(t),r=r===i?n:va(r)),ti(e,t,r)):[]},xr.sortBy=Is,xr.sortedUniq=function(e){return e&&e.length?oi(e):[]},xr.sortedUniqBy=function(e,t){return e&&e.length?oi(e,so(t,2)):[]},xr.split=function(e,t,r){return r&&\"number\"!=typeof r&&mo(e,t,r)&&(t=r=i),(r=r===i?h:r>>>0)?(e=Sa(e))&&(\"string\"==typeof t||null!=t&&!sa(t))&&!(t=ai(t))&&$t(e)?Si(or(e),0,r):e.split(t,r):[]},xr.spread=function(e,t){if(\"function\"!=typeof e)throw new Ce(o);return t=null==t?0:fr(va(t),0),Yn((function(r){var n=r[t],i=Si(r,0,t);return n&&It(i,n),gt(e,this,i)}))},xr.tail=function(e){var t=null==e?0:e.length;return t?ti(e,1,t):[]},xr.take=function(e,t,r){return e&&e.length?ti(e,0,(t=r||t===i?1:va(t))<0?0:t):[]},xr.takeRight=function(e,t,r){var n=null==e?0:e.length;return n?ti(e,(t=n-(t=r||t===i?1:va(t)))<0?0:t,n):[]},xr.takeRightWhile=function(e,t){return e&&e.length?di(e,so(t,3),!1,!0):[]},xr.takeWhile=function(e,t){return e&&e.length?di(e,so(t,3)):[]},xr.tap=function(e,t){return t(e),e},xr.throttle=function(e,t,r){var n=!0,i=!0;if(\"function\"!=typeof e)throw new Ce(o);return ta(r)&&(n=\"leading\"in r?!!r.leading:n,i=\"trailing\"in r?!!r.trailing:i),Rs(e,t,{leading:n,maxWait:t,trailing:i})},xr.thru=ys,xr.toArray=ha,xr.toPairs=La,xr.toPairsIn=Ua,xr.toPath=function(e){return Hs(e)?Ot(e,xo):la(e)?[e]:Ci(Ko(Sa(e)))},xr.toPlainObject=ma,xr.transform=function(e,t,r){var n=Hs(e),i=n||Js(e)||ua(e);if(t=so(t,4),null==r){var o=e&&e.constructor;r=i?n?new o:[]:ta(e)&&$s(o)?Lr(ze(e)):{}}return(i?St:Sn)(e,(function(e,n,i){return t(r,e,n,i)})),r},xr.unary=function(e){return As(e,1)},xr.union=rs,xr.unionBy=ns,xr.unionWith=is,xr.uniq=function(e){return e&&e.length?ci(e):[]},xr.uniqBy=function(e,t){return e&&e.length?ci(e,so(t,2)):[]},xr.uniqWith=function(e,t){return t=\"function\"==typeof t?t:i,e&&e.length?ci(e,i,t):[]},xr.unset=function(e,t){return null==e||li(e,t)},xr.unzip=os,xr.unzipWith=ss,xr.update=function(e,t,r){return null==e?e:ui(e,t,fi(r))},xr.updateWith=function(e,t,r,n){return n=\"function\"==typeof n?n:i,null==e?e:ui(e,t,fi(r),n)},xr.values=Va,xr.valuesIn=function(e){return null==e?[]:Gt(e,ka(e))},xr.without=as,xr.words=$a,xr.wrap=function(e,t){return xs(fi(t),e)},xr.xor=cs,xr.xorBy=ls,xr.xorWith=us,xr.zip=ds,xr.zipObject=function(e,t){return yi(e||[],t||[],Zr)},xr.zipObjectDeep=function(e,t){return yi(e||[],t||[],Xn)},xr.zipWith=ps,xr.entries=La,xr.entriesIn=Ua,xr.extend=Pa,xr.extendWith=_a,cc(xr,xr),xr.add=Sc,xr.attempt=Za,xr.camelCase=Ba,xr.capitalize=Wa,xr.ceil=bc,xr.clamp=function(e,t,r){return r===i&&(r=t,t=i),r!==i&&(r=(r=ga(r))==r?r:0),t!==i&&(t=(t=ga(t))==t?t:0),sn(ga(e),t,r)},xr.clone=function(e){return an(e,4)},xr.cloneDeep=function(e){return an(e,5)},xr.cloneDeepWith=function(e,t){return an(e,5,t=\"function\"==typeof t?t:i)},xr.cloneWith=function(e,t){return an(e,4,t=\"function\"==typeof t?t:i)},xr.conformsTo=function(e,t){return null==t||cn(e,t,Ra(t))},xr.deburr=Ga,xr.defaultTo=function(e,t){return null==e||e!=e?t:e},xr.divide=Pc,xr.endsWith=function(e,t,r){e=Sa(e),t=ai(t);var n=e.length,o=r=r===i?n:sn(va(r),0,n);return(r-=t.length)>=0&&e.slice(r,o)==t},xr.eq=Vs,xr.escape=function(e){return(e=Sa(e))&&Y.test(e)?e.replace(z,Qt):e},xr.escapeRegExp=function(e){return(e=Sa(e))&&re.test(e)?e.replace(te,\"\\\\$&\"):e},xr.every=function(e,t,r){var n=Hs(e)?Pt:hn;return r&&mo(e,t,r)&&(t=i),n(e,so(t,3))},xr.find=gs,xr.findIndex=Go,xr.findKey=function(e,t){return Tt(e,so(t,3),Sn)},xr.findLast=ms,xr.findLastIndex=Ho,xr.findLastKey=function(e,t){return Tt(e,so(t,3),bn)},xr.floor=_c,xr.forEach=Ss,xr.forEachRight=bs,xr.forIn=function(e,t){return null==e?e:gn(e,so(t,3),ka)},xr.forInRight=function(e,t){return null==e?e:mn(e,so(t,3),ka)},xr.forOwn=function(e,t){return e&&Sn(e,so(t,3))},xr.forOwnRight=function(e,t){return e&&bn(e,so(t,3))},xr.get=Ca,xr.gt=Bs,xr.gte=Ws,xr.has=function(e,t){return null!=e&&yo(e,t,In)},xr.hasIn=Aa,xr.head=qo,xr.identity=ic,xr.includes=function(e,t,r,n){e=qs(e)?e:Va(e),r=r&&!n?va(r):0;var i=e.length;return r<0&&(r=fr(i+r,0)),ca(e)?r<=i&&e.indexOf(t,r)>-1:!!i&&kt(e,t,r)>-1},xr.indexOf=function(e,t,r){var n=null==e?0:e.length;if(!n)return-1;var i=null==r?0:va(r);return i<0&&(i=fr(n+i,0)),kt(e,t,i)},xr.inRange=function(e,t,r){return t=ya(t),r===i?(r=t,t=0):r=ya(r),function(e,t,r){return e>=gr(t,r)&&e<fr(t,r)}(e=ga(e),t,r)},xr.invoke=Ta,xr.isArguments=Gs,xr.isArray=Hs,xr.isArrayBuffer=zs,xr.isArrayLike=qs,xr.isArrayLikeObject=Ys,xr.isBoolean=function(e){return!0===e||!1===e||ra(e)&&En(e)==g},xr.isBuffer=Js,xr.isDate=Qs,xr.isElement=function(e){return ra(e)&&1===e.nodeType&&!oa(e)},xr.isEmpty=function(e){if(null==e)return!0;if(qs(e)&&(Hs(e)||\"string\"==typeof e||\"function\"==typeof e.splice||Js(e)||ua(e)||Gs(e)))return!e.length;var t=ho(e);if(t==_||t==C)return!e.size;if(_o(e))return!Fn(e).length;for(var r in e)if(ke.call(e,r))return!1;return!0},xr.isEqual=function(e,t){return Tn(e,t)},xr.isEqualWith=function(e,t,r){var n=(r=\"function\"==typeof r?r:i)?r(e,t):i;return n===i?Tn(e,t,i,r):!!n},xr.isError=Xs,xr.isFinite=function(e){return\"number\"==typeof e&&hr(e)},xr.isFunction=$s,xr.isInteger=Zs,xr.isLength=ea,xr.isMap=na,xr.isMatch=function(e,t){return e===t||Rn(e,t,co(t))},xr.isMatchWith=function(e,t,r){return r=\"function\"==typeof r?r:i,Rn(e,t,co(t),r)},xr.isNaN=function(e){return ia(e)&&e!=+e},xr.isNative=function(e){if(Po(e))throw new Pe(\"Unsupported core-js use. Try https://npms.io/search?q=ponyfill.\");return kn(e)},xr.isNil=function(e){return null==e},xr.isNull=function(e){return null===e},xr.isNumber=ia,xr.isObject=ta,xr.isObjectLike=ra,xr.isPlainObject=oa,xr.isRegExp=sa,xr.isSafeInteger=function(e){return Zs(e)&&e>=-9007199254740991&&e<=d},xr.isSet=aa,xr.isString=ca,xr.isSymbol=la,xr.isTypedArray=ua,xr.isUndefined=function(e){return e===i},xr.isWeakMap=function(e){return ra(e)&&ho(e)==D},xr.isWeakSet=function(e){return ra(e)&&\"[object WeakSet]\"==En(e)},xr.join=function(e,t){return null==e?\"\":yr.call(e,t)},xr.kebabCase=Ha,xr.last=Xo,xr.lastIndexOf=function(e,t,r){var n=null==e?0:e.length;if(!n)return-1;var o=n;return r!==i&&(o=(o=va(r))<0?fr(n+o,0):gr(o,n-1)),t==t?function(e,t,r){for(var n=r+1;n--;)if(e[n]===t)return n;return n}(e,t,o):Rt(e,Ft,o,!0)},xr.lowerCase=za,xr.lowerFirst=qa,xr.lt=da,xr.lte=pa,xr.max=function(e){return e&&e.length?yn(e,ic,On):i},xr.maxBy=function(e,t){return e&&e.length?yn(e,so(t,2),On):i},xr.mean=function(e){return jt(e,ic)},xr.meanBy=function(e,t){return jt(e,so(t,2))},xr.min=function(e){return e&&e.length?yn(e,ic,jn):i},xr.minBy=function(e,t){return e&&e.length?yn(e,so(t,2),jn):i},xr.stubArray=fc,xr.stubFalse=gc,xr.stubObject=function(){return{}},xr.stubString=function(){return\"\"},xr.stubTrue=function(){return!0},xr.multiply=wc,xr.nth=function(e,t){return e&&e.length?Vn(e,va(t)):i},xr.noConflict=function(){return ot._===this&&(ot._=xe),this},xr.noop=lc,xr.now=Cs,xr.pad=function(e,t,r){e=Sa(e);var n=(t=va(t))?ir(e):0;if(!t||n>=t)return e;var i=(t-n)/2;return Bi(ur(i),r)+e+Bi(lr(i),r)},xr.padEnd=function(e,t,r){e=Sa(e);var n=(t=va(t))?ir(e):0;return t&&n<t?e+Bi(t-n,r):e},xr.padStart=function(e,t,r){e=Sa(e);var n=(t=va(t))?ir(e):0;return t&&n<t?Bi(t-n,r)+e:e},xr.parseInt=function(e,t,r){return r||null==t?t=0:t&&(t=+t),Sr(Sa(e).replace(ne,\"\"),t||0)},xr.random=function(e,t,r){if(r&&\"boolean\"!=typeof r&&mo(e,t,r)&&(t=r=i),r===i&&(\"boolean\"==typeof t?(r=t,t=i):\"boolean\"==typeof e&&(r=e,e=i)),e===i&&t===i?(e=0,t=1):(e=ya(e),t===i?(t=e,e=0):t=ya(t)),e>t){var n=e;e=t,t=n}if(r||e%1||t%1){var o=br();return gr(e+o*(t-e+tt(\"1e-\"+((o+\"\").length-1))),t)}return zn(e,t)},xr.reduce=function(e,t,r){var n=Hs(e)?Ct:Lt,i=arguments.length<3;return n(e,so(t,4),r,i,dn)},xr.reduceRight=function(e,t,r){var n=Hs(e)?At:Lt,i=arguments.length<3;return n(e,so(t,4),r,i,pn)},xr.repeat=function(e,t,r){return t=(r?mo(e,t,r):t===i)?1:va(t),qn(Sa(e),t)},xr.replace=function(){var e=arguments,t=Sa(e[0]);return e.length<3?t:t.replace(e[1],e[2])},xr.result=function(e,t,r){var n=-1,o=(t=gi(t,e)).length;for(o||(o=1,e=i);++n<o;){var s=null==e?i:e[xo(t[n])];s===i&&(n=o,s=r),e=$s(s)?s.call(e):s}return e},xr.round=Ec,xr.runInContext=e,xr.sample=function(e){return(Hs(e)?Jr:Jn)(e)},xr.size=function(e){if(null==e)return 0;if(qs(e))return ca(e)?ir(e):e.length;var t=ho(e);return t==_||t==C?e.size:Fn(e).length},xr.snakeCase=Ya,xr.some=function(e,t,r){var n=Hs(e)?Mt:ri;return r&&mo(e,t,r)&&(t=i),n(e,so(t,3))},xr.sortedIndex=function(e,t){return ni(e,t)},xr.sortedIndexBy=function(e,t,r){return ii(e,t,so(r,2))},xr.sortedIndexOf=function(e,t){var r=null==e?0:e.length;if(r){var n=ni(e,t);if(n<r&&Vs(e[n],t))return n}return-1},xr.sortedLastIndex=function(e,t){return ni(e,t,!0)},xr.sortedLastIndexBy=function(e,t,r){return ii(e,t,so(r,2),!0)},xr.sortedLastIndexOf=function(e,t){if(null!=e&&e.length){var r=ni(e,t,!0)-1;if(Vs(e[r],t))return r}return-1},xr.startCase=Ja,xr.startsWith=function(e,t,r){return e=Sa(e),r=null==r?0:sn(va(r),0,e.length),t=ai(t),e.slice(r,r+t.length)==t},xr.subtract=Oc,xr.sum=function(e){return e&&e.length?Ut(e,ic):0},xr.sumBy=function(e,t){return e&&e.length?Ut(e,so(t,2)):0},xr.template=function(e,t,r){var n=xr.templateSettings;r&&mo(e,t,r)&&(t=i),e=Sa(e),t=_a({},t,n,Qi);var o,s,a=_a({},t.imports,n.imports,Qi),c=Ra(a),l=Gt(a,c),u=0,d=t.interpolate||Se,p=\"__p += '\",h=Oe((t.escape||Se).source+\"|\"+d.source+\"|\"+(d===X?de:Se).source+\"|\"+(t.evaluate||Se).source+\"|$\",\"g\"),y=\"//# sourceURL=\"+(ke.call(t,\"sourceURL\")?(t.sourceURL+\"\").replace(/\\s/g,\" \"):\"lodash.templateSources[\"+ ++Xe+\"]\")+\"\\n\";e.replace(h,(function(t,r,n,i,a,c){return n||(n=i),p+=e.slice(u,c).replace(be,Xt),r&&(o=!0,p+=\"' +\\n__e(\"+r+\") +\\n'\"),a&&(s=!0,p+=\"';\\n\"+a+\";\\n__p += '\"),n&&(p+=\"' +\\n((__t = (\"+n+\")) == null ? '' : __t) +\\n'\"),u=c+t.length,t})),p+=\"';\\n\";var v=ke.call(t,\"variable\")&&t.variable;if(v){if(le.test(v))throw new Pe(\"Invalid `variable` option passed into `_.template`\")}else p=\"with (obj) {\\n\"+p+\"\\n}\\n\";p=(s?p.replace(B,\"\"):p).replace(W,\"$1\").replace(G,\"$1;\"),p=\"function(\"+(v||\"obj\")+\") {\\n\"+(v?\"\":\"obj || (obj = {});\\n\")+\"var __t, __p = ''\"+(o?\", __e = _.escape\":\"\")+(s?\", __j = Array.prototype.join;\\nfunction print() { __p += __j.call(arguments, '') }\\n\":\";\\n\")+p+\"return __p\\n}\";var f=Za((function(){return _e(c,y+\"return \"+p).apply(i,l)}));if(f.source=p,Xs(f))throw f;return f},xr.times=function(e,t){if((e=va(e))<1||e>d)return[];var r=h,n=gr(e,h);t=so(t),e-=h;for(var i=Vt(n,t);++r<e;)t(r);return i},xr.toFinite=ya,xr.toInteger=va,xr.toLength=fa,xr.toLower=function(e){return Sa(e).toLowerCase()},xr.toNumber=ga,xr.toSafeInteger=function(e){return e?sn(va(e),-9007199254740991,d):0===e?e:0},xr.toString=Sa,xr.toUpper=function(e){return Sa(e).toUpperCase()},xr.trim=function(e,t,r){if((e=Sa(e))&&(r||t===i))return Bt(e);if(!e||!(t=ai(t)))return e;var n=or(e),o=or(t);return Si(n,zt(n,o),qt(n,o)+1).join(\"\")},xr.trimEnd=function(e,t,r){if((e=Sa(e))&&(r||t===i))return e.slice(0,sr(e)+1);if(!e||!(t=ai(t)))return e;var n=or(e);return Si(n,0,qt(n,or(t))+1).join(\"\")},xr.trimStart=function(e,t,r){if((e=Sa(e))&&(r||t===i))return e.replace(ne,\"\");if(!e||!(t=ai(t)))return e;var n=or(e);return Si(n,zt(n,or(t))).join(\"\")},xr.truncate=function(e,t){var r=30,n=\"...\";if(ta(t)){var o=\"separator\"in t?t.separator:o;r=\"length\"in t?va(t.length):r,n=\"omission\"in t?ai(t.omission):n}var s=(e=Sa(e)).length;if($t(e)){var a=or(e);s=a.length}if(r>=s)return e;var c=r-ir(n);if(c<1)return n;var l=a?Si(a,0,c).join(\"\"):e.slice(0,c);if(o===i)return l+n;if(a&&(c+=l.length-c),sa(o)){if(e.slice(c).search(o)){var u,d=l;for(o.global||(o=Oe(o.source,Sa(pe.exec(o))+\"g\")),o.lastIndex=0;u=o.exec(d);)var p=u.index;l=l.slice(0,p===i?c:p)}}else if(e.indexOf(ai(o),c)!=c){var h=l.lastIndexOf(o);h>-1&&(l=l.slice(0,h))}return l+n},xr.unescape=function(e){return(e=Sa(e))&&q.test(e)?e.replace(H,ar):e},xr.uniqueId=function(e){var t=++Ne;return Sa(e)+t},xr.upperCase=Qa,xr.upperFirst=Xa,xr.each=Ss,xr.eachRight=bs,xr.first=qo,cc(xr,(mc={},Sn(xr,(function(e,t){ke.call(xr.prototype,t)||(mc[t]=e)})),mc),{chain:!1}),xr.VERSION=\"4.17.21\",St([\"bind\",\"bindKey\",\"curry\",\"curryRight\",\"partial\",\"partialRight\"],(function(e){xr[e].placeholder=xr})),St([\"drop\",\"take\"],(function(e,t){Br.prototype[e]=function(r){r=r===i?1:fr(va(r),0);var n=this.__filtered__&&!t?new Br(this):this.clone();return n.__filtered__?n.__takeCount__=gr(r,n.__takeCount__):n.__views__.push({size:gr(r,h),type:e+(n.__dir__<0?\"Right\":\"\")}),n},Br.prototype[e+\"Right\"]=function(t){return this.reverse()[e](t).reverse()}})),St([\"filter\",\"map\",\"takeWhile\"],(function(e,t){var r=t+1,n=1==r||3==r;Br.prototype[e]=function(e){var t=this.clone();return t.__iteratees__.push({iteratee:so(e,3),type:r}),t.__filtered__=t.__filtered__||n,t}})),St([\"head\",\"last\"],(function(e,t){var r=\"take\"+(t?\"Right\":\"\");Br.prototype[e]=function(){return this[r](1).value()[0]}})),St([\"initial\",\"tail\"],(function(e,t){var r=\"drop\"+(t?\"\":\"Right\");Br.prototype[e]=function(){return this.__filtered__?new Br(this):this[r](1)}})),Br.prototype.compact=function(){return this.filter(ic)},Br.prototype.find=function(e){return this.filter(e).head()},Br.prototype.findLast=function(e){return this.reverse().find(e)},Br.prototype.invokeMap=Yn((function(e,t){return\"function\"==typeof e?new Br(this):this.map((function(r){return Mn(r,e,t)}))})),Br.prototype.reject=function(e){return this.filter(js(so(e)))},Br.prototype.slice=function(e,t){e=va(e);var r=this;return r.__filtered__&&(e>0||t<0)?new Br(r):(e<0?r=r.takeRight(-e):e&&(r=r.drop(e)),t!==i&&(r=(t=va(t))<0?r.dropRight(-t):r.take(t-e)),r)},Br.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},Br.prototype.toArray=function(){return this.take(h)},Sn(Br.prototype,(function(e,t){var r=/^(?:filter|find|map|reject)|While$/.test(t),n=/^(?:head|last)$/.test(t),o=xr[n?\"take\"+(\"last\"==t?\"Right\":\"\"):t],s=n||/^find/.test(t);o&&(xr.prototype[t]=function(){var t=this.__wrapped__,a=n?[1]:arguments,c=t instanceof Br,l=a[0],u=c||Hs(t),d=function(e){var t=o.apply(xr,It([e],a));return n&&p?t[0]:t};u&&r&&\"function\"==typeof l&&1!=l.length&&(c=u=!1);var p=this.__chain__,h=!!this.__actions__.length,y=s&&!p,v=c&&!h;if(!s&&u){t=v?t:new Br(this);var f=e.apply(t,a);return f.__actions__.push({func:ys,args:[d],thisArg:i}),new Vr(f,p)}return y&&v?e.apply(this,a):(f=this.thru(d),y?n?f.value()[0]:f.value():f)})})),St([\"pop\",\"push\",\"shift\",\"sort\",\"splice\",\"unshift\"],(function(e){var t=Ae[e],r=/^(?:push|sort|unshift)$/.test(e)?\"tap\":\"thru\",n=/^(?:pop|shift)$/.test(e);xr.prototype[e]=function(){var e=arguments;if(n&&!this.__chain__){var i=this.value();return t.apply(Hs(i)?i:[],e)}return this[r]((function(r){return t.apply(Hs(r)?r:[],e)}))}})),Sn(Br.prototype,(function(e,t){var r=xr[t];if(r){var n=r.name+\"\";ke.call(Mr,n)||(Mr[n]=[]),Mr[n].push({name:t,func:r})}})),Mr[xi(i,2).name]=[{name:\"wrapper\",func:i}],Br.prototype.clone=function(){var e=new Br(this.__wrapped__);return e.__actions__=Ci(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=Ci(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=Ci(this.__views__),e},Br.prototype.reverse=function(){if(this.__filtered__){var e=new Br(this);e.__dir__=-1,e.__filtered__=!0}else(e=this.clone()).__dir__*=-1;return e},Br.prototype.value=function(){var e=this.__wrapped__.value(),t=this.__dir__,r=Hs(e),n=t<0,i=r?e.length:0,o=function(e,t,r){for(var n=-1,i=r.length;++n<i;){var o=r[n],s=o.size;switch(o.type){case\"drop\":e+=s;break;case\"dropRight\":t-=s;break;case\"take\":t=gr(t,e+s);break;case\"takeRight\":e=fr(e,t-s)}}return{start:e,end:t}}(0,i,this.__views__),s=o.start,a=o.end,c=a-s,l=n?a:s-1,u=this.__iteratees__,d=u.length,p=0,h=gr(c,this.__takeCount__);if(!r||!n&&i==c&&h==c)return pi(e,this.__actions__);var y=[];e:for(;c--&&p<h;){for(var v=-1,f=e[l+=t];++v<d;){var g=u[v],m=g.iteratee,S=g.type,b=m(f);if(2==S)f=b;else if(!b){if(1==S)continue e;break e}}y[p++]=f}return y},xr.prototype.at=vs,xr.prototype.chain=function(){return hs(this)},xr.prototype.commit=function(){return new Vr(this.value(),this.__chain__)},xr.prototype.next=function(){this.__values__===i&&(this.__values__=ha(this.value()));var e=this.__index__>=this.__values__.length;return{done:e,value:e?i:this.__values__[this.__index__++]}},xr.prototype.plant=function(e){for(var t,r=this;r instanceof Ur;){var n=Uo(r);n.__index__=0,n.__values__=i,t?o.__wrapped__=n:t=n;var o=n;r=r.__wrapped__}return o.__wrapped__=e,t},xr.prototype.reverse=function(){var e=this.__wrapped__;if(e instanceof Br){var t=e;return this.__actions__.length&&(t=new Br(this)),(t=t.reverse()).__actions__.push({func:ys,args:[ts],thisArg:i}),new Vr(t,this.__chain__)}return this.thru(ts)},xr.prototype.toJSON=xr.prototype.valueOf=xr.prototype.value=function(){return pi(this.__wrapped__,this.__actions__)},xr.prototype.first=xr.prototype.head,st&&(xr.prototype[st]=function(){return this}),xr}();ot._=cr,(n=function(){return cr}.call(t,r,t,e))===i||(e.exports=n)}.call(this)},71608:(e,t,r)=>{var n=r(10848);function i(e,t){if(\"function\"!=typeof e||null!=t&&\"function\"!=typeof t)throw new TypeError(\"Expected a function\");var r=function r(){var n=arguments,i=t?t.apply(this,n):n[0],o=r.cache;if(o.has(i))return o.get(i);var s=e.apply(this,n);return r.cache=o.set(i,s)||o,s};return r.cache=new(i.Cache||n),r}i.Cache=n,e.exports=i},3363:(e,t,r)=>{var n=r(90791),i=r(11143)((function(e,t,r){n(e,t,r)}));e.exports=i},58569:e=>{e.exports=function(){}},47973:(e,t,r)=>{var n=r(91484),i=r(15571),o=r(75374),s=r(35657);e.exports=function(e){return o(e)?n(s(e)):i(e)}},1494:(e,t,r)=>{var n=r(24064),i=r(70896);e.exports=function(e,t){var r=[];if(!e||!e.length)return r;var o=-1,s=[],a=e.length;for(t=n(t,3);++o<a;){var c=e[o];t(c,o,e)&&(r.push(c),s.push(o))}return i(e,s),r}},38819:e=>{e.exports=function(){return[]}},67349:e=>{e.exports=function(){return!1}},6529:(e,t,r)=>{var n=r(33248);e.exports=function(e){return e?Infinity===(e=n(e))||e===-1/0?17976931348623157e292*(e<0?-1:1):e==e?e:0:0===e?e:0}},3506:(e,t,r)=>{var n=r(6529);e.exports=function(e){var t=n(e),r=t%1;return t==t?r?t-r:t:0}},33248:(e,t,r)=>{var n=r(62555),i=r(57458),o=r(5847),s=/^[-+]0x[0-9a-f]+$/i,a=/^0b[01]+$/i,c=/^0o[0-7]+$/i,l=parseInt;e.exports=function(e){if(\"number\"==typeof e)return e;if(o(e))return NaN;if(i(e)){var t=\"function\"==typeof e.valueOf?e.valueOf():e;e=i(t)?t+\"\":t}if(\"string\"!=typeof e)return 0===e?e:+e;e=n(e);var r=a.test(e);return r||c.test(e)?l(e.slice(2),r?2:8):s.test(e)?NaN:+e}},95920:(e,t,r)=>{var n=r(98775),i=r(38929);e.exports=function(e){return n(e,i(e))}},40065:(e,t,r)=>{var n=r(84372);e.exports=function(e){return null==e?\"\":n(e)}},14293:(e,t,r)=>{var n=r(445);e.exports=function(e){return e&&e.length?n(e):[]}},962:(e,t,r)=>{const n=Symbol(\"SemVer ANY\");class i{static get ANY(){return n}constructor(e,t){if(t=o(t),e instanceof i){if(e.loose===!!t.loose)return e;e=e.value}l(\"comparator\",e,t),this.options=t,this.loose=!!t.loose,this.parse(e),this.semver===n?this.value=\"\":this.value=this.operator+this.semver.version,l(\"comp\",this)}parse(e){const t=this.options.loose?s[a.COMPARATORLOOSE]:s[a.COMPARATOR],r=e.match(t);if(!r)throw new TypeError(\"Invalid comparator: \".concat(e));this.operator=void 0!==r[1]?r[1]:\"\",\"=\"===this.operator&&(this.operator=\"\"),r[2]?this.semver=new u(r[2],this.options.loose):this.semver=n}toString(){return this.value}test(e){if(l(\"Comparator.test\",e,this.options.loose),this.semver===n||e===n)return!0;if(\"string\"==typeof e)try{e=new u(e,this.options)}catch(e){return!1}return c(e,this.operator,this.semver,this.options)}intersects(e,t){if(!(e instanceof i))throw new TypeError(\"a Comparator is required\");if(t&&\"object\"==typeof t||(t={loose:!!t,includePrerelease:!1}),\"\"===this.operator)return\"\"===this.value||new d(e.value,t).test(this.value);if(\"\"===e.operator)return\"\"===e.value||new d(this.value,t).test(e.semver);const r=!(\">=\"!==this.operator&&\">\"!==this.operator||\">=\"!==e.operator&&\">\"!==e.operator),n=!(\"<=\"!==this.operator&&\"<\"!==this.operator||\"<=\"!==e.operator&&\"<\"!==e.operator),o=this.semver.version===e.semver.version,s=!(\">=\"!==this.operator&&\"<=\"!==this.operator||\">=\"!==e.operator&&\"<=\"!==e.operator),a=c(this.semver,\"<\",e.semver,t)&&(\">=\"===this.operator||\">\"===this.operator)&&(\"<=\"===e.operator||\"<\"===e.operator),l=c(this.semver,\">\",e.semver,t)&&(\"<=\"===this.operator||\"<\"===this.operator)&&(\">=\"===e.operator||\">\"===e.operator);return r||n||o&&s||a||l}}e.exports=i;const o=r(2102),{re:s,t:a}=r(13857),c=r(47753),l=r(91738),u=r(48457),d=r(84239)},84239:(e,t,r)=>{class n{constructor(e,t){if(t=o(t),e instanceof n)return e.loose===!!t.loose&&e.includePrerelease===!!t.includePrerelease?e:new n(e.raw,t);if(e instanceof s)return this.raw=e.value,this.set=[[e]],this.format(),this;if(this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease,this.raw=e,this.set=e.split(\"||\").map((e=>this.parseRange(e.trim()))).filter((e=>e.length)),!this.set.length)throw new TypeError(\"Invalid SemVer Range: \".concat(e));if(this.set.length>1){const e=this.set[0];if(this.set=this.set.filter((e=>!y(e[0]))),0===this.set.length)this.set=[e];else if(this.set.length>1)for(const e of this.set)if(1===e.length&&v(e[0])){this.set=[e];break}}this.format()}format(){return this.range=this.set.map((e=>e.join(\" \").trim())).join(\"||\").trim(),this.range}toString(){return this.range}parseRange(e){e=e.trim();const t=Object.keys(this.options).join(\",\"),r=\"parseRange:\".concat(t,\":\").concat(e),n=i.get(r);if(n)return n;const o=this.options.loose,c=o?l[u.HYPHENRANGELOOSE]:l[u.HYPHENRANGE];e=e.replace(c,C(this.options.includePrerelease)),a(\"hyphen replace\",e),e=e.replace(l[u.COMPARATORTRIM],d),a(\"comparator trim\",e);let v=(e=(e=(e=e.replace(l[u.TILDETRIM],p)).replace(l[u.CARETTRIM],h)).split(/\\s+/).join(\" \")).split(\" \").map((e=>g(e,this.options))).join(\" \").split(/\\s+/).map((e=>I(e,this.options)));o&&(v=v.filter((e=>(a(\"loose invalid filter\",e,this.options),!!e.match(l[u.COMPARATORLOOSE]))))),a(\"range list\",v);const f=new Map,m=v.map((e=>new s(e,this.options)));for(const e of m){if(y(e))return[e];f.set(e.value,e)}f.size>1&&f.has(\"\")&&f.delete(\"\");const S=[...f.values()];return i.set(r,S),S}intersects(e,t){if(!(e instanceof n))throw new TypeError(\"a Range is required\");return this.set.some((r=>f(r,t)&&e.set.some((e=>f(e,t)&&r.every((r=>e.every((e=>r.intersects(e,t)))))))))}test(e){if(!e)return!1;if(\"string\"==typeof e)try{e=new c(e,this.options)}catch(e){return!1}for(let t=0;t<this.set.length;t++)if(A(this.set[t],e,this.options))return!0;return!1}}e.exports=n;const i=new(r(65980))({max:1e3}),o=r(2102),s=r(962),a=r(91738),c=r(48457),{re:l,t:u,comparatorTrimReplace:d,tildeTrimReplace:p,caretTrimReplace:h}=r(13857),y=e=>\"<0.0.0-0\"===e.value,v=e=>\"\"===e.value,f=(e,t)=>{let r=!0;const n=e.slice();let i=n.pop();for(;r&&n.length;)r=n.every((e=>i.intersects(e,t))),i=n.pop();return r},g=(e,t)=>(a(\"comp\",e,t),e=P(e,t),a(\"caret\",e),e=S(e,t),a(\"tildes\",e),e=w(e,t),a(\"xrange\",e),e=O(e,t),a(\"stars\",e),e),m=e=>!e||\"x\"===e.toLowerCase()||\"*\"===e,S=(e,t)=>e.trim().split(/\\s+/).map((e=>b(e,t))).join(\" \"),b=(e,t)=>{const r=t.loose?l[u.TILDELOOSE]:l[u.TILDE];return e.replace(r,((t,r,n,i,o)=>{let s;return a(\"tilde\",e,t,r,n,i,o),m(r)?s=\"\":m(n)?s=\">=\".concat(r,\".0.0 <\").concat(+r+1,\".0.0-0\"):m(i)?s=\">=\".concat(r,\".\").concat(n,\".0 <\").concat(r,\".\").concat(+n+1,\".0-0\"):o?(a(\"replaceTilde pr\",o),s=\">=\".concat(r,\".\").concat(n,\".\").concat(i,\"-\").concat(o,\" <\").concat(r,\".\").concat(+n+1,\".0-0\")):s=\">=\".concat(r,\".\").concat(n,\".\").concat(i,\" <\").concat(r,\".\").concat(+n+1,\".0-0\"),a(\"tilde return\",s),s}))},P=(e,t)=>e.trim().split(/\\s+/).map((e=>_(e,t))).join(\" \"),_=(e,t)=>{a(\"caret\",e,t);const r=t.loose?l[u.CARETLOOSE]:l[u.CARET],n=t.includePrerelease?\"-0\":\"\";return e.replace(r,((t,r,i,o,s)=>{let c;return a(\"caret\",e,t,r,i,o,s),m(r)?c=\"\":m(i)?c=\">=\".concat(r,\".0.0\").concat(n,\" <\").concat(+r+1,\".0.0-0\"):m(o)?c=\"0\"===r?\">=\".concat(r,\".\").concat(i,\".0\").concat(n,\" <\").concat(r,\".\").concat(+i+1,\".0-0\"):\">=\".concat(r,\".\").concat(i,\".0\").concat(n,\" <\").concat(+r+1,\".0.0-0\"):s?(a(\"replaceCaret pr\",s),c=\"0\"===r?\"0\"===i?\">=\".concat(r,\".\").concat(i,\".\").concat(o,\"-\").concat(s,\" <\").concat(r,\".\").concat(i,\".\").concat(+o+1,\"-0\"):\">=\".concat(r,\".\").concat(i,\".\").concat(o,\"-\").concat(s,\" <\").concat(r,\".\").concat(+i+1,\".0-0\"):\">=\".concat(r,\".\").concat(i,\".\").concat(o,\"-\").concat(s,\" <\").concat(+r+1,\".0.0-0\")):(a(\"no pr\"),c=\"0\"===r?\"0\"===i?\">=\".concat(r,\".\").concat(i,\".\").concat(o).concat(n,\" <\").concat(r,\".\").concat(i,\".\").concat(+o+1,\"-0\"):\">=\".concat(r,\".\").concat(i,\".\").concat(o).concat(n,\" <\").concat(r,\".\").concat(+i+1,\".0-0\"):\">=\".concat(r,\".\").concat(i,\".\").concat(o,\" <\").concat(+r+1,\".0.0-0\")),a(\"caret return\",c),c}))},w=(e,t)=>(a(\"replaceXRanges\",e,t),e.split(/\\s+/).map((e=>E(e,t))).join(\" \")),E=(e,t)=>{e=e.trim();const r=t.loose?l[u.XRANGELOOSE]:l[u.XRANGE];return e.replace(r,((r,n,i,o,s,c)=>{a(\"xRange\",e,r,n,i,o,s,c);const l=m(i),u=l||m(o),d=u||m(s),p=d;return\"=\"===n&&p&&(n=\"\"),c=t.includePrerelease?\"-0\":\"\",l?r=\">\"===n||\"<\"===n?\"<0.0.0-0\":\"*\":n&&p?(u&&(o=0),s=0,\">\"===n?(n=\">=\",u?(i=+i+1,o=0,s=0):(o=+o+1,s=0)):\"<=\"===n&&(n=\"<\",u?i=+i+1:o=+o+1),\"<\"===n&&(c=\"-0\"),r=\"\".concat(n+i,\".\").concat(o,\".\").concat(s).concat(c)):u?r=\">=\".concat(i,\".0.0\").concat(c,\" <\").concat(+i+1,\".0.0-0\"):d&&(r=\">=\".concat(i,\".\").concat(o,\".0\").concat(c,\" <\").concat(i,\".\").concat(+o+1,\".0-0\")),a(\"xRange return\",r),r}))},O=(e,t)=>(a(\"replaceStars\",e,t),e.trim().replace(l[u.STAR],\"\")),I=(e,t)=>(a(\"replaceGTE0\",e,t),e.trim().replace(l[t.includePrerelease?u.GTE0PRE:u.GTE0],\"\")),C=e=>(t,r,n,i,o,s,a,c,l,u,d,p,h)=>(r=m(n)?\"\":m(i)?\">=\".concat(n,\".0.0\").concat(e?\"-0\":\"\"):m(o)?\">=\".concat(n,\".\").concat(i,\".0\").concat(e?\"-0\":\"\"):s?\">=\".concat(r):\">=\".concat(r).concat(e?\"-0\":\"\"),c=m(l)?\"\":m(u)?\"<\".concat(+l+1,\".0.0-0\"):m(d)?\"<\".concat(l,\".\").concat(+u+1,\".0-0\"):p?\"<=\".concat(l,\".\").concat(u,\".\").concat(d,\"-\").concat(p):e?\"<\".concat(l,\".\").concat(u,\".\").concat(+d+1,\"-0\"):\"<=\".concat(c),\"\".concat(r,\" \").concat(c).trim()),A=(e,t,r)=>{for(let r=0;r<e.length;r++)if(!e[r].test(t))return!1;if(t.prerelease.length&&!r.includePrerelease){for(let r=0;r<e.length;r++)if(a(e[r].semver),e[r].semver!==s.ANY&&e[r].semver.prerelease.length>0){const n=e[r].semver;if(n.major===t.major&&n.minor===t.minor&&n.patch===t.patch)return!0}return!1}return!0}},48457:(e,t,r)=>{const n=r(91738),{MAX_LENGTH:i,MAX_SAFE_INTEGER:o}=r(43845),{re:s,t:a}=r(13857),c=r(2102),{compareIdentifiers:l}=r(42024);class u{constructor(e,t){if(t=c(t),e instanceof u){if(e.loose===!!t.loose&&e.includePrerelease===!!t.includePrerelease)return e;e=e.version}else if(\"string\"!=typeof e)throw new TypeError(\"Invalid Version: \".concat(e));if(e.length>i)throw new TypeError(\"version is longer than \".concat(i,\" characters\"));n(\"SemVer\",e,t),this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease;const r=e.trim().match(t.loose?s[a.LOOSE]:s[a.FULL]);if(!r)throw new TypeError(\"Invalid Version: \".concat(e));if(this.raw=e,this.major=+r[1],this.minor=+r[2],this.patch=+r[3],this.major>o||this.major<0)throw new TypeError(\"Invalid major version\");if(this.minor>o||this.minor<0)throw new TypeError(\"Invalid minor version\");if(this.patch>o||this.patch<0)throw new TypeError(\"Invalid patch version\");r[4]?this.prerelease=r[4].split(\".\").map((e=>{if(/^[0-9]+$/.test(e)){const t=+e;if(t>=0&&t<o)return t}return e})):this.prerelease=[],this.build=r[5]?r[5].split(\".\"):[],this.format()}format(){return this.version=\"\".concat(this.major,\".\").concat(this.minor,\".\").concat(this.patch),this.prerelease.length&&(this.version+=\"-\".concat(this.prerelease.join(\".\"))),this.version}toString(){return this.version}compare(e){if(n(\"SemVer.compare\",this.version,this.options,e),!(e instanceof u)){if(\"string\"==typeof e&&e===this.version)return 0;e=new u(e,this.options)}return e.version===this.version?0:this.compareMain(e)||this.comparePre(e)}compareMain(e){return e instanceof u||(e=new u(e,this.options)),l(this.major,e.major)||l(this.minor,e.minor)||l(this.patch,e.patch)}comparePre(e){if(e instanceof u||(e=new u(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;let t=0;do{const r=this.prerelease[t],i=e.prerelease[t];if(n(\"prerelease compare\",t,r,i),void 0===r&&void 0===i)return 0;if(void 0===i)return 1;if(void 0===r)return-1;if(r!==i)return l(r,i)}while(++t)}compareBuild(e){e instanceof u||(e=new u(e,this.options));let t=0;do{const r=this.build[t],i=e.build[t];if(n(\"prerelease compare\",t,r,i),void 0===r&&void 0===i)return 0;if(void 0===i)return 1;if(void 0===r)return-1;if(r!==i)return l(r,i)}while(++t)}inc(e,t){switch(e){case\"premajor\":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc(\"pre\",t);break;case\"preminor\":this.prerelease.length=0,this.patch=0,this.minor++,this.inc(\"pre\",t);break;case\"prepatch\":this.prerelease.length=0,this.inc(\"patch\",t),this.inc(\"pre\",t);break;case\"prerelease\":0===this.prerelease.length&&this.inc(\"patch\",t),this.inc(\"pre\",t);break;case\"major\":0===this.minor&&0===this.patch&&0!==this.prerelease.length||this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case\"minor\":0===this.patch&&0!==this.prerelease.length||this.minor++,this.patch=0,this.prerelease=[];break;case\"patch\":0===this.prerelease.length&&this.patch++,this.prerelease=[];break;case\"pre\":if(0===this.prerelease.length)this.prerelease=[0];else{let e=this.prerelease.length;for(;--e>=0;)\"number\"==typeof this.prerelease[e]&&(this.prerelease[e]++,e=-2);-1===e&&this.prerelease.push(0)}t&&(0===l(this.prerelease[0],t)?isNaN(this.prerelease[1])&&(this.prerelease=[t,0]):this.prerelease=[t,0]);break;default:throw new Error(\"invalid increment argument: \".concat(e))}return this.format(),this.raw=this.version,this}}e.exports=u},83737:(e,t,r)=>{const n=r(86797);e.exports=(e,t)=>{const r=n(e.trim().replace(/^[=v]+/,\"\"),t);return r?r.version:null}},47753:(e,t,r)=>{const n=r(35115),i=r(10432),o=r(21260),s=r(16902),a=r(39154),c=r(65555);e.exports=(e,t,r,l)=>{switch(t){case\"===\":return\"object\"==typeof e&&(e=e.version),\"object\"==typeof r&&(r=r.version),e===r;case\"!==\":return\"object\"==typeof e&&(e=e.version),\"object\"==typeof r&&(r=r.version),e!==r;case\"\":case\"=\":case\"==\":return n(e,r,l);case\"!=\":return i(e,r,l);case\">\":return o(e,r,l);case\">=\":return s(e,r,l);case\"<\":return a(e,r,l);case\"<=\":return c(e,r,l);default:throw new TypeError(\"Invalid operator: \".concat(t))}}},87304:(e,t,r)=>{const n=r(48457),i=r(86797),{re:o,t:s}=r(13857);e.exports=(e,t)=>{if(e instanceof n)return e;if(\"number\"==typeof e&&(e=String(e)),\"string\"!=typeof e)return null;let r=null;if((t=t||{}).rtl){let t;for(;(t=o[s.COERCERTL].exec(e))&&(!r||r.index+r[0].length!==e.length);)r&&t.index+t[0].length===r.index+r[0].length||(r=t),o[s.COERCERTL].lastIndex=t.index+t[1].length+t[2].length;o[s.COERCERTL].lastIndex=-1}else r=e.match(o[s.COERCE]);return null===r?null:i(\"\".concat(r[2],\".\").concat(r[3]||\"0\",\".\").concat(r[4]||\"0\"),t)}},52814:(e,t,r)=>{const n=r(48457);e.exports=(e,t,r)=>{const i=new n(e,r),o=new n(t,r);return i.compare(o)||i.compareBuild(o)}},40315:(e,t,r)=>{const n=r(79496);e.exports=(e,t)=>n(e,t,!0)},79496:(e,t,r)=>{const n=r(48457);e.exports=(e,t,r)=>new n(e,r).compare(new n(t,r))},31813:(e,t,r)=>{const n=r(86797),i=r(35115);e.exports=(e,t)=>{if(i(e,t))return null;{const r=n(e),i=n(t),o=r.prerelease.length||i.prerelease.length,s=o?\"pre\":\"\",a=o?\"prerelease\":\"\";for(const e in r)if((\"major\"===e||\"minor\"===e||\"patch\"===e)&&r[e]!==i[e])return s+e;return a}}},35115:(e,t,r)=>{const n=r(79496);e.exports=(e,t,r)=>0===n(e,t,r)},21260:(e,t,r)=>{const n=r(79496);e.exports=(e,t,r)=>n(e,t,r)>0},16902:(e,t,r)=>{const n=r(79496);e.exports=(e,t,r)=>n(e,t,r)>=0},79098:(e,t,r)=>{const n=r(48457);e.exports=(e,t,r,i)=>{\"string\"==typeof r&&(i=r,r=void 0);try{return new n(e instanceof n?e.version:e,r).inc(t,i).version}catch(e){return null}}},39154:(e,t,r)=>{const n=r(79496);e.exports=(e,t,r)=>n(e,t,r)<0},65555:(e,t,r)=>{const n=r(79496);e.exports=(e,t,r)=>n(e,t,r)<=0},91741:(e,t,r)=>{const n=r(48457);e.exports=(e,t)=>new n(e,t).major},62458:(e,t,r)=>{const n=r(48457);e.exports=(e,t)=>new n(e,t).minor},10432:(e,t,r)=>{const n=r(79496);e.exports=(e,t,r)=>0!==n(e,t,r)},86797:(e,t,r)=>{const{MAX_LENGTH:n}=r(43845),{re:i,t:o}=r(13857),s=r(48457),a=r(2102);e.exports=(e,t)=>{if(t=a(t),e instanceof s)return e;if(\"string\"!=typeof e)return null;if(e.length>n)return null;if(!(t.loose?i[o.LOOSE]:i[o.FULL]).test(e))return null;try{return new s(e,t)}catch(e){return null}}},50155:(e,t,r)=>{const n=r(48457);e.exports=(e,t)=>new n(e,t).patch},88243:(e,t,r)=>{const n=r(86797);e.exports=(e,t)=>{const r=n(e,t);return r&&r.prerelease.length?r.prerelease:null}},41383:(e,t,r)=>{const n=r(79496);e.exports=(e,t,r)=>n(t,e,r)},69664:(e,t,r)=>{const n=r(52814);e.exports=(e,t)=>e.sort(((e,r)=>n(r,e,t)))},35097:(e,t,r)=>{const n=r(84239);e.exports=(e,t,r)=>{try{t=new n(t,r)}catch(e){return!1}return t.test(e)}},66585:(e,t,r)=>{const n=r(52814);e.exports=(e,t)=>e.sort(((e,r)=>n(e,r,t)))},71294:(e,t,r)=>{const n=r(86797);e.exports=(e,t)=>{const r=n(e,t);return r?r.version:null}},21503:(e,t,r)=>{const n=r(13857),i=r(43845),o=r(48457),s=r(42024),a=r(86797),c=r(71294),l=r(83737),u=r(79098),d=r(31813),p=r(91741),h=r(62458),y=r(50155),v=r(88243),f=r(79496),g=r(41383),m=r(40315),S=r(52814),b=r(66585),P=r(69664),_=r(21260),w=r(39154),E=r(35115),O=r(10432),I=r(16902),C=r(65555),A=r(47753),M=r(87304),D=r(962),T=r(84239),R=r(35097),k=r(39938),N=r(35841),F=r(98719),j=r(68664),K=r(85036),x=r(52614),L=r(65829),U=r(41937),V=r(90744),B=r(96559),W=r(45307);e.exports={parse:a,valid:c,clean:l,inc:u,diff:d,major:p,minor:h,patch:y,prerelease:v,compare:f,rcompare:g,compareLoose:m,compareBuild:S,sort:b,rsort:P,gt:_,lt:w,eq:E,neq:O,gte:I,lte:C,cmp:A,coerce:M,Comparator:D,Range:T,satisfies:R,toComparators:k,maxSatisfying:N,minSatisfying:F,minVersion:j,validRange:K,outside:x,gtr:L,ltr:U,intersects:V,simplifyRange:B,subset:W,SemVer:o,re:n.re,src:n.src,tokens:n.t,SEMVER_SPEC_VERSION:i.SEMVER_SPEC_VERSION,compareIdentifiers:s.compareIdentifiers,rcompareIdentifiers:s.rcompareIdentifiers}},43845:e=>{const t=Number.MAX_SAFE_INTEGER||9007199254740991;e.exports={SEMVER_SPEC_VERSION:\"2.0.0\",MAX_LENGTH:256,MAX_SAFE_INTEGER:t,MAX_SAFE_COMPONENT_LENGTH:16}},91738:e=>{const t=\"object\"==typeof process&&process.env&&process.env.NODE_DEBUG&&/\\bsemver\\b/i.test(process.env.NODE_DEBUG)?function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return console.error(\"SEMVER\",...t)}:()=>{};e.exports=t},42024:e=>{const t=/^[0-9]+$/,r=(e,r)=>{const n=t.test(e),i=t.test(r);return n&&i&&(e=+e,r=+r),e===r?0:n&&!i?-1:i&&!n?1:e<r?-1:1};e.exports={compareIdentifiers:r,rcompareIdentifiers:(e,t)=>r(t,e)}},2102:e=>{const t=[\"includePrerelease\",\"loose\",\"rtl\"];e.exports=e=>e?\"object\"!=typeof e?{loose:!0}:t.filter((t=>e[t])).reduce(((e,t)=>(e[t]=!0,e)),{}):{}},13857:(e,t,r)=>{const{MAX_SAFE_COMPONENT_LENGTH:n}=r(43845),i=r(91738),o=(t=e.exports={}).re=[],s=t.src=[],a=t.t={};let c=0;const l=(e,t,r)=>{const n=c++;i(e,n,t),a[e]=n,s[n]=t,o[n]=new RegExp(t,r?\"g\":void 0)};l(\"NUMERICIDENTIFIER\",\"0|[1-9]\\\\d*\"),l(\"NUMERICIDENTIFIERLOOSE\",\"[0-9]+\"),l(\"NONNUMERICIDENTIFIER\",\"\\\\d*[a-zA-Z-][a-zA-Z0-9-]*\"),l(\"MAINVERSION\",\"(\".concat(s[a.NUMERICIDENTIFIER],\")\\\\.\")+\"(\".concat(s[a.NUMERICIDENTIFIER],\")\\\\.\")+\"(\".concat(s[a.NUMERICIDENTIFIER],\")\")),l(\"MAINVERSIONLOOSE\",\"(\".concat(s[a.NUMERICIDENTIFIERLOOSE],\")\\\\.\")+\"(\".concat(s[a.NUMERICIDENTIFIERLOOSE],\")\\\\.\")+\"(\".concat(s[a.NUMERICIDENTIFIERLOOSE],\")\")),l(\"PRERELEASEIDENTIFIER\",\"(?:\".concat(s[a.NUMERICIDENTIFIER],\"|\").concat(s[a.NONNUMERICIDENTIFIER],\")\")),l(\"PRERELEASEIDENTIFIERLOOSE\",\"(?:\".concat(s[a.NUMERICIDENTIFIERLOOSE],\"|\").concat(s[a.NONNUMERICIDENTIFIER],\")\")),l(\"PRERELEASE\",\"(?:-(\".concat(s[a.PRERELEASEIDENTIFIER],\"(?:\\\\.\").concat(s[a.PRERELEASEIDENTIFIER],\")*))\")),l(\"PRERELEASELOOSE\",\"(?:-?(\".concat(s[a.PRERELEASEIDENTIFIERLOOSE],\"(?:\\\\.\").concat(s[a.PRERELEASEIDENTIFIERLOOSE],\")*))\")),l(\"BUILDIDENTIFIER\",\"[0-9A-Za-z-]+\"),l(\"BUILD\",\"(?:\\\\+(\".concat(s[a.BUILDIDENTIFIER],\"(?:\\\\.\").concat(s[a.BUILDIDENTIFIER],\")*))\")),l(\"FULLPLAIN\",\"v?\".concat(s[a.MAINVERSION]).concat(s[a.PRERELEASE],\"?\").concat(s[a.BUILD],\"?\")),l(\"FULL\",\"^\".concat(s[a.FULLPLAIN],\"$\")),l(\"LOOSEPLAIN\",\"[v=\\\\s]*\".concat(s[a.MAINVERSIONLOOSE]).concat(s[a.PRERELEASELOOSE],\"?\").concat(s[a.BUILD],\"?\")),l(\"LOOSE\",\"^\".concat(s[a.LOOSEPLAIN],\"$\")),l(\"GTLT\",\"((?:<|>)?=?)\"),l(\"XRANGEIDENTIFIERLOOSE\",\"\".concat(s[a.NUMERICIDENTIFIERLOOSE],\"|x|X|\\\\*\")),l(\"XRANGEIDENTIFIER\",\"\".concat(s[a.NUMERICIDENTIFIER],\"|x|X|\\\\*\")),l(\"XRANGEPLAIN\",\"[v=\\\\s]*(\".concat(s[a.XRANGEIDENTIFIER],\")\")+\"(?:\\\\.(\".concat(s[a.XRANGEIDENTIFIER],\")\")+\"(?:\\\\.(\".concat(s[a.XRANGEIDENTIFIER],\")\")+\"(?:\".concat(s[a.PRERELEASE],\")?\").concat(s[a.BUILD],\"?\")+\")?)?\"),l(\"XRANGEPLAINLOOSE\",\"[v=\\\\s]*(\".concat(s[a.XRANGEIDENTIFIERLOOSE],\")\")+\"(?:\\\\.(\".concat(s[a.XRANGEIDENTIFIERLOOSE],\")\")+\"(?:\\\\.(\".concat(s[a.XRANGEIDENTIFIERLOOSE],\")\")+\"(?:\".concat(s[a.PRERELEASELOOSE],\")?\").concat(s[a.BUILD],\"?\")+\")?)?\"),l(\"XRANGE\",\"^\".concat(s[a.GTLT],\"\\\\s*\").concat(s[a.XRANGEPLAIN],\"$\")),l(\"XRANGELOOSE\",\"^\".concat(s[a.GTLT],\"\\\\s*\").concat(s[a.XRANGEPLAINLOOSE],\"$\")),l(\"COERCE\",\"\".concat(\"(^|[^\\\\d])(\\\\d{1,\").concat(n,\"})\")+\"(?:\\\\.(\\\\d{1,\".concat(n,\"}))?\")+\"(?:\\\\.(\\\\d{1,\".concat(n,\"}))?\")+\"(?:$|[^\\\\d])\"),l(\"COERCERTL\",s[a.COERCE],!0),l(\"LONETILDE\",\"(?:~>?)\"),l(\"TILDETRIM\",\"(\\\\s*)\".concat(s[a.LONETILDE],\"\\\\s+\"),!0),t.tildeTrimReplace=\"$1~\",l(\"TILDE\",\"^\".concat(s[a.LONETILDE]).concat(s[a.XRANGEPLAIN],\"$\")),l(\"TILDELOOSE\",\"^\".concat(s[a.LONETILDE]).concat(s[a.XRANGEPLAINLOOSE],\"$\")),l(\"LONECARET\",\"(?:\\\\^)\"),l(\"CARETTRIM\",\"(\\\\s*)\".concat(s[a.LONECARET],\"\\\\s+\"),!0),t.caretTrimReplace=\"$1^\",l(\"CARET\",\"^\".concat(s[a.LONECARET]).concat(s[a.XRANGEPLAIN],\"$\")),l(\"CARETLOOSE\",\"^\".concat(s[a.LONECARET]).concat(s[a.XRANGEPLAINLOOSE],\"$\")),l(\"COMPARATORLOOSE\",\"^\".concat(s[a.GTLT],\"\\\\s*(\").concat(s[a.LOOSEPLAIN],\")$|^$\")),l(\"COMPARATOR\",\"^\".concat(s[a.GTLT],\"\\\\s*(\").concat(s[a.FULLPLAIN],\")$|^$\")),l(\"COMPARATORTRIM\",\"(\\\\s*)\".concat(s[a.GTLT],\"\\\\s*(\").concat(s[a.LOOSEPLAIN],\"|\").concat(s[a.XRANGEPLAIN],\")\"),!0),t.comparatorTrimReplace=\"$1$2$3\",l(\"HYPHENRANGE\",\"^\\\\s*(\".concat(s[a.XRANGEPLAIN],\")\")+\"\\\\s+-\\\\s+\"+\"(\".concat(s[a.XRANGEPLAIN],\")\")+\"\\\\s*$\"),l(\"HYPHENRANGELOOSE\",\"^\\\\s*(\".concat(s[a.XRANGEPLAINLOOSE],\")\")+\"\\\\s+-\\\\s+\"+\"(\".concat(s[a.XRANGEPLAINLOOSE],\")\")+\"\\\\s*$\"),l(\"STAR\",\"(<|>)?=?\\\\s*\\\\*\"),l(\"GTE0\",\"^\\\\s*>=\\\\s*0\\\\.0\\\\.0\\\\s*$\"),l(\"GTE0PRE\",\"^\\\\s*>=\\\\s*0\\\\.0\\\\.0-0\\\\s*$\")},65980:(e,t,r)=>{const n=r(26493),i=Symbol(\"max\"),o=Symbol(\"length\"),s=Symbol(\"lengthCalculator\"),a=Symbol(\"allowStale\"),c=Symbol(\"maxAge\"),l=Symbol(\"dispose\"),u=Symbol(\"noDisposeOnSet\"),d=Symbol(\"lruList\"),p=Symbol(\"cache\"),h=Symbol(\"updateAgeOnGet\"),y=()=>1,v=(e,t,r)=>{const n=e[p].get(t);if(n){const t=n.value;if(f(e,t)){if(m(e,n),!e[a])return}else r&&(e[h]&&(n.value.now=Date.now()),e[d].unshiftNode(n));return t.value}},f=(e,t)=>{if(!t||!t.maxAge&&!e[c])return!1;const r=Date.now()-t.now;return t.maxAge?r>t.maxAge:e[c]&&r>e[c]},g=e=>{if(e[o]>e[i])for(let t=e[d].tail;e[o]>e[i]&&null!==t;){const r=t.prev;m(e,t),t=r}},m=(e,t)=>{if(t){const r=t.value;e[l]&&e[l](r.key,r.value),e[o]-=r.length,e[p].delete(r.key),e[d].removeNode(t)}};class S{constructor(e,t,r,n,i){this.key=e,this.value=t,this.length=r,this.now=n,this.maxAge=i||0}}const b=(e,t,r,n)=>{let i=r.value;f(e,i)&&(m(e,r),e[a]||(i=void 0)),i&&t.call(n,i.value,i.key,e)};e.exports=class{constructor(e){if(\"number\"==typeof e&&(e={max:e}),e||(e={}),e.max&&(\"number\"!=typeof e.max||e.max<0))throw new TypeError(\"max must be a non-negative number\");this[i]=e.max||1/0;const t=e.length||y;if(this[s]=\"function\"!=typeof t?y:t,this[a]=e.stale||!1,e.maxAge&&\"number\"!=typeof e.maxAge)throw new TypeError(\"maxAge must be a number\");this[c]=e.maxAge||0,this[l]=e.dispose,this[u]=e.noDisposeOnSet||!1,this[h]=e.updateAgeOnGet||!1,this.reset()}set max(e){if(\"number\"!=typeof e||e<0)throw new TypeError(\"max must be a non-negative number\");this[i]=e||1/0,g(this)}get max(){return this[i]}set allowStale(e){this[a]=!!e}get allowStale(){return this[a]}set maxAge(e){if(\"number\"!=typeof e)throw new TypeError(\"maxAge must be a non-negative number\");this[c]=e,g(this)}get maxAge(){return this[c]}set lengthCalculator(e){\"function\"!=typeof e&&(e=y),e!==this[s]&&(this[s]=e,this[o]=0,this[d].forEach((e=>{e.length=this[s](e.value,e.key),this[o]+=e.length}))),g(this)}get lengthCalculator(){return this[s]}get length(){return this[o]}get itemCount(){return this[d].length}rforEach(e,t){t=t||this;for(let r=this[d].tail;null!==r;){const n=r.prev;b(this,e,r,t),r=n}}forEach(e,t){t=t||this;for(let r=this[d].head;null!==r;){const n=r.next;b(this,e,r,t),r=n}}keys(){return this[d].toArray().map((e=>e.key))}values(){return this[d].toArray().map((e=>e.value))}reset(){this[l]&&this[d]&&this[d].length&&this[d].forEach((e=>this[l](e.key,e.value))),this[p]=new Map,this[d]=new n,this[o]=0}dump(){return this[d].map((e=>!f(this,e)&&{k:e.key,v:e.value,e:e.now+(e.maxAge||0)})).toArray().filter((e=>e))}dumpLru(){return this[d]}set(e,t,r){if((r=r||this[c])&&\"number\"!=typeof r)throw new TypeError(\"maxAge must be a number\");const n=r?Date.now():0,a=this[s](t,e);if(this[p].has(e)){if(a>this[i])return m(this,this[p].get(e)),!1;const s=this[p].get(e).value;return this[l]&&(this[u]||this[l](e,s.value)),s.now=n,s.maxAge=r,s.value=t,this[o]+=a-s.length,s.length=a,this.get(e),g(this),!0}const h=new S(e,t,a,n,r);return h.length>this[i]?(this[l]&&this[l](e,t),!1):(this[o]+=h.length,this[d].unshift(h),this[p].set(e,this[d].head),g(this),!0)}has(e){if(!this[p].has(e))return!1;const t=this[p].get(e).value;return!f(this,t)}get(e){return v(this,e,!0)}peek(e){return v(this,e,!1)}pop(){const e=this[d].tail;return e?(m(this,e),e.value):null}del(e){m(this,this[p].get(e))}load(e){this.reset();const t=Date.now();for(let r=e.length-1;r>=0;r--){const n=e[r],i=n.e||0;if(0===i)this.set(n.k,n.v);else{const e=i-t;e>0&&this.set(n.k,n.v,e)}}}prune(){this[p].forEach(((e,t)=>v(this,t,!1)))}}},65829:(e,t,r)=>{const n=r(52614);e.exports=(e,t,r)=>n(e,t,\">\",r)},90744:(e,t,r)=>{const n=r(84239);e.exports=(e,t,r)=>(e=new n(e,r),t=new n(t,r),e.intersects(t))},41937:(e,t,r)=>{const n=r(52614);e.exports=(e,t,r)=>n(e,t,\"<\",r)},35841:(e,t,r)=>{const n=r(48457),i=r(84239);e.exports=(e,t,r)=>{let o=null,s=null,a=null;try{a=new i(t,r)}catch(e){return null}return e.forEach((e=>{a.test(e)&&(o&&-1!==s.compare(e)||(o=e,s=new n(o,r)))})),o}},98719:(e,t,r)=>{const n=r(48457),i=r(84239);e.exports=(e,t,r)=>{let o=null,s=null,a=null;try{a=new i(t,r)}catch(e){return null}return e.forEach((e=>{a.test(e)&&(o&&1!==s.compare(e)||(o=e,s=new n(o,r)))})),o}},68664:(e,t,r)=>{const n=r(48457),i=r(84239),o=r(21260);e.exports=(e,t)=>{e=new i(e,t);let r=new n(\"0.0.0\");if(e.test(r))return r;if(r=new n(\"0.0.0-0\"),e.test(r))return r;r=null;for(let t=0;t<e.set.length;++t){const i=e.set[t];let s=null;i.forEach((e=>{const t=new n(e.semver.version);switch(e.operator){case\">\":0===t.prerelease.length?t.patch++:t.prerelease.push(0),t.raw=t.format();case\"\":case\">=\":s&&!o(t,s)||(s=t);break;case\"<\":case\"<=\":break;default:throw new Error(\"Unexpected operation: \".concat(e.operator))}})),!s||r&&!o(r,s)||(r=s)}return r&&e.test(r)?r:null}},52614:(e,t,r)=>{const n=r(48457),i=r(962),{ANY:o}=i,s=r(84239),a=r(35097),c=r(21260),l=r(39154),u=r(65555),d=r(16902);e.exports=(e,t,r,p)=>{let h,y,v,f,g;switch(e=new n(e,p),t=new s(t,p),r){case\">\":h=c,y=u,v=l,f=\">\",g=\">=\";break;case\"<\":h=l,y=d,v=c,f=\"<\",g=\"<=\";break;default:throw new TypeError('Must provide a hilo val of \"<\" or \">\"')}if(a(e,t,p))return!1;for(let r=0;r<t.set.length;++r){const n=t.set[r];let s=null,a=null;if(n.forEach((e=>{e.semver===o&&(e=new i(\">=0.0.0\")),s=s||e,a=a||e,h(e.semver,s.semver,p)?s=e:v(e.semver,a.semver,p)&&(a=e)})),s.operator===f||s.operator===g)return!1;if((!a.operator||a.operator===f)&&y(e,a.semver))return!1;if(a.operator===g&&v(e,a.semver))return!1}return!0}},96559:(e,t,r)=>{const n=r(35097),i=r(79496);e.exports=(e,t,r)=>{const o=[];let s=null,a=null;const c=e.sort(((e,t)=>i(e,t,r)));for(const e of c)n(e,t,r)?(a=e,s||(s=e)):(a&&o.push([s,a]),a=null,s=null);s&&o.push([s,null]);const l=[];for(const[e,t]of o)e===t?l.push(e):t||e!==c[0]?t?e===c[0]?l.push(\"<=\".concat(t)):l.push(\"\".concat(e,\" - \").concat(t)):l.push(\">=\".concat(e)):l.push(\"*\");const u=l.join(\" || \"),d=\"string\"==typeof t.raw?t.raw:String(t);return u.length<d.length?u:t}},45307:(e,t,r)=>{const n=r(84239),i=r(962),{ANY:o}=i,s=r(35097),a=r(79496),c=(e,t,r)=>{if(e===t)return!0;if(1===e.length&&e[0].semver===o){if(1===t.length&&t[0].semver===o)return!0;e=r.includePrerelease?[new i(\">=0.0.0-0\")]:[new i(\">=0.0.0\")]}if(1===t.length&&t[0].semver===o){if(r.includePrerelease)return!0;t=[new i(\">=0.0.0\")]}const n=new Set;let c,d,p,h,y,v,f;for(const t of e)\">\"===t.operator||\">=\"===t.operator?c=l(c,t,r):\"<\"===t.operator||\"<=\"===t.operator?d=u(d,t,r):n.add(t.semver);if(n.size>1)return null;if(c&&d){if(p=a(c.semver,d.semver,r),p>0)return null;if(0===p&&(\">=\"!==c.operator||\"<=\"!==d.operator))return null}for(const e of n){if(c&&!s(e,String(c),r))return null;if(d&&!s(e,String(d),r))return null;for(const n of t)if(!s(e,String(n),r))return!1;return!0}let g=!(!d||r.includePrerelease||!d.semver.prerelease.length)&&d.semver,m=!(!c||r.includePrerelease||!c.semver.prerelease.length)&&c.semver;g&&1===g.prerelease.length&&\"<\"===d.operator&&0===g.prerelease[0]&&(g=!1);for(const e of t){if(f=f||\">\"===e.operator||\">=\"===e.operator,v=v||\"<\"===e.operator||\"<=\"===e.operator,c)if(m&&e.semver.prerelease&&e.semver.prerelease.length&&e.semver.major===m.major&&e.semver.minor===m.minor&&e.semver.patch===m.patch&&(m=!1),\">\"===e.operator||\">=\"===e.operator){if(h=l(c,e,r),h===e&&h!==c)return!1}else if(\">=\"===c.operator&&!s(c.semver,String(e),r))return!1;if(d)if(g&&e.semver.prerelease&&e.semver.prerelease.length&&e.semver.major===g.major&&e.semver.minor===g.minor&&e.semver.patch===g.patch&&(g=!1),\"<\"===e.operator||\"<=\"===e.operator){if(y=u(d,e,r),y===e&&y!==d)return!1}else if(\"<=\"===d.operator&&!s(d.semver,String(e),r))return!1;if(!e.operator&&(d||c)&&0!==p)return!1}return!(c&&v&&!d&&0!==p||d&&f&&!c&&0!==p||m||g)},l=(e,t,r)=>{if(!e)return t;const n=a(e.semver,t.semver,r);return n>0?e:n<0||\">\"===t.operator&&\">=\"===e.operator?t:e},u=(e,t,r)=>{if(!e)return t;const n=a(e.semver,t.semver,r);return n<0?e:n>0||\"<\"===t.operator&&\"<=\"===e.operator?t:e};e.exports=function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(e===t)return!0;e=new n(e,r),t=new n(t,r);let i=!1;e:for(const n of e.set){for(const e of t.set){const t=c(n,e,r);if(i=i||null!==t,t)continue e}if(i)return!1}return!0}},39938:(e,t,r)=>{const n=r(84239);e.exports=(e,t)=>new n(e,t).set.map((e=>e.map((e=>e.value)).join(\" \").trim().split(\" \")))},85036:(e,t,r)=>{const n=r(84239);e.exports=(e,t)=>{try{return new n(e,t).range||\"*\"}catch(e){return null}}},10784:e=>{e.exports=function(e){e.prototype[Symbol.iterator]=function*(){for(let e=this.head;e;e=e.next)yield e.value}}},26493:(e,t,r)=>{function n(e){var t=this;if(t instanceof n||(t=new n),t.tail=null,t.head=null,t.length=0,e&&\"function\"==typeof e.forEach)e.forEach((function(e){t.push(e)}));else if(arguments.length>0)for(var r=0,i=arguments.length;r<i;r++)t.push(arguments[r]);return t}function i(e,t,r){var n=t===e.head?new a(r,null,t,e):new a(r,t,t.next,e);return null===n.next&&(e.tail=n),null===n.prev&&(e.head=n),e.length++,n}function o(e,t){e.tail=new a(t,e.tail,null,e),e.head||(e.head=e.tail),e.length++}function s(e,t){e.head=new a(t,null,e.head,e),e.tail||(e.tail=e.head),e.length++}function a(e,t,r,n){if(!(this instanceof a))return new a(e,t,r,n);this.list=n,this.value=e,t?(t.next=this,this.prev=t):this.prev=null,r?(r.prev=this,this.next=r):this.next=null}e.exports=n,n.Node=a,n.create=n,n.prototype.removeNode=function(e){if(e.list!==this)throw new Error(\"removing node which does not belong to this list\");var t=e.next,r=e.prev;return t&&(t.prev=r),r&&(r.next=t),e===this.head&&(this.head=t),e===this.tail&&(this.tail=r),e.list.length--,e.next=null,e.prev=null,e.list=null,t},n.prototype.unshiftNode=function(e){if(e!==this.head){e.list&&e.list.removeNode(e);var t=this.head;e.list=this,e.next=t,t&&(t.prev=e),this.head=e,this.tail||(this.tail=e),this.length++}},n.prototype.pushNode=function(e){if(e!==this.tail){e.list&&e.list.removeNode(e);var t=this.tail;e.list=this,e.prev=t,t&&(t.next=e),this.tail=e,this.head||(this.head=e),this.length++}},n.prototype.push=function(){for(var e=0,t=arguments.length;e<t;e++)o(this,arguments[e]);return this.length},n.prototype.unshift=function(){for(var e=0,t=arguments.length;e<t;e++)s(this,arguments[e]);return this.length},n.prototype.pop=function(){if(this.tail){var e=this.tail.value;return this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,e}},n.prototype.shift=function(){if(this.head){var e=this.head.value;return this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,e}},n.prototype.forEach=function(e,t){t=t||this;for(var r=this.head,n=0;null!==r;n++)e.call(t,r.value,n,this),r=r.next},n.prototype.forEachReverse=function(e,t){t=t||this;for(var r=this.tail,n=this.length-1;null!==r;n--)e.call(t,r.value,n,this),r=r.prev},n.prototype.get=function(e){for(var t=0,r=this.head;null!==r&&t<e;t++)r=r.next;if(t===e&&null!==r)return r.value},n.prototype.getReverse=function(e){for(var t=0,r=this.tail;null!==r&&t<e;t++)r=r.prev;if(t===e&&null!==r)return r.value},n.prototype.map=function(e,t){t=t||this;for(var r=new n,i=this.head;null!==i;)r.push(e.call(t,i.value,this)),i=i.next;return r},n.prototype.mapReverse=function(e,t){t=t||this;for(var r=new n,i=this.tail;null!==i;)r.push(e.call(t,i.value,this)),i=i.prev;return r},n.prototype.reduce=function(e,t){var r,n=this.head;if(arguments.length>1)r=t;else{if(!this.head)throw new TypeError(\"Reduce of empty list with no initial value\");n=this.head.next,r=this.head.value}for(var i=0;null!==n;i++)r=e(r,n.value,i),n=n.next;return r},n.prototype.reduceReverse=function(e,t){var r,n=this.tail;if(arguments.length>1)r=t;else{if(!this.tail)throw new TypeError(\"Reduce of empty list with no initial value\");n=this.tail.prev,r=this.tail.value}for(var i=this.length-1;null!==n;i--)r=e(r,n.value,i),n=n.prev;return r},n.prototype.toArray=function(){for(var e=new Array(this.length),t=0,r=this.head;null!==r;t++)e[t]=r.value,r=r.next;return e},n.prototype.toArrayReverse=function(){for(var e=new Array(this.length),t=0,r=this.tail;null!==r;t++)e[t]=r.value,r=r.prev;return e},n.prototype.slice=function(e,t){(t=t||this.length)<0&&(t+=this.length),(e=e||0)<0&&(e+=this.length);var r=new n;if(t<e||t<0)return r;e<0&&(e=0),t>this.length&&(t=this.length);for(var i=0,o=this.head;null!==o&&i<e;i++)o=o.next;for(;null!==o&&i<t;i++,o=o.next)r.push(o.value);return r},n.prototype.sliceReverse=function(e,t){(t=t||this.length)<0&&(t+=this.length),(e=e||0)<0&&(e+=this.length);var r=new n;if(t<e||t<0)return r;e<0&&(e=0),t>this.length&&(t=this.length);for(var i=this.length,o=this.tail;null!==o&&i>t;i--)o=o.prev;for(;null!==o&&i>e;i--,o=o.prev)r.push(o.value);return r},n.prototype.splice=function(e,t){e>this.length&&(e=this.length-1),e<0&&(e=this.length+e);for(var r=0,n=this.head;null!==n&&r<e;r++)n=n.next;var o=[];for(r=0;n&&r<t;r++)o.push(n.value),n=this.removeNode(n);for(null===n&&(n=this.tail),n!==this.head&&n!==this.tail&&(n=n.prev),r=0;r<(arguments.length<=2?0:arguments.length-2);r++)n=i(this,n,r+2<2||arguments.length<=r+2?void 0:arguments[r+2]);return o},n.prototype.reverse=function(){for(var e=this.head,t=this.tail,r=e;null!==r;r=r.prev){var n=r.prev;r.prev=r.next,r.next=n}return this.head=t,this.tail=e,this};try{r(10784)(n)}catch(e){}},9731:(e,t)=>{Object.defineProperty(t,\"__esModule\",{value:!0}),t.ApiVersion=void 0,(t.ApiVersion||(t.ApiVersion={})).v0=\"20200115\"},77415:function(e,t,r){var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!(\"get\"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)\"default\"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,\"__esModule\",{value:!0}),i(r(9731),t)},58604:(e,t)=>{var r;Object.defineProperty(t,\"__esModule\",{value:!0}),t.SubscriptionApiOperations=void 0,(r=t.SubscriptionApiOperations||(t.SubscriptionApiOperations={}))[r.Inviting=0]=\"Inviting\",r[r.CancelingInvite=1]=\"CancelingInvite\",r[r.ListingInvites=2]=\"ListingInvites\",r[r.AcceptingInvite=3]=\"AcceptingInvite\"},88154:function(e,t,r){var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function s(e){try{c(n.next(e))}catch(e){o(e)}}function a(e){try{c(n.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,\"__esModule\",{value:!0}),t.SubscriptionApiService=void 0;const i=r(11039),o=r(87211),s=r(9731),a=r(72301),c=r(58604);t.SubscriptionApiService=class{constructor(e){this.subscriptionServer=e,this.operationsInProgress=new Map}listInvites(){return n(this,void 0,void 0,(function*(){if(this.operationsInProgress.get(c.SubscriptionApiOperations.ListingInvites))throw new o.ApiCallError(i.ErrorMessage.GenericInProgress);this.operationsInProgress.set(c.SubscriptionApiOperations.ListingInvites,!0);try{const e=yield this.subscriptionServer.listInvites({[a.ApiEndpointParam.ApiVersion]:s.ApiVersion.v0});return this.operationsInProgress.set(c.SubscriptionApiOperations.ListingInvites,!1),e}catch(e){throw new o.ApiCallError(i.ErrorMessage.GenericFail)}}))}cancelInvite(e){return n(this,void 0,void 0,(function*(){if(this.operationsInProgress.get(c.SubscriptionApiOperations.CancelingInvite))throw new o.ApiCallError(i.ErrorMessage.GenericInProgress);this.operationsInProgress.set(c.SubscriptionApiOperations.CancelingInvite,!0);try{const t=yield this.subscriptionServer.cancelInvite({[a.ApiEndpointParam.ApiVersion]:s.ApiVersion.v0,inviteUuid:e});return this.operationsInProgress.set(c.SubscriptionApiOperations.CancelingInvite,!1),t}catch(e){throw new o.ApiCallError(i.ErrorMessage.GenericFail)}}))}invite(e){return n(this,void 0,void 0,(function*(){if(this.operationsInProgress.get(c.SubscriptionApiOperations.Inviting))throw new o.ApiCallError(i.ErrorMessage.GenericInProgress);this.operationsInProgress.set(c.SubscriptionApiOperations.Inviting,!0);try{const t=yield this.subscriptionServer.invite({[a.ApiEndpointParam.ApiVersion]:s.ApiVersion.v0,identifier:e});return this.operationsInProgress.set(c.SubscriptionApiOperations.Inviting,!1),t}catch(e){throw new o.ApiCallError(i.ErrorMessage.GenericFail)}}))}acceptInvite(e){return n(this,void 0,void 0,(function*(){if(this.operationsInProgress.get(c.SubscriptionApiOperations.AcceptingInvite))throw new o.ApiCallError(i.ErrorMessage.GenericInProgress);this.operationsInProgress.set(c.SubscriptionApiOperations.AcceptingInvite,!0);try{const t=yield this.subscriptionServer.acceptInvite({inviteUuid:e});return this.operationsInProgress.set(c.SubscriptionApiOperations.AcceptingInvite,!1),t}catch(e){throw new o.ApiCallError(i.ErrorMessage.GenericFail)}}))}}},82045:(e,t)=>{Object.defineProperty(t,\"__esModule\",{value:!0})},44952:(e,t)=>{var r;Object.defineProperty(t,\"__esModule\",{value:!0}),t.UserApiOperations=void 0,(r=t.UserApiOperations||(t.UserApiOperations={}))[r.Registering=0]=\"Registering\",r[r.SubmittingRequest=1]=\"SubmittingRequest\",r[r.DeletingAccount=2]=\"DeletingAccount\"},93980:function(e,t,r){var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function s(e){try{c(n.next(e))}catch(e){o(e)}}function a(e){try{c(n.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,\"__esModule\",{value:!0}),t.UserApiService=void 0;const i=r(11039),o=r(87211),s=r(9731),a=r(72301),c=r(44952);t.UserApiService=class{constructor(e,t){this.userServer=e,this.userRequestServer=t,this.operationsInProgress=new Map}deleteAccount(e){return n(this,void 0,void 0,(function*(){this.lockOperation(c.UserApiOperations.DeletingAccount);try{const t=yield this.userServer.deleteAccount({userUuid:e});return this.unlockOperation(c.UserApiOperations.DeletingAccount),t}catch(e){throw new o.ApiCallError(i.ErrorMessage.GenericRegistrationFail)}}))}submitUserRequest(e){return n(this,void 0,void 0,(function*(){this.lockOperation(c.UserApiOperations.SubmittingRequest);try{const t=yield this.userRequestServer.submitUserRequest({userUuid:e.userUuid,requestType:e.requestType});return this.unlockOperation(c.UserApiOperations.SubmittingRequest),t}catch(e){throw new o.ApiCallError(i.ErrorMessage.GenericRegistrationFail)}}))}register(e){return n(this,void 0,void 0,(function*(){this.lockOperation(c.UserApiOperations.Registering);try{const t=yield this.userServer.register(Object.assign({[a.ApiEndpointParam.ApiVersion]:s.ApiVersion.v0,password:e.serverPassword,email:e.email,ephemeral:e.ephemeral},e.keyParams.getPortableValue()));return this.unlockOperation(c.UserApiOperations.Registering),t}catch(e){throw new o.ApiCallError(i.ErrorMessage.GenericRegistrationFail)}}))}lockOperation(e){if(this.operationsInProgress.get(e))throw new o.ApiCallError(i.ErrorMessage.GenericInProgress);this.operationsInProgress.set(e,!0)}unlockOperation(e){this.operationsInProgress.set(e,!1)}}},60790:(e,t)=>{Object.defineProperty(t,\"__esModule\",{value:!0})},92089:(e,t)=>{var r;Object.defineProperty(t,\"__esModule\",{value:!0}),t.WebSocketApiOperations=void 0,(r=t.WebSocketApiOperations||(t.WebSocketApiOperations={}))[r.CreatingConnectionToken=0]=\"CreatingConnectionToken\"},15846:function(e,t,r){var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function s(e){try{c(n.next(e))}catch(e){o(e)}}function a(e){try{c(n.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,\"__esModule\",{value:!0}),t.WebSocketApiService=void 0;const i=r(11039),o=r(87211),s=r(92089);t.WebSocketApiService=class{constructor(e){this.webSocketServer=e,this.operationsInProgress=new Map}createConnectionToken(){return n(this,void 0,void 0,(function*(){if(this.operationsInProgress.get(s.WebSocketApiOperations.CreatingConnectionToken))throw new o.ApiCallError(i.ErrorMessage.GenericInProgress);this.operationsInProgress.set(s.WebSocketApiOperations.CreatingConnectionToken,!0);try{const e=yield this.webSocketServer.createConnectionToken({});return this.operationsInProgress.set(s.WebSocketApiOperations.CreatingConnectionToken,!1),e}catch(e){throw new o.ApiCallError(i.ErrorMessage.GenericFail)}}))}}},58714:(e,t)=>{Object.defineProperty(t,\"__esModule\",{value:!0})},90971:(e,t)=>{var r;Object.defineProperty(t,\"__esModule\",{value:!0}),t.WorkspaceApiOperations=void 0,(r=t.WorkspaceApiOperations||(t.WorkspaceApiOperations={}))[r.Creating=0]=\"Creating\",r[r.Inviting=1]=\"Inviting\",r[r.Accepting=2]=\"Accepting\",r[r.ListingWorkspaces=3]=\"ListingWorkspaces\",r[r.ListingWorkspaceUsers=4]=\"ListingWorkspaceUsers\",r[r.InitiatingKeyshare=5]=\"InitiatingKeyshare\"},75542:function(e,t,r){var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function s(e){try{c(n.next(e))}catch(e){o(e)}}function a(e){try{c(n.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,\"__esModule\",{value:!0}),t.WorkspaceApiService=void 0;const i=r(11039),o=r(87211),s=r(90971);t.WorkspaceApiService=class{constructor(e){this.workspaceServer=e,this.operationsInProgress=new Map}initiateKeyshare(e){return n(this,void 0,void 0,(function*(){this.lockOperation(s.WorkspaceApiOperations.InitiatingKeyshare);try{const t=yield this.workspaceServer.initiateKeyshare({workspaceUuid:e.workspaceUuid,userUuid:e.userUuid,encryptedWorkspaceKey:e.encryptedWorkspaceKey});return this.unlockOperation(s.WorkspaceApiOperations.InitiatingKeyshare),t}catch(e){throw new o.ApiCallError(i.ErrorMessage.GenericFail)}}))}listWorkspaceUsers(e){return n(this,void 0,void 0,(function*(){this.lockOperation(s.WorkspaceApiOperations.ListingWorkspaceUsers);try{const t=yield this.workspaceServer.listWorkspaceUsers({workspaceUuid:e.workspaceUuid});return this.unlockOperation(s.WorkspaceApiOperations.ListingWorkspaceUsers),t}catch(e){throw new o.ApiCallError(i.ErrorMessage.GenericFail)}}))}listWorkspaces(){return n(this,void 0,void 0,(function*(){this.lockOperation(s.WorkspaceApiOperations.ListingWorkspaces);try{const e=yield this.workspaceServer.listWorkspaces({});return this.unlockOperation(s.WorkspaceApiOperations.ListingWorkspaces),e}catch(e){throw new o.ApiCallError(i.ErrorMessage.GenericFail)}}))}acceptInvite(e){return n(this,void 0,void 0,(function*(){this.lockOperation(s.WorkspaceApiOperations.Accepting);try{const t=yield this.workspaceServer.acceptInvite({encryptedPrivateKey:e.encryptedPrivateKey,publicKey:e.publicKey,inviteUuid:e.inviteUuid,userUuid:e.userUuid});return this.unlockOperation(s.WorkspaceApiOperations.Accepting),t}catch(e){throw new o.ApiCallError(i.ErrorMessage.GenericFail)}}))}inviteToWorkspace(e){return n(this,void 0,void 0,(function*(){this.lockOperation(s.WorkspaceApiOperations.Inviting);try{const t=yield this.workspaceServer.inviteToWorkspace({inviteeEmail:e.inviteeEmail,workspaceUuid:e.workspaceUuid,accessLevel:e.accessLevel});return this.unlockOperation(s.WorkspaceApiOperations.Inviting),t}catch(e){throw new o.ApiCallError(i.ErrorMessage.GenericFail)}}))}createWorkspace(e){return n(this,void 0,void 0,(function*(){this.lockOperation(s.WorkspaceApiOperations.Creating);try{const t=yield this.workspaceServer.createWorkspace({workspaceType:e.workspaceType,encryptedPrivateKey:e.encryptedPrivateKey,encryptedWorkspaceKey:e.encryptedWorkspaceKey,publicKey:e.publicKey,workspaceName:e.workspaceName});return this.unlockOperation(s.WorkspaceApiOperations.Creating),t}catch(e){throw new o.ApiCallError(i.ErrorMessage.GenericFail)}}))}lockOperation(e){if(this.operationsInProgress.get(e))throw new o.ApiCallError(i.ErrorMessage.GenericInProgress);this.operationsInProgress.set(e,!0)}unlockOperation(e){this.operationsInProgress.set(e,!1)}}},46075:(e,t)=>{Object.defineProperty(t,\"__esModule\",{value:!0})},26636:function(e,t,r){var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!(\"get\"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)\"default\"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,\"__esModule\",{value:!0}),i(r(58604),t),i(r(88154),t),i(r(82045),t),i(r(44952),t),i(r(93980),t),i(r(60790),t),i(r(15846),t),i(r(58714),t),i(r(75542),t),i(r(46075),t)},87211:(e,t)=>{Object.defineProperty(t,\"__esModule\",{value:!0}),t.ApiCallError=void 0;class r extends Error{constructor(e){super(e),Object.setPrototypeOf(this,r.prototype)}}t.ApiCallError=r},11039:(e,t)=>{var r;Object.defineProperty(t,\"__esModule\",{value:!0}),t.ErrorMessage=void 0,(r=t.ErrorMessage||(t.ErrorMessage={})).RegistrationInProgress=\"An existing registration request is already in progress.\",r.GenericRegistrationFail=\"A server error occurred while trying to register. Please try again.\",r.RateLimited=\"Too many successive server requests. Please wait a few minutes and try again.\",r.InsufficientPasswordMessage=\"Your password must be at least %LENGTH% characters in length. For your security, please choose a longer password or, ideally, a passphrase, and try again.\",r.PasscodeRequired=\"Your passcode is required in order to register for an account.\",r.GenericInProgress=\"An existing request is already in progress.\",r.GenericFail=\"A server error occurred. Please try again.\"},88994:function(e,t,r){var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!(\"get\"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)\"default\"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,\"__esModule\",{value:!0}),i(r(87211),t),i(r(11039),t)},64607:(e,t)=>{var r;Object.defineProperty(t,\"__esModule\",{value:!0}),t.ErrorTag=void 0,(r=t.ErrorTag||(t.ErrorTag={})).MfaInvalid=\"mfa-invalid\",r.MfaRequired=\"mfa-required\",r.RefreshTokenInvalid=\"invalid-refresh-token\",r.RefreshTokenExpired=\"expired-refresh-token\",r.AccessTokenExpired=\"expired-access-token\",r.ParametersInvalid=\"invalid-parameters\",r.RevokedSession=\"revoked-session\",r.AuthInvalid=\"invalid-auth\",r.ReadOnlyAccess=\"read-only-access\"},43394:(e,t)=>{Object.defineProperty(t,\"__esModule\",{value:!0})},66089:(e,t)=>{Object.defineProperty(t,\"__esModule\",{value:!0})},75340:(e,t)=>{Object.defineProperty(t,\"__esModule\",{value:!0})},7612:(e,t)=>{Object.defineProperty(t,\"__esModule\",{value:!0})},61392:(e,t)=>{Object.defineProperty(t,\"__esModule\",{value:!0})},25469:(e,t)=>{Object.defineProperty(t,\"__esModule\",{value:!0})},71914:(e,t)=>{Object.defineProperty(t,\"__esModule\",{value:!0})},93125:function(e,t,r){var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function s(e){try{c(n.next(e))}catch(e){o(e)}}function a(e){try{c(n.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,\"__esModule\",{value:!0}),t.HttpService=void 0;const i=r(64657),o=r(16418),s=r(90510),a=r(50484),c=r(76098),l=r(11039);t.HttpService=class{constructor(e,t,r,n,i){this.environment=e,this.appVersion=t,this.snjsVersion=r,this.host=n,this.updateMetaCallback=i}setAuthorizationToken(e){this.authorizationToken=e}setHost(e){this.host=e}get(e,t,r){return n(this,void 0,void 0,(function*(){return this.runHttp({url:(0,i.joinPaths)(this.host,e),params:t,verb:s.HttpVerb.Get,authentication:null!=r?r:this.authorizationToken})}))}post(e,t,r){return n(this,void 0,void 0,(function*(){return this.runHttp({url:(0,i.joinPaths)(this.host,e),params:t,verb:s.HttpVerb.Post,authentication:null!=r?r:this.authorizationToken})}))}put(e,t,r){return n(this,void 0,void 0,(function*(){return this.runHttp({url:(0,i.joinPaths)(this.host,e),params:t,verb:s.HttpVerb.Put,authentication:null!=r?r:this.authorizationToken})}))}patch(e,t,r){return n(this,void 0,void 0,(function*(){return this.runHttp({url:(0,i.joinPaths)(this.host,e),params:t,verb:s.HttpVerb.Patch,authentication:null!=r?r:this.authorizationToken})}))}delete(e,t,r){return n(this,void 0,void 0,(function*(){return this.runHttp({url:(0,i.joinPaths)(this.host,e),params:t,verb:s.HttpVerb.Delete,authentication:null!=r?r:this.authorizationToken})}))}runHttp(e){return n(this,void 0,void 0,(function*(){const t=this.createXmlRequest(e),r=yield this.runRequest(t,this.createRequestBody(e));return r.meta&&this.updateMetaCallback(r.meta),r}))}createRequestBody(e){return void 0!==e.params&&[s.HttpVerb.Post,s.HttpVerb.Put,s.HttpVerb.Patch,s.HttpVerb.Delete].includes(e.verb)?JSON.stringify(e.params):e.rawBytes}createXmlRequest(e){var t;const r=new XMLHttpRequest;if(e.params&&e.verb===s.HttpVerb.Get&&Object.keys(e.params).length>0&&(e.url=this.urlForUrlAndParams(e.url,e.params)),r.open(e.verb,e.url,!0),r.responseType=null!==(t=e.responseType)&&void 0!==t?t:\"\",!e.external){r.setRequestHeader(\"X-SNJS-Version\",this.snjsVersion);const t=\"\".concat(o.Environment[this.environment],\"-\").concat(this.appVersion);r.setRequestHeader(\"X-Application-Version\",t),e.authentication&&r.setRequestHeader(\"Authorization\",\"Bearer \"+e.authentication)}let n=!1;return e.customHeaders&&e.customHeaders.length>0&&e.customHeaders.forEach((e=>{let{key:t,value:i}=e;r.setRequestHeader(t,i),\"Content-Type\"===t&&(n=!0)})),n||e.external||r.setRequestHeader(\"Content-Type\",\"application/json\"),r}runRequest(e,t){return n(this,void 0,void 0,(function*(){return new Promise(((r,n)=>{e.onreadystatechange=()=>{this.stateChangeHandlerForRequest(e,r,n)},e.send(t)}))}))}stateChangeHandlerForRequest(e,t,r){var n,o,s;if(e.readyState!==c.XMLHttpRequestState.Completed)return;const u=e.status,d={status:u,headers:new Map},p=null===(n=e.getAllResponseHeaders())||void 0===n?void 0:n.trim().split(/[\\r\\n]+/);null==p||p.forEach((e=>{const t=e.split(\": \"),r=t.shift(),n=t.join(\": \");d.headers.set(r,n)}));try{if(u!==a.HttpStatusCode.NoContent){let t;const r=(null===(o=d.headers)||void 0===o?void 0:o.get(\"content-type\"))||(null===(s=d.headers)||void 0===s?void 0:s.get(\"Content-Type\"));t=(null==r?void 0:r.includes(\"application/json\"))?JSON.parse(e.responseText):e.response,t.data||(d.data=t),(0,i.isString)(t)||Object.assign(d,t)}}catch(e){console.error(e)}u>=a.HttpStatusCode.Success&&u<a.HttpStatusCode.MultipleChoices?t(d):(u===a.HttpStatusCode.Forbidden&&d.data&&void 0!==d.data.error&&(d.data.error.message=l.ErrorMessage.RateLimited),r(d))}urlForUrlAndParams(e,t){const r=Object.keys(t).map((e=>e+\"=\"+encodeURIComponent(t[e]))).join(\"&\");return e.includes(\"?\")?e+\"&\"+r:e+\"?\"+r}}},78266:(e,t)=>{Object.defineProperty(t,\"__esModule\",{value:!0})},50484:(e,t)=>{var r;Object.defineProperty(t,\"__esModule\",{value:!0}),t.HttpStatusCode=void 0,(r=t.HttpStatusCode||(t.HttpStatusCode={}))[r.Success=200]=\"Success\",r[r.NoContent=204]=\"NoContent\",r[r.MultipleChoices=300]=\"MultipleChoices\",r[r.BadRequest=400]=\"BadRequest\",r[r.Unauthorized=401]=\"Unauthorized\",r[r.Forbidden=403]=\"Forbidden\",r[r.Gone=410]=\"Gone\",r[r.ExpiredAccessToken=498]=\"ExpiredAccessToken\"},90510:(e,t)=>{var r;Object.defineProperty(t,\"__esModule\",{value:!0}),t.HttpVerb=void 0,(r=t.HttpVerb||(t.HttpVerb={})).Get=\"GET\",r.Post=\"POST\",r.Put=\"PUT\",r.Patch=\"PATCH\",r.Delete=\"DELETE\"},76098:(e,t)=>{var r;Object.defineProperty(t,\"__esModule\",{value:!0}),t.XMLHttpRequestState=void 0,(r=t.XMLHttpRequestState||(t.XMLHttpRequestState={}))[r.Completed=4]=\"Completed\"},19854:function(e,t,r){var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!(\"get\"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)\"default\"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,\"__esModule\",{value:!0}),i(r(64607),t),i(r(43394),t),i(r(66089),t),i(r(75340),t),i(r(7612),t),i(r(61392),t),i(r(25469),t),i(r(71914),t),i(r(93125),t),i(r(78266),t),i(r(50484),t),i(r(90510),t),i(r(76098),t)},72301:(e,t)=>{var r;Object.defineProperty(t,\"__esModule\",{value:!0}),t.ApiEndpointParam=void 0,(r=t.ApiEndpointParam||(t.ApiEndpointParam={})).LastSyncToken=\"sync_token\",r.PaginationToken=\"cursor_token\",r.SyncDlLimit=\"limit\",r.SyncPayloads=\"items\",r.ApiVersion=\"api\"},35133:(e,t)=>{Object.defineProperty(t,\"__esModule\",{value:!0})},54074:(e,t,r)=>{Object.defineProperty(t,\"__esModule\",{value:!0}),r(72301)},40849:(e,t,r)=>{Object.defineProperty(t,\"__esModule\",{value:!0}),r(72301)},19194:(e,t,r)=>{Object.defineProperty(t,\"__esModule\",{value:!0}),r(72301)},74210:(e,t,r)=>{Object.defineProperty(t,\"__esModule\",{value:!0}),r(72301)},37888:(e,t,r)=>{Object.defineProperty(t,\"__esModule\",{value:!0}),r(72301)},40891:(e,t)=>{Object.defineProperty(t,\"__esModule\",{value:!0})},13870:(e,t)=>{Object.defineProperty(t,\"__esModule\",{value:!0})},48911:(e,t)=>{Object.defineProperty(t,\"__esModule\",{value:!0})},69346:(e,t)=>{Object.defineProperty(t,\"__esModule\",{value:!0})},95440:(e,t)=>{Object.defineProperty(t,\"__esModule\",{value:!0})},73402:(e,t)=>{Object.defineProperty(t,\"__esModule\",{value:!0})},46226:(e,t)=>{Object.defineProperty(t,\"__esModule\",{value:!0})},18450:(e,t)=>{Object.defineProperty(t,\"__esModule\",{value:!0})},34779:function(e,t,r){var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!(\"get\"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)\"default\"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,\"__esModule\",{value:!0}),i(r(72301),t),i(r(35133),t),i(r(54074),t),i(r(40849),t),i(r(19194),t),i(r(74210),t),i(r(37888),t),i(r(40891),t),i(r(13870),t),i(r(48911),t),i(r(69346),t),i(r(95440),t),i(r(73402),t),i(r(46226),t),i(r(18450),t)},55709:(e,t)=>{Object.defineProperty(t,\"__esModule\",{value:!0})},60427:(e,t)=>{Object.defineProperty(t,\"__esModule\",{value:!0})},69861:(e,t)=>{Object.defineProperty(t,\"__esModule\",{value:!0})},51715:(e,t)=>{Object.defineProperty(t,\"__esModule\",{value:!0})},24622:(e,t)=>{Object.defineProperty(t,\"__esModule\",{value:!0})},8081:(e,t)=>{Object.defineProperty(t,\"__esModule\",{value:!0})},64999:(e,t)=>{Object.defineProperty(t,\"__esModule\",{value:!0})},51298:(e,t)=>{Object.defineProperty(t,\"__esModule\",{value:!0})},22034:(e,t)=>{Object.defineProperty(t,\"__esModule\",{value:!0})},42958:(e,t)=>{Object.defineProperty(t,\"__esModule\",{value:!0})},295:(e,t)=>{Object.defineProperty(t,\"__esModule\",{value:!0})},67206:(e,t)=>{Object.defineProperty(t,\"__esModule\",{value:!0})},59735:(e,t)=>{Object.defineProperty(t,\"__esModule\",{value:!0})},15189:(e,t)=>{Object.defineProperty(t,\"__esModule\",{value:!0})},78322:(e,t)=>{Object.defineProperty(t,\"__esModule\",{value:!0})},16590:(e,t)=>{Object.defineProperty(t,\"__esModule\",{value:!0})},12847:(e,t)=>{Object.defineProperty(t,\"__esModule\",{value:!0})},55676:(e,t)=>{Object.defineProperty(t,\"__esModule\",{value:!0})},43515:(e,t)=>{Object.defineProperty(t,\"__esModule\",{value:!0})},75983:(e,t)=>{Object.defineProperty(t,\"__esModule\",{value:!0})},83143:(e,t)=>{Object.defineProperty(t,\"__esModule\",{value:!0})},85785:(e,t)=>{Object.defineProperty(t,\"__esModule\",{value:!0})},91127:(e,t)=>{Object.defineProperty(t,\"__esModule\",{value:!0})},99417:(e,t)=>{Object.defineProperty(t,\"__esModule\",{value:!0})},44516:(e,t)=>{Object.defineProperty(t,\"__esModule\",{value:!0})},93476:(e,t)=>{Object.defineProperty(t,\"__esModule\",{value:!0})},93106:(e,t)=>{Object.defineProperty(t,\"__esModule\",{value:!0})},13785:(e,t)=>{Object.defineProperty(t,\"__esModule\",{value:!0})},92077:(e,t)=>{Object.defineProperty(t,\"__esModule\",{value:!0})},5940:(e,t)=>{Object.defineProperty(t,\"__esModule\",{value:!0})},48179:function(e,t,r){var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!(\"get\"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)\"default\"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,\"__esModule\",{value:!0}),i(r(55709),t),i(r(60427),t),i(r(69861),t),i(r(51715),t),i(r(24622),t),i(r(8081),t),i(r(64999),t),i(r(51298),t),i(r(22034),t),i(r(42958),t),i(r(295),t),i(r(67206),t),i(r(59735),t),i(r(15189),t),i(r(78322),t),i(r(16590),t),i(r(12847),t),i(r(55676),t),i(r(43515),t),i(r(75983),t),i(r(83143),t),i(r(85785),t),i(r(44516),t),i(r(93476),t),i(r(91127),t),i(r(99417),t),i(r(93106),t),i(r(13785),t),i(r(92077),t),i(r(5940),t)},24881:(e,t)=>{Object.defineProperty(t,\"__esModule\",{value:!0}),t.Paths=void 0,t.Paths={v1:Object.assign({},{invite:\"/v1/subscription-invites\",acceptInvite:e=>\"/v1/subscription-invites/\".concat(e,\"/accept\"),declineInvite:e=>\"/v1/subscription-invites/\".concat(e,\"/decline\"),cancelInvite:e=>\"/v1/subscription-invites/\".concat(e),listInvites:\"/v1/subscription-invites\"})}},59005:function(e,t,r){var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function s(e){try{c(n.next(e))}catch(e){o(e)}}function a(e){try{c(n.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,\"__esModule\",{value:!0}),t.SubscriptionServer=void 0;const i=r(24881);t.SubscriptionServer=class{constructor(e){this.httpService=e}acceptInvite(e){return n(this,void 0,void 0,(function*(){return yield this.httpService.post(i.Paths.v1.acceptInvite(e.inviteUuid),e)}))}declineInvite(e){return n(this,void 0,void 0,(function*(){return yield this.httpService.get(i.Paths.v1.declineInvite(e.inviteUuid),e)}))}cancelInvite(e){return n(this,void 0,void 0,(function*(){return yield this.httpService.delete(i.Paths.v1.cancelInvite(e.inviteUuid),e)}))}listInvites(e){return n(this,void 0,void 0,(function*(){return yield this.httpService.get(i.Paths.v1.listInvites,e)}))}invite(e){return n(this,void 0,void 0,(function*(){return yield this.httpService.post(i.Paths.v1.invite,e)}))}}},99033:(e,t)=>{Object.defineProperty(t,\"__esModule\",{value:!0})},15290:(e,t)=>{Object.defineProperty(t,\"__esModule\",{value:!0}),t.Paths=void 0,t.Paths={v1:Object.assign({},{register:\"/v1/users\",deleteAccount:e=>\"/v1/users/\".concat(e)})}},86930:function(e,t,r){var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function s(e){try{c(n.next(e))}catch(e){o(e)}}function a(e){try{c(n.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,\"__esModule\",{value:!0}),t.UserServer=void 0;const i=r(15290);t.UserServer=class{constructor(e){this.httpService=e}deleteAccount(e){return n(this,void 0,void 0,(function*(){return yield this.httpService.delete(i.Paths.v1.deleteAccount(e.userUuid),e)}))}register(e){return n(this,void 0,void 0,(function*(){return yield this.httpService.post(i.Paths.v1.register,e)}))}}},62890:(e,t)=>{Object.defineProperty(t,\"__esModule\",{value:!0})},60744:(e,t)=>{Object.defineProperty(t,\"__esModule\",{value:!0}),t.Paths=void 0,t.Paths={v1:Object.assign({},{submitUserRequest:e=>\"/v1/users/\".concat(e,\"/requests\")})}},32510:function(e,t,r){var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function s(e){try{c(n.next(e))}catch(e){o(e)}}function a(e){try{c(n.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,\"__esModule\",{value:!0}),t.UserRequestServer=void 0;const i=r(60744);t.UserRequestServer=class{constructor(e){this.httpService=e}submitUserRequest(e){return n(this,void 0,void 0,(function*(){return yield this.httpService.post(i.Paths.v1.submitUserRequest(e.userUuid),e)}))}}},25336:(e,t)=>{Object.defineProperty(t,\"__esModule\",{value:!0})},63782:(e,t)=>{Object.defineProperty(t,\"__esModule\",{value:!0}),t.Paths=void 0,t.Paths={v1:Object.assign({},{createConnectionToken:\"/v1/sockets/tokens\"})}},36604:function(e,t,r){var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function s(e){try{c(n.next(e))}catch(e){o(e)}}function a(e){try{c(n.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,\"__esModule\",{value:!0}),t.WebSocketServer=void 0;const i=r(63782);t.WebSocketServer=class{constructor(e){this.httpService=e}createConnectionToken(e){return n(this,void 0,void 0,(function*(){return yield this.httpService.post(i.Paths.v1.createConnectionToken,e)}))}}},40400:(e,t)=>{Object.defineProperty(t,\"__esModule\",{value:!0})},43853:(e,t)=>{Object.defineProperty(t,\"__esModule\",{value:!0}),t.Paths=void 0,t.Paths={v1:Object.assign({},{createWorkspace:\"/v1/workspaces\",listWorkspaces:\"/v1/workspaces\",listWorkspaceUsers:e=>\"/v1/workspaces/\".concat(e,\"/users\"),initiateKeyshare:(e,t)=>\"/v1/workspaces/\".concat(e,\"/users/\").concat(t,\"/keyshare\"),inviteToWorkspace:e=>\"/v1/workspaces/\".concat(e,\"/invites\"),acceptInvite:e=>\"/v1/invites/\".concat(e,\"/accept\")})}},68986:function(e,t,r){var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function s(e){try{c(n.next(e))}catch(e){o(e)}}function a(e){try{c(n.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,\"__esModule\",{value:!0}),t.WorkspaceServer=void 0;const i=r(43853);t.WorkspaceServer=class{constructor(e){this.httpService=e}initiateKeyshare(e){return n(this,void 0,void 0,(function*(){return yield this.httpService.post(i.Paths.v1.initiateKeyshare(e.workspaceUuid,e.userUuid),e)}))}listWorkspaceUsers(e){return n(this,void 0,void 0,(function*(){return yield this.httpService.get(i.Paths.v1.listWorkspaceUsers(e.workspaceUuid),e)}))}listWorkspaces(e){return n(this,void 0,void 0,(function*(){return yield this.httpService.get(i.Paths.v1.listWorkspaces,e)}))}acceptInvite(e){return n(this,void 0,void 0,(function*(){return yield this.httpService.post(i.Paths.v1.acceptInvite(e.inviteUuid),e)}))}inviteToWorkspace(e){return n(this,void 0,void 0,(function*(){return yield this.httpService.post(i.Paths.v1.inviteToWorkspace(e.workspaceUuid),e)}))}createWorkspace(e){return n(this,void 0,void 0,(function*(){return yield this.httpService.post(i.Paths.v1.createWorkspace,e)}))}}},87171:(e,t)=>{Object.defineProperty(t,\"__esModule\",{value:!0})},99131:function(e,t,r){var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!(\"get\"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)\"default\"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,\"__esModule\",{value:!0}),i(r(59005),t),i(r(99033),t),i(r(86930),t),i(r(62890),t),i(r(32510),t),i(r(25336),t),i(r(36604),t),i(r(40400),t),i(r(68986),t),i(r(87171),t)},30991:function(e,t,r){var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!(\"get\"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)\"default\"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,\"__esModule\",{value:!0}),i(r(77415),t),i(r(26636),t),i(r(88994),t),i(r(19854),t),i(r(34779),t),i(r(48179),t),i(r(99131),t)},70297:function(e,t,r){var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!(\"get\"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)\"default\"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,\"__esModule\",{value:!0}),i(r(30991),t)},55665:(e,t)=>{var r,n,i;Object.defineProperty(t,\"__esModule\",{value:!0}),t.V005Algorithm=t.V004Algorithm=t.V003Algorithm=t.V002Algorithm=t.V001Algorithm=void 0,t.V001Algorithm=Object.freeze({SaltSeedLength:128,PbkdfMinCost:3e3,PbkdfCostsUsed:[3e3,5e3,1e4,6e4],PbkdfOutputLength:512,EncryptionKeyLength:256}),t.V002Algorithm=Object.freeze({SaltSeedLength:128,PbkdfMinCost:3e3,PbkdfCostsUsed:t.V001Algorithm.PbkdfCostsUsed.concat([1e5,101e3,102e3,103e3]),ImprobablePbkdfCostsUsed:[3e3,5e3],PbkdfOutputLength:768,EncryptionKeyLength:256,EncryptionIvLength:128}),(i=t.V003Algorithm||(t.V003Algorithm={}))[i.SaltSeedLength=256]=\"SaltSeedLength\",i[i.PbkdfCost=11e4]=\"PbkdfCost\",i[i.PbkdfOutputLength=768]=\"PbkdfOutputLength\",i[i.EncryptionKeyLength=256]=\"EncryptionKeyLength\",i[i.EncryptionIvLength=128]=\"EncryptionIvLength\",(n=t.V004Algorithm||(t.V004Algorithm={}))[n.ArgonSaltSeedLength=256]=\"ArgonSaltSeedLength\",n[n.ArgonSaltLength=128]=\"ArgonSaltLength\",n[n.ArgonIterations=5]=\"ArgonIterations\",n[n.ArgonMemLimit=67108864]=\"ArgonMemLimit\",n[n.ArgonOutputKeyBytes=64]=\"ArgonOutputKeyBytes\",n[n.EncryptionKeyLength=256]=\"EncryptionKeyLength\",n[n.EncryptionNonceLength=192]=\"EncryptionNonceLength\",(r=t.V005Algorithm||(t.V005Algorithm={}))[r.AsymmetricEncryptionNonceLength=192]=\"AsymmetricEncryptionNonceLength\",r[r.SymmetricEncryptionNonceLength=192]=\"SymmetricEncryptionNonceLength\"},11393:(e,t)=>{var r;Object.defineProperty(t,\"__esModule\",{value:!0}),t.BackupFileType=void 0,(r=t.BackupFileType||(t.BackupFileType={})).Encrypted=\"Encrypted\",r.EncryptedWithNonEncryptedItemsKey=\"EncryptedWithNonEncryptedItemsKey\",r.FullyDecrypted=\"FullyDecrypted\",r.Corrupt=\"Corrupt\"},20593:(e,t,r)=>{Object.defineProperty(t,\"__esModule\",{value:!0}),t.SNItemsKey=t.isItemsKey=void 0;const n=r(10256),i=r(16418);t.isItemsKey=function(e){return e.content_type===n.ContentType.ItemsKey};class o extends i.DecryptedItem{constructor(e){super(e),this.keyVersion=e.content.version,this.isDefault=e.content.isDefault,this.itemsKey=this.payload.content.itemsKey}strategyWhenConflictingWithItem(e,t){return i.ConflictStrategy.KeepBase}get dataAuthenticationKey(){if(this.keyVersion===n.ProtocolVersion.V004)throw\"Attempting to access legacy data authentication key.\";return this.payload.content.dataAuthenticationKey}}t.SNItemsKey=o},73756:(e,t,r)=>{Object.defineProperty(t,\"__esModule\",{value:!0}),t.ItemsKeyMutator=void 0;const n=r(16418);class i extends n.DecryptedItemMutator{set isDefault(e){this.mutableContent.isDefault=e}}t.ItemsKeyMutator=i},11542:(e,t,r)=>{Object.defineProperty(t,\"__esModule\",{value:!0});const n=r(10256),i=r(16418),o=r(20593),s=r(73756);(0,i.RegisterItemClass)(n.ContentType.ItemsKey,o.SNItemsKey,s.ItemsKeyMutator)},28809:(e,t,r)=>{Object.defineProperty(t,\"__esModule\",{value:!0}),t.ItemContentTypeUsesRootKeyEncryption=t.ContentTypeUsesRootKeyEncryption=t.FillRootKeyContent=t.CreateNewRootKey=void 0;const n=r(10256),i=r(16418),o=r(64657),s=r(80026);function a(e){return e.version||(e.dataAuthenticationKey?e.version=n.ProtocolVersion.V002:e.version=n.ProtocolVersion.V001),(0,i.FillItemContentSpecialized)(e)}t.CreateNewRootKey=function(e){const t=o.UuidGenerator.GenerateUuid(),r=new i.DecryptedPayload(Object.assign({uuid:t,content_type:n.ContentType.RootKey,content:a(e)},(0,i.PayloadTimestampDefaults)()));return new s.SNRootKey(r)},t.FillRootKeyContent=a,t.ContentTypeUsesRootKeyEncryption=function(e){return e===n.ContentType.RootKey||e===n.ContentType.ItemsKey||e===n.ContentType.EncryptedStorage},t.ItemContentTypeUsesRootKeyEncryption=function(e){return e===n.ContentType.ItemsKey}},73913:(e,t,r)=>{Object.defineProperty(t,\"__esModule\",{value:!0}),t.KeyParamsFromApiResponse=t.CreateAnyKeyParams=t.Create004KeyParams=t.Create003KeyParams=t.Create002KeyParams=t.Create001KeyParams=void 0;const n=r(41671),i=r(2392);function o(e){if(\"content\"in e)throw Error(\"Raw key params shouldnt have content; perhaps you passed in a SNRootKeyParams object.\");return new i.SNRootKeyParams(e)}t.Create001KeyParams=function(e){return o(e)},t.Create002KeyParams=function(e){return o(e)},t.Create003KeyParams=function(e){return o(e)},t.Create004KeyParams=function(e){return o(e)},t.CreateAnyKeyParams=o,t.KeyParamsFromApiResponse=function(e,t){return o({identifier:t||e.data.identifier,pw_cost:e.data.pw_cost,pw_nonce:e.data.pw_nonce,pw_salt:e.data.pw_salt,version:(0,n.ProtocolVersionForKeyParams)(e.data),origination:e.data.origination,created:e.data.created})}},41671:(e,t,r)=>{Object.defineProperty(t,\"__esModule\",{value:!0}),t.ProtocolVersionForKeyParams=void 0;const n=r(10256),i=r(55665);t.ProtocolVersionForKeyParams=function(e){if(e.version)return e.version;const t=e.pw_cost,r=i.V001Algorithm.PbkdfCostsUsed.includes(t),o=i.V002Algorithm.PbkdfCostsUsed.includes(t);return r&&!o?n.ProtocolVersion.V001:o&&!r?n.ProtocolVersion.V002:o&&r&&e.pw_nonce&&i.V002Algorithm.ImprobablePbkdfCostsUsed.includes(t)?n.ProtocolVersion.V001:n.ProtocolVersion.V002}},80026:(e,t,r)=>{Object.defineProperty(t,\"__esModule\",{value:!0}),t.SNRootKey=void 0;const n=r(16418),i=r(86553),o=r(2392);class s extends n.DecryptedItem{constructor(e){super(e),this.keyParams=new o.SNRootKeyParams(e.content.keyParams)}get keyVersion(){return this.content.version}get itemsKey(){return this.masterKey}get masterKey(){return this.content.masterKey}get serverPassword(){return this.content.serverPassword}get dataAuthenticationKey(){return this.content.dataAuthenticationKey}compare(e){return this.keyVersion===e.keyVersion&&(this.serverPassword&&e.serverPassword?(0,i.timingSafeEqual)(this.masterKey,e.masterKey)&&(0,i.timingSafeEqual)(this.serverPassword,e.serverPassword):(0,i.timingSafeEqual)(this.masterKey,e.masterKey))}persistableValueWhenWrapping(){return Object.assign(Object.assign({},this.getKeychainValue()),{keyParams:this.keyParams.getPortableValue()})}getKeychainValue(){const e={version:this.keyVersion,masterKey:this.masterKey};return this.dataAuthenticationKey&&(e.dataAuthenticationKey=this.dataAuthenticationKey),e}}t.SNRootKey=s},2392:(e,t,r)=>{Object.defineProperty(t,\"__esModule\",{value:!0}),t.SNRootKeyParams=void 0;const n=r(10256),i=r(64657),o=r(41671),s=r(29153);t.SNRootKeyParams=class{constructor(e){this.content=Object.assign(Object.assign({},e),{origination:e.origination||n.KeyParamsOrigination.Registration,version:e.version||(0,o.ProtocolVersionForKeyParams)(e)})}get isKeyParamsObject(){return!0}get identifier(){return this.content004.identifier||this.content002.email}get version(){return this.content.version}get origination(){return this.content.origination}get content001(){return this.content}get content002(){return this.content}get content003(){return this.content}get content004(){return this.content}get createdDate(){if(this.content004.created)return new Date(Number(this.content004.created))}compare(e){if(this.version!==e.version)return!1;if([n.ProtocolVersion.V004,n.ProtocolVersion.V003].includes(this.version))return this.identifier===e.identifier&&this.content004.pw_nonce===e.content003.pw_nonce;if([n.ProtocolVersion.V002,n.ProtocolVersion.V001].includes(this.version))return this.identifier===e.identifier&&this.content002.pw_salt===e.content001.pw_salt;throw Error(\"Unhandled version in KeyParams.compare\")}getPortableValue(){return(0,i.pickByCopy)(this.content,s.ValidKeyParamsKeys)}}},29153:(e,t)=>{Object.defineProperty(t,\"__esModule\",{value:!0}),t.ValidKeyParamsKeys=void 0,t.ValidKeyParamsKeys=[\"identifier\",\"pw_cost\",\"pw_nonce\",\"pw_salt\",\"version\",\"origination\",\"created\"]},83262:(e,t,r)=>{Object.defineProperty(t,\"__esModule\",{value:!0}),t.KeyRecoveryStrings=void 0;const n=r(10256);t.KeyRecoveryStrings={KeyRecoveryLoginFlowPrompt:e=>{var t;const r=null===(t=e.createdDate)||void 0===t?void 0:t.toLocaleString();switch(e.origination){case n.KeyParamsOrigination.EmailChange:return\"Enter your account password as it was when you changed your email on \".concat(r,\".\");case n.KeyParamsOrigination.PasswordChange:return\"Enter your account password after it was changed on \".concat(r,\".\");case n.KeyParamsOrigination.Registration:return\"Enter your account password as it was when you registered \".concat(r,\".\");case n.KeyParamsOrigination.ProtocolUpgrade:return\"Enter your account password as it was when you upgraded your encryption version on \".concat(r,\".\");case n.KeyParamsOrigination.PasscodeChange:return\"Enter your application passcode after it was changed on \".concat(r,\".\");case n.KeyParamsOrigination.PasscodeCreate:return\"Enter your application passcode as it was when you created it on \".concat(r,\".\");default:throw Error(\"Unhandled KeyParamsOrigination case for KeyRecoveryLoginFlowPrompt\")}},KeyRecoveryLoginFlowReason:\"Your account password is required to revalidate your session.\",KeyRecoveryLoginFlowInvalidPassword:\"Incorrect credentials entered. Please try again.\",KeyRecoveryRootKeyReplaced:\"Your credentials have successfully been updated.\",KeyRecoveryPasscodeRequiredTitle:\"Passcode Required\",KeyRecoveryPasscodeRequiredText:\"You must enter your passcode in order to save your new credentials.\",KeyRecoveryPasswordRequired:\"Your account password is required to recover an encryption key.\",KeyRecoveryKeyRecovered:\"Your key has successfully been recovered.\",KeyRecoveryUnableToRecover:\"Unable to recover your key with the attempted password. Please try again.\"}},94466:function(e,t,r){var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function s(e){try{c(n.next(e))}catch(e){o(e)}}function a(e){try{c(n.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,\"__esModule\",{value:!0}),t.SNProtocolOperator001=void 0;const i=r(10256),o=r(16418),s=r(64657),a=r(55665),c=r(20593),l=r(28809),u=r(73913),d=\"00000000000000000000000000000000\";t.SNProtocolOperator001=class{constructor(e){this.crypto=e}getEncryptionDisplayName(){return\"AES-256\"}get version(){return i.ProtocolVersion.V001}generateNewItemsKeyContent(){const e=a.V001Algorithm.EncryptionKeyLength,t=this.crypto.generateRandomKey(e);return(0,o.FillItemContent)({itemsKey:t,version:i.ProtocolVersion.V001})}createItemsKey(){const e=new o.DecryptedPayload(Object.assign({uuid:s.UuidGenerator.GenerateUuid(),content_type:i.ContentType.ItemsKey,content:this.generateNewItemsKeyContent()},(0,o.PayloadTimestampDefaults)()));return(0,o.CreateDecryptedItemFromPayload)(e)}createRootKey(e,t,r){return n(this,void 0,void 0,(function*(){const n=a.V001Algorithm.PbkdfMinCost,o=this.crypto.generateRandomKey(a.V001Algorithm.SaltSeedLength),s=yield this.crypto.unsafeSha1(e+\"SN\"+o),c=(0,u.Create001KeyParams)({email:e,pw_cost:n,pw_nonce:o,pw_salt:s,version:i.ProtocolVersion.V001,origination:r,created:\"\".concat(Date.now())});return this.deriveKey(t,c)}))}getPayloadAuthenticatedData(e){}computeRootKey(e,t){return n(this,void 0,void 0,(function*(){return this.deriveKey(e,t)}))}decryptString(e,t){return n(this,void 0,void 0,(function*(){return this.crypto.aes256CbcDecrypt(e,d,t)}))}encryptString(e,t){return n(this,void 0,void 0,(function*(){return this.crypto.aes256CbcEncrypt(e,d,t)}))}generateEncryptedParametersAsync(e,t){return n(this,void 0,void 0,(function*(){const r=this.crypto.generateRandomKey(2*a.V001Algorithm.EncryptionKeyLength),n=yield this.encryptString(r,t.itemsKey),i=(0,s.firstHalfOfString)(r),o=(0,s.secondHalfOfString)(r),l=yield this.encryptString(JSON.stringify(e.content),i),u=t.keyVersion+l,d=yield this.crypto.hmac256(u,o);if(!d)throw Error(\"Error generating hmac256 authHash\");return{uuid:e.uuid,items_key_id:(0,c.isItemsKey)(t)?t.uuid:void 0,content:u,enc_item_key:n,auth_hash:d,version:this.version}}))}generateDecryptedParametersAsync(e,t){return n(this,void 0,void 0,(function*(){if(!e.enc_item_key)return console.error(Error(\"Missing item encryption key, skipping decryption.\")),{uuid:e.uuid,errorDecrypting:!0};let r=e.enc_item_key;r=this.version+r;const n=this.encryptionComponentsFromString(r,t.itemsKey),i=yield this.decryptString(n.ciphertext,n.key);if(!i)return console.error(\"Error decrypting parameters\",e),{uuid:e.uuid,errorDecrypting:!0};const o=(0,s.firstHalfOfString)(i),a=this.encryptionComponentsFromString(e.content,o),c=yield this.decryptString(a.ciphertext,a.key);return c?{uuid:e.uuid,content:JSON.parse(c)}:{uuid:e.uuid,errorDecrypting:!0}}))}encryptionComponentsFromString(e,t){const r=e.substring(0,i.ProtocolVersionLength);return{ciphertext:e.substring(i.ProtocolVersionLength,e.length),version:r,key:t}}deriveKey(e,t){return n(this,void 0,void 0,(function*(){const r=yield this.crypto.pbkdf2(e,t.content001.pw_salt,t.content001.pw_cost,a.V001Algorithm.PbkdfOutputLength);if(!r)throw Error(\"Error deriving PBKDF2 key\");const n=(0,s.splitString)(r,2);return(0,l.CreateNewRootKey)({serverPassword:n[0],masterKey:n[1],version:i.ProtocolVersion.V001,keyParams:t.getPortableValue()})}))}}},91938:function(e,t,r){var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function s(e){try{c(n.next(e))}catch(e){o(e)}}function a(e){try{c(n.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,\"__esModule\",{value:!0}),t.SNProtocolOperator002=void 0;const i=r(10256),o=r(16418),s=r(16418),a=r(64657),c=r(64657),l=r(55665),u=r(20593),d=r(28809),p=r(73913),h=r(80026),y=r(94466);class v extends y.SNProtocolOperator001{get version(){return i.ProtocolVersion.V002}generateNewItemsKeyContent(){const e=l.V002Algorithm.EncryptionKeyLength,t=this.crypto.generateRandomKey(e),r=this.crypto.generateRandomKey(e);return o.FillItemContent({itemsKey:t,dataAuthenticationKey:r,version:i.ProtocolVersion.V002})}createItemsKey(){const e=new o.DecryptedPayload(Object.assign({uuid:c.UuidGenerator.GenerateUuid(),content_type:i.ContentType.ItemsKey,content:this.generateNewItemsKeyContent()},(0,s.PayloadTimestampDefaults)()));return o.CreateDecryptedItemFromPayload(e)}createRootKey(e,t,r){return n(this,void 0,void 0,(function*(){const n=a.lastElement(l.V002Algorithm.PbkdfCostsUsed),o=this.crypto.generateRandomKey(l.V002Algorithm.SaltSeedLength),s=yield this.crypto.unsafeSha1(e+\":\"+o),c=(0,p.Create002KeyParams)({email:e,pw_nonce:o,pw_cost:n,pw_salt:s,version:i.ProtocolVersion.V002,origination:r,created:\"\".concat(Date.now())});return this.deriveKey(t,c)}))}computeRootKey(e,t){return n(this,void 0,void 0,(function*(){return this.deriveKey(e,t)}))}decryptString002(e,t,r){return n(this,void 0,void 0,(function*(){return this.crypto.aes256CbcDecrypt(e,r,t)}))}encryptString002(e,t,r){return n(this,void 0,void 0,(function*(){return this.crypto.aes256CbcEncrypt(e,r,t)}))}encryptTextParams(e,t,r,i,o,s){return n(this,void 0,void 0,(function*(){const n=this.crypto.generateRandomKey(l.V002Algorithm.EncryptionIvLength),a=yield this.encryptString002(e,t,n),c=[o,i,n,a].join(\":\"),u=yield this.crypto.hmac256(c,r);if(!u)throw Error(\"Error generating hmac256 authHash\");const d=[o,u,i,n,a];if(s){const e=this.crypto.base64Encode(JSON.stringify(s.content));d.push(e)}return d.join(\":\")}))}decryptTextParams(e,t,r,i,o,s){return n(this,void 0,void 0,(function*(){if(!r)throw\"Attempting to decryptTextParams with null encryptionKey\";const n=yield this.crypto.hmac256(e,s);if(!n)throw Error(\"Error generating hmac256 localAuthHash\");return!1===this.crypto.timingSafeEqual(o,n)?(console.error(Error(\"Auth hash does not match.\")),null):this.decryptString002(t,r,i)}))}getPayloadAuthenticatedData(e){const t=this.encryptionComponentsFromString002(e.enc_item_key).keyParams;if(!t)return;const r=JSON.parse(this.crypto.base64Decode(t));return Object.assign({},r)}generateEncryptedParametersAsync(e,t){return n(this,void 0,void 0,(function*(){const r=this.crypto.generateRandomKey(2*l.V002Algorithm.EncryptionKeyLength),n=yield this.encryptTextParams(r,t.itemsKey,t.dataAuthenticationKey,e.uuid,t.keyVersion,t instanceof h.SNRootKey?t.keyParams:void 0),i=a.firstHalfOfString(r),o=a.secondHalfOfString(r),s=yield this.encryptTextParams(JSON.stringify(e.content),i,o,e.uuid,t.keyVersion,t instanceof h.SNRootKey?t.keyParams:void 0);return{uuid:e.uuid,items_key_id:(0,u.isItemsKey)(t)?t.uuid:void 0,content:s,enc_item_key:n,version:this.version}}))}generateDecryptedParametersAsync(e,t){return n(this,void 0,void 0,(function*(){if(!e.enc_item_key)return console.error(Error(\"Missing item encryption key, skipping decryption.\")),{uuid:e.uuid,errorDecrypting:!0};const r=e.enc_item_key,n=this.encryptionComponentsFromString002(r,t.itemsKey,t.dataAuthenticationKey),i=yield this.decryptTextParams(n.ciphertextToAuth,n.contentCiphertext,n.encryptionKey,n.iv,n.authHash,n.authKey);if(!i)return console.error(\"Error decrypting item_key parameters\",e),{uuid:e.uuid,errorDecrypting:!0};const o=a.firstHalfOfString(i),s=a.secondHalfOfString(i),c=this.encryptionComponentsFromString002(e.content,o,s),l=yield this.decryptTextParams(c.ciphertextToAuth,c.contentCiphertext,c.encryptionKey,c.iv,c.authHash,c.authKey);return l?{uuid:e.uuid,content:JSON.parse(l)}:{uuid:e.uuid,errorDecrypting:!0}}))}deriveKey(e,t){return n(this,void 0,void 0,(function*(){const r=yield this.crypto.pbkdf2(e,t.content002.pw_salt,t.content002.pw_cost,l.V002Algorithm.PbkdfOutputLength);if(!r)throw Error(\"Error deriving PBKDF2 key\");const n=a.splitString(r,3);return(0,d.CreateNewRootKey)({serverPassword:n[0],masterKey:n[1],dataAuthenticationKey:n[2],version:i.ProtocolVersion.V002,keyParams:t.getPortableValue()})}))}encryptionComponentsFromString002(e,t,r){const n=e.split(\":\");return{encryptionVersion:n[0],authHash:n[1],uuid:n[2],iv:n[3],contentCiphertext:n[4],keyParams:n[5],ciphertextToAuth:[n[0],n[2],n[3],n[4]].join(\":\"),encryptionKey:t,authKey:r}}}t.SNProtocolOperator002=v},22405:function(e,t,r){var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function s(e){try{c(n.next(e))}catch(e){o(e)}}function a(e){try{c(n.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,\"__esModule\",{value:!0}),t.SNProtocolOperator003=void 0;const i=r(10256),o=r(16418),s=r(64657),a=r(55665),c=r(28809),l=r(73913),u=r(91938);class d extends u.SNProtocolOperator002{get version(){return i.ProtocolVersion.V003}generateNewItemsKeyContent(){const e=a.V003Algorithm.EncryptionKeyLength,t=this.crypto.generateRandomKey(e),r=this.crypto.generateRandomKey(e);return(0,o.FillItemContent)({itemsKey:t,dataAuthenticationKey:r,version:i.ProtocolVersion.V003})}createItemsKey(){const e=this.generateNewItemsKeyContent(),t=new o.DecryptedPayload(Object.assign({uuid:s.UuidGenerator.GenerateUuid(),content_type:i.ContentType.ItemsKey,content:(0,o.FillItemContent)(e)},(0,o.PayloadTimestampDefaults)()));return(0,o.CreateDecryptedItemFromPayload)(t)}computeRootKey(e,t){return n(this,void 0,void 0,(function*(){return this.deriveKey(e,t)}))}deriveKey(e,t){return n(this,void 0,void 0,(function*(){const r=yield this.generateSalt(t.content003.identifier,i.ProtocolVersion.V003,a.V003Algorithm.PbkdfCost,t.content003.pw_nonce),n=yield this.crypto.pbkdf2(e,r,a.V003Algorithm.PbkdfCost,a.V003Algorithm.PbkdfOutputLength);if(!n)throw Error(\"Error deriving PBKDF2 key\");const o=(0,s.splitString)(n,3);return(0,c.CreateNewRootKey)({serverPassword:o[0],masterKey:o[1],dataAuthenticationKey:o[2],version:i.ProtocolVersion.V003,keyParams:t.getPortableValue()})}))}createRootKey(e,t,r){return n(this,void 0,void 0,(function*(){const n=i.ProtocolVersion.V003,o=this.crypto.generateRandomKey(a.V003Algorithm.SaltSeedLength),s=(0,l.Create003KeyParams)({identifier:e,pw_nonce:o,version:n,origination:r,created:\"\".concat(Date.now())});return this.deriveKey(t,s)}))}generateSalt(e,t,r,i){return n(this,void 0,void 0,(function*(){return yield this.crypto.sha256([e,\"SF\",t,r,i].join(\":\"))}))}}t.SNProtocolOperator003=d},70542:function(e,t,r){var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function s(e){try{c(n.next(e))}catch(e){o(e)}}function a(e){try{c(n.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,\"__esModule\",{value:!0}),t.SNProtocolOperator004=void 0;const i=r(10256),o=r(16418),s=r(16418),a=r(64657),c=r(55665),l=r(20593),u=r(28809),d=r(73913);t.SNProtocolOperator004=class{constructor(e){this.crypto=e}getEncryptionDisplayName(){return\"XChaCha20-Poly1305\"}get version(){return i.ProtocolVersion.V004}generateNewItemsKeyContent(){const e=this.crypto.generateRandomKey(c.V004Algorithm.EncryptionKeyLength);return(0,s.FillItemContent)({itemsKey:e,version:i.ProtocolVersion.V004})}createItemsKey(){const e=new o.DecryptedPayload(Object.assign({uuid:a.UuidGenerator.GenerateUuid(),content_type:i.ContentType.ItemsKey,content:this.generateNewItemsKeyContent()},(0,s.PayloadTimestampDefaults)()));return(0,s.CreateDecryptedItemFromPayload)(e)}generateSalt004(e,t){return n(this,void 0,void 0,(function*(){const r=yield this.crypto.sha256([e,t].join(\":\"));return a.truncateHexString(r,c.V004Algorithm.ArgonSaltLength)}))}computeRootKey(e,t){return n(this,void 0,void 0,(function*(){return this.deriveKey(e,t)}))}createRootKey(e,t,r){return n(this,void 0,void 0,(function*(){const n=i.ProtocolVersion.V004,o=this.crypto.generateRandomKey(c.V004Algorithm.ArgonSaltSeedLength),s=(0,d.Create004KeyParams)({identifier:e,pw_nonce:o,version:n,origination:r,created:\"\".concat(Date.now())});return this.deriveKey(t,s)}))}encryptString004(e,t,r,n){if(!r)throw\"encryptString null nonce\";if(!t)throw\"encryptString null rawKey\";return this.crypto.xchacha20Encrypt(e,r,t,this.authenticatedDataToString(n))}decryptString004(e,t,r,n){return this.crypto.xchacha20Decrypt(e,r,t,n)}generateEncryptionNonce(){return this.crypto.generateRandomKey(c.V004Algorithm.EncryptionNonceLength)}generateEncryptedProtocolString(e,t,r){const n=this.generateEncryptionNonce(),o=this.encryptString004(e,t,n,r);return[i.ProtocolVersion.V004,n,o,this.authenticatedDataToString(r)].join(\":\")}deconstructEncryptedPayloadString(e){const t=e.split(\":\");return{version:t[0],nonce:t[1],ciphertext:t[2],authenticatedData:t[3]}}getPayloadAuthenticatedData(e){const t=this.deconstructEncryptedPayloadString(e.enc_item_key).authenticatedData;return this.stringToAuthenticatedData(t)}generateAuthenticatedDataForPayload(e,t){const r={u:e.uuid,v:i.ProtocolVersion.V004};if((0,u.ContentTypeUsesRootKeyEncryption)(e.content_type))return Object.assign(Object.assign({},r),{kp:t.keyParams.content});if(!(0,l.isItemsKey)(t))throw Error(\"Attempting to use non-items key for regular item.\");return r}authenticatedDataToString(e){return this.crypto.base64Encode(JSON.stringify(a.sortedCopy(a.omitUndefinedCopy(e))))}stringToAuthenticatedData(e,t){const r=JSON.parse(this.crypto.base64Decode(e));return a.sortedCopy(Object.assign(Object.assign({},r),t))}generateEncryptedParametersSync(e,t){const r=this.crypto.generateRandomKey(c.V004Algorithm.EncryptionKeyLength),n=JSON.stringify(e.content),i=this.generateAuthenticatedDataForPayload(e,t),o=this.generateEncryptedProtocolString(n,r,i),s=this.generateEncryptedProtocolString(r,t.itemsKey,i);return{uuid:e.uuid,items_key_id:(0,l.isItemsKey)(t)?t.uuid:void 0,content:o,enc_item_key:s,version:this.version}}generateDecryptedParametersSync(e,t){const r=this.deconstructEncryptedPayloadString(e.enc_item_key),n=this.stringToAuthenticatedData(r.authenticatedData,{u:e.uuid,v:e.version}),i=this.authenticatedDataToString(n),o=this.decryptString004(r.ciphertext,t.itemsKey,r.nonce,i);if(!o)return console.error(\"Error decrypting itemKey parameters\",e),{uuid:e.uuid,errorDecrypting:!0};const s=this.deconstructEncryptedPayloadString(e.content),a=this.decryptString004(s.ciphertext,o,s.nonce,i);return a?{uuid:e.uuid,content:JSON.parse(a)}:{uuid:e.uuid,errorDecrypting:!0}}deriveKey(e,t){return n(this,void 0,void 0,(function*(){const r=yield this.generateSalt004(t.content004.identifier,t.content004.pw_nonce),n=this.crypto.argon2(e,r,c.V004Algorithm.ArgonIterations,c.V004Algorithm.ArgonMemLimit,c.V004Algorithm.ArgonOutputKeyBytes),o=a.splitString(n,2),s=o[0],l=o[1];return(0,u.CreateNewRootKey)({masterKey:s,serverPassword:l,version:i.ProtocolVersion.V004,keyParams:t.getPortableValue()})}))}}},26455:(e,t,r)=>{Object.defineProperty(t,\"__esModule\",{value:!0}),t.ProtocolOperator005=void 0;const n=r(55665),i=r(70542),o=\"005\",s=\"\".concat(o,\"_KeySym\"),a=\"\".concat(o,\"_KeyAsym\");class c extends i.SNProtocolOperator004{getEncryptionDisplayName(){return\"XChaCha20-Poly1305\"}get version(){return o}generateKeyPair(){return this.crypto.sodiumCryptoBoxGenerateKeypair()}asymmetricEncryptKey(e,t,r){const i=this.crypto.generateRandomKey(n.V005Algorithm.AsymmetricEncryptionNonceLength),o=this.crypto.sodiumCryptoBoxEasyEncrypt(e,i,t,r);return[a,i,o].join(\":\")}asymmetricDecryptKey(e,t,r){const n=e.split(\":\")[1];return this.crypto.sodiumCryptoBoxEasyDecrypt(e,n,t,r)}symmetricEncryptPrivateKey(e,t){if(64!==t.length)throw new Error(\"Symmetric key length must be 256 bits\");const r=this.crypto.generateRandomKey(n.V005Algorithm.SymmetricEncryptionNonceLength),i=this.crypto.xchacha20Encrypt(e,r,t);return[s,r,i].join(\":\")}symmetricDecryptPrivateKey(e,t){if(64!==t.length)throw new Error(\"Symmetric key length must be 256 bits\");const r=e.split(\":\")[1];return this.crypto.xchacha20Decrypt(e,r,t)}}t.ProtocolOperator005=c},2163:(e,t,r)=>{Object.defineProperty(t,\"__esModule\",{value:!0}),t.isAsyncOperator=t.createOperatorForVersion=void 0;const n=r(10256),i=r(94466),o=r(91938),s=r(22405),a=r(70542);t.createOperatorForVersion=function(e,t){if(e===n.ProtocolVersion.V001)return new i.SNProtocolOperator001(t);if(e===n.ProtocolVersion.V002)return new o.SNProtocolOperator002(t);if(e===n.ProtocolVersion.V003)return new s.SNProtocolOperator003(t);if(e===n.ProtocolVersion.V004)return new a.SNProtocolOperator004(t);throw Error(\"Unable to find operator for version \".concat(e))},t.isAsyncOperator=function(e){return void 0!==e.generateDecryptedParametersAsync}},89071:(e,t)=>{Object.defineProperty(t,\"__esModule\",{value:!0})},67913:(e,t,r)=>{Object.defineProperty(t,\"__esModule\",{value:!0}),t.OperatorManager=void 0;const n=r(10256),i=r(2163);t.OperatorManager=class{constructor(e){this.crypto=e,this.operators={},this.crypto=e}deinit(){this.crypto=void 0,this.operators={}}operatorForVersion(e){const t=e;let r=this.operators[t];return r||(r=(0,i.createOperatorForVersion)(e,this.crypto),this.operators[t]=r),r}defaultOperator(){return this.operatorForVersion(n.ProtocolVersionLatest)}}},8153:function(e,t,r){var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function s(e){try{c(n.next(e))}catch(e){o(e)}}function a(e){try{c(n.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,\"__esModule\",{value:!0}),t.decryptPayload=t.encryptPayload=void 0;const i=r(47463),o=r(2163);t.encryptPayload=function(e,t,r){return n(this,void 0,void 0,(function*(){const n=r.operatorForVersion(t.keyVersion);let i;if(i=(0,o.isAsyncOperator)(n)?yield n.generateEncryptedParametersAsync(e,t):n.generateEncryptedParametersSync(e,t),!i)throw\"Unable to generate encryption parameters\";return i}))},t.decryptPayload=function(e,t,r){return n(this,void 0,void 0,(function*(){const n=r.operatorForVersion(e.version);try{return(0,o.isAsyncOperator)(n)?yield n.generateDecryptedParametersAsync((0,i.encryptedParametersFromPayload)(e),t):n.generateDecryptedParametersSync((0,i.encryptedParametersFromPayload)(e),t)}catch(t){return console.error(\"Error decrypting payload\",e,t),{uuid:e.uuid,errorDecrypting:!0}}}))}},20547:(e,t)=>{Object.defineProperty(t,\"__esModule\",{value:!0})},76379:(e,t)=>{Object.defineProperty(t,\"__esModule\",{value:!0}),t.findDefaultItemsKey=void 0,t.findDefaultItemsKey=function(e){if(1===e.length)return e[0];const t=e.filter((e=>e.isDefault));if(t.length>1){const e=t.filter((e=>!e.neverSynced));if(e.length>0)return e[0]}return t[0]}},8708:(e,t)=>{var r;Object.defineProperty(t,\"__esModule\",{value:!0}),t.KeyMode=void 0,(r=t.KeyMode||(t.KeyMode={}))[r.RootKeyNone=0]=\"RootKeyNone\",r[r.RootKeyOnly=1]=\"RootKeyOnly\",r[r.RootKeyPlusWrapper=2]=\"RootKeyPlusWrapper\",r[r.WrapperOnly=3]=\"WrapperOnly\"},18652:(e,t)=>{Object.defineProperty(t,\"__esModule\",{value:!0}),t.RootKeyServiceEvent=void 0,(t.RootKeyServiceEvent||(t.RootKeyServiceEvent={})).RootKeyStatusChanged=\"RootKeyStatusChanged\"},79874:(e,t)=>{Object.defineProperty(t,\"__esModule\",{value:!0})},2536:(e,t)=>{Object.defineProperty(t,\"__esModule\",{value:!0}),t.FindPayloadInDecryptionSplit=t.FindPayloadInEncryptionSplit=t.CreateDecryptionSplitWithKeyLookup=t.CreateEncryptionSplitWithKeyLookup=void 0,t.CreateEncryptionSplitWithKeyLookup=function(e){const t={};return e.rootKeyEncryption&&(t.usesRootKeyWithKeyLookup={items:e.rootKeyEncryption}),e.itemsKeyEncryption&&(t.usesItemsKeyWithKeyLookup={items:e.itemsKeyEncryption}),t},t.CreateDecryptionSplitWithKeyLookup=function(e){const t={};return e.rootKeyEncryption&&(t.usesRootKeyWithKeyLookup={items:e.rootKeyEncryption}),e.itemsKeyEncryption&&(t.usesItemsKeyWithKeyLookup={items:e.itemsKeyEncryption}),t},t.FindPayloadInEncryptionSplit=function(e,t){var r,n,i,o;const s=null===(r=t.usesItemsKey)||void 0===r?void 0:r.items.find((t=>t.uuid===e));if(s)return s;const a=null===(n=t.usesRootKey)||void 0===n?void 0:n.items.find((t=>t.uuid===e));if(a)return a;const c=null===(i=t.usesItemsKeyWithKeyLookup)||void 0===i?void 0:i.items.find((t=>t.uuid===e));if(c)return c;const l=null===(o=t.usesRootKeyWithKeyLookup)||void 0===o?void 0:o.items.find((t=>t.uuid===e));if(l)return l;throw Error(\"Cannot find payload in encryption split\")},t.FindPayloadInDecryptionSplit=function(e,t){var r,n,i,o;const s=null===(r=t.usesItemsKey)||void 0===r?void 0:r.items.find((t=>t.uuid===e));if(s)return s;const a=null===(n=t.usesRootKey)||void 0===n?void 0:n.items.find((t=>t.uuid===e));if(a)return a;const c=null===(i=t.usesItemsKeyWithKeyLookup)||void 0===i?void 0:i.items.find((t=>t.uuid===e));if(c)return c;const l=null===(o=t.usesRootKeyWithKeyLookup)||void 0===o?void 0:o.items.find((t=>t.uuid===e));if(l)return l;throw Error(\"Cannot find payload in encryption split\")}},74258:(e,t)=>{Object.defineProperty(t,\"__esModule\",{value:!0})},73650:(e,t,r)=>{Object.defineProperty(t,\"__esModule\",{value:!0}),t.SplitPayloadsByEncryptionType=void 0;const n=r(28809);t.SplitPayloadsByEncryptionType=function(e){const t=[],r=[];for(const i of e)(0,n.ItemContentTypeUsesRootKeyEncryption)(i.content_type)?t.push(i):r.push(i);return{rootKeyEncryption:t.length>0?t:void 0,itemsKeyEncryption:r.length>0?r:void 0}}},86760:(e,t)=>{Object.defineProperty(t,\"__esModule\",{value:!0})},85488:(e,t)=>{Object.defineProperty(t,\"__esModule\",{value:!0})},25072:(e,t)=>{Object.defineProperty(t,\"__esModule\",{value:!0}),t.StandardException=void 0,t.StandardException=class{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.message=e,t&&console.error(\"StandardException raised: \",e)}}},47463:(e,t)=>{Object.defineProperty(t,\"__esModule\",{value:!0}),t.encryptedParametersFromPayload=t.isErrorDecryptingParameters=void 0,t.isErrorDecryptingParameters=function(e){return e.errorDecrypting},t.encryptedParametersFromPayload=function(e){return{uuid:e.uuid,content:e.content,items_key_id:e.items_key_id,enc_item_key:e.enc_item_key,version:e.version,auth_hash:e.auth_hash}}},64486:(e,t)=>{Object.defineProperty(t,\"__esModule\",{value:!0})},74195:(e,t)=>{Object.defineProperty(t,\"__esModule\",{value:!0})},68053:(e,t)=>{Object.defineProperty(t,\"__esModule\",{value:!0})},41025:function(e,t){var r=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function s(e){try{c(n.next(e))}catch(e){o(e)}}function a(e){try{c(n.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,\"__esModule\",{value:!0}),t.ComputePrivateUsername=void 0,t.ComputePrivateUsername=function(e,t){return r(this,void 0,void 0,(function*(){const r=yield e.hmac256(yield e.sha256(\"StandardNotes-PrivateUsername-V1\"),yield e.sha256(t.trim().toLowerCase()));if(null!=r)return r}))}},72691:function(e,t,r){var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!(\"get\"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)\"default\"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,\"__esModule\",{value:!0}),i(r(55665),t),i(r(11393),t),i(r(20593),t),i(r(73756),t),i(r(11542),t),i(r(28809),t),i(r(73913),t),i(r(41671),t),i(r(80026),t),i(r(2392),t),i(r(29153),t),i(r(83262),t),i(r(94466),t),i(r(91938),t),i(r(22405),t),i(r(70542),t),i(r(26455),t),i(r(2163),t),i(r(89071),t),i(r(67913),t),i(r(8153),t),i(r(20547),t),i(r(76379),t),i(r(8708),t),i(r(18652),t),i(r(79874),t),i(r(2536),t),i(r(74258),t),i(r(73650),t),i(r(86760),t),i(r(85488),t),i(r(25072),t),i(r(47463),t),i(r(64486),t),i(r(74195),t),i(r(68053),t),i(r(41025),t)},75082:function(e,t,r){var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!(\"get\"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)\"default\"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,\"__esModule\",{value:!0}),i(r(72691),t)},13187:(e,t)=>{var r;Object.defineProperty(t,\"__esModule\",{value:!0}),t.ComponentAction=void 0,(r=t.ComponentAction||(t.ComponentAction={})).SetSize=\"set-size\",r.StreamItems=\"stream-items\",r.StreamContextItem=\"stream-context-item\",r.SaveItems=\"save-items\",r.SelectItem=\"select-item\",r.AssociateItem=\"associate-item\",r.DeassociateItem=\"deassociate-item\",r.ClearSelection=\"clear-selection\",r.CreateItem=\"create-item\",r.CreateItems=\"create-items\",r.DeleteItems=\"delete-items\",r.SetComponentData=\"set-component-data\",r.ToggleActivateComponent=\"toggle-activate-component\",r.RequestPermissions=\"request-permissions\",r.PresentConflictResolution=\"present-conflict-resolution\",r.DuplicateItem=\"duplicate-item\",r.ComponentRegistered=\"component-registered\",r.ActivateThemes=\"themes\",r.Reply=\"reply\",r.ThemesActivated=\"themes-activated\",r.KeyDown=\"key-down\",r.KeyUp=\"key-up\",r.Click=\"click\"},6793:(e,t)=>{var r;Object.defineProperty(t,\"__esModule\",{value:!0}),t.ComponentArea=void 0,(r=t.ComponentArea||(t.ComponentArea={})).Editor=\"editor-editor\",r.Themes=\"themes\",r.EditorStack=\"editor-stack\"},69266:(e,t)=>{var r;Object.defineProperty(t,\"__esModule\",{value:!0}),t.ComponentFlag=void 0,(r=t.ComponentFlag||(t.ComponentFlag={})).New=\"New\",r.Deprecated=\"Deprecated\"},23444:(e,t)=>{Object.defineProperty(t,\"__esModule\",{value:!0})},31777:(e,t)=>{var r;Object.defineProperty(t,\"__esModule\",{value:!0}),t.NoteType=void 0,(r=t.NoteType||(t.NoteType={})).Authentication=\"authentication\",r.Code=\"code\",r.Markdown=\"markdown\",r.RichText=\"rich-text\",r.Spreadsheet=\"spreadsheet\",r.Task=\"task\",r.Plain=\"plain-text\"},11882:(e,t)=>{Object.defineProperty(t,\"__esModule\",{value:!0})},89877:(e,t)=>{Object.defineProperty(t,\"__esModule\",{value:!0})},32772:(e,t)=>{var r;Object.defineProperty(t,\"__esModule\",{value:!0}),t.ExperimentalFeatures=t.LegacyFileSafeIdentifier=t.FeatureIdentifier=void 0,(r=t.FeatureIdentifier||(t.FeatureIdentifier={})).AccountSwitcher=\"com.standardnotes.account-switcher\",r.CloudLink=\"org.standardnotes.cloudlink\",r.DailyDropboxBackup=\"org.standardnotes.daily-dropbox-backup\",r.DailyEmailBackup=\"org.standardnotes.daily-email-backup\",r.DailyGDriveBackup=\"org.standardnotes.daily-gdrive-backup\",r.DailyOneDriveBackup=\"org.standardnotes.daily-onedrive-backup\",r.Files=\"org.standardnotes.files\",r.FilesBeta=\"org.standardnotes.files-beta\",r.FilesLowStorageTier=\"org.standardnotes.files-low-storage-tier\",r.FilesMaximumStorageTier=\"org.standardnotes.files-max-storage-tier\",r.ListedCustomDomain=\"org.standardnotes.listed-custom-domain\",r.NoteHistory30Days=\"org.standardnotes.note-history-30\",r.NoteHistory365Days=\"org.standardnotes.note-history-365\",r.NoteHistoryUnlimited=\"org.standardnotes.note-history-unlimited\",r.SignInAlerts=\"com.standardnotes.sign-in-alerts\",r.SmartFilters=\"org.standardnotes.smart-filters\",r.TagNesting=\"org.standardnotes.tag-nesting\",r.TwoFactorAuth=\"org.standardnotes.two-factor-auth\",r.SubscriptionSharing=\"org.standardnotes.subscription-sharing\",r.AutobiographyTheme=\"org.standardnotes.theme-autobiography\",r.DynamicTheme=\"org.standardnotes.theme-dynamic\",r.DarkTheme=\"org.standardnotes.theme-focus\",r.FocusMode=\"org.standardnotes.focus-mode\",r.FuturaTheme=\"org.standardnotes.theme-futura\",r.MidnightTheme=\"org.standardnotes.theme-midnight\",r.SolarizedDarkTheme=\"org.standardnotes.theme-solarized-dark\",r.TitaniumTheme=\"org.standardnotes.theme-titanium\",r.CodeEditor=\"org.standardnotes.code-editor\",r.MarkdownProEditor=\"org.standardnotes.advanced-markdown-editor\",r.MarkdownVisualEditor=\"org.standardnotes.markdown-visual-editor\",r.PlainTextEditor=\"org.standardnotes.plain-text-editor\",r.PlusEditor=\"org.standardnotes.plus-editor\",r.SheetsEditor=\"org.standardnotes.standard-sheets\",r.TaskEditor=\"org.standardnotes.simple-task-editor\",r.TokenVaultEditor=\"org.standardnotes.token-vault\",r.DeprecatedBoldEditor=\"org.standardnotes.bold-editor\",r.DeprecatedMarkdownBasicEditor=\"org.standardnotes.simple-markdown-editor\",r.DeprecatedMarkdownMathEditor=\"org.standardnotes.fancy-markdown-editor\",r.DeprecatedMarkdownMinimistEditor=\"org.standardnotes.minimal-markdown-editor\",r.DeprecatedFoldersComponent=\"org.standardnotes.folders\",r.DeprecatedFileSafe=\"org.standardnotes.file-safe\",t.LegacyFileSafeIdentifier=\"org.standardnotes.legacy.file-safe\",t.ExperimentalFeatures=[]},63001:(e,t,r)=>{Object.defineProperty(t,\"__esModule\",{value:!0}),t.FindNativeFeature=t.GetFeaturesForSubscription=t.GetFeatures=void 0;const n=r(45868),i=r(95143),o=r(83037),s=r(91375),a=r(34533),c=r(23712);function l(){return[...(0,i.themes)(),...(0,n.editors)(),...(0,o.serverFeatures)(),...(0,s.clientFeatures)(),...(0,c.experimentalFeatures)(),...(0,a.GetDeprecatedFeatures)()]}t.GetFeatures=l,t.GetFeaturesForSubscription=function(e){return l().filter((t=>t.availableInSubscriptions.includes(e)))},t.FindNativeFeature=function(e){return l().find((t=>t.identifier===e))}},91375:(e,t,r)=>{Object.defineProperty(t,\"__esModule\",{value:!0}),t.clientFeatures=void 0;const n=r(92680),i=r(32772),o=r(10256);t.clientFeatures=function(){return[{availableInSubscriptions:[o.SubscriptionName.PlusPlan,o.SubscriptionName.ProPlan],name:\"Tag Nesting\",identifier:i.FeatureIdentifier.TagNesting,permission_name:n.PermissionName.TagNesting,description:\"Organize your tags into folders.\"},{availableInSubscriptions:[o.SubscriptionName.PlusPlan,o.SubscriptionName.ProPlan],name:\"Smart Filters\",identifier:i.FeatureIdentifier.SmartFilters,permission_name:n.PermissionName.SmartFilters,description:\"Create smart filters for viewing notes matching specific criteria.\"},{availableInSubscriptions:[o.SubscriptionName.PlusPlan,o.SubscriptionName.ProPlan],name:\"Encrypted files (coming soon)\",identifier:i.FeatureIdentifier.Files,permission_name:n.PermissionName.Files,description:\"\"},{availableInSubscriptions:[o.SubscriptionName.PlusPlan,o.SubscriptionName.ProPlan],name:\"Encrypted files beta\",identifier:i.FeatureIdentifier.FilesBeta,permission_name:n.PermissionName.FilesBeta,description:\"\"},{availableInSubscriptions:[o.SubscriptionName.PlusPlan,o.SubscriptionName.ProPlan],name:\"Focus Mode\",identifier:i.FeatureIdentifier.FocusMode,permission_name:n.PermissionName.FocusMode,description:\"\"},{availableInSubscriptions:[o.SubscriptionName.PlusPlan,o.SubscriptionName.ProPlan],name:\"Listed Custom Domain\",identifier:i.FeatureIdentifier.ListedCustomDomain,permission_name:n.PermissionName.ListedCustomDomain,description:\"\"},{availableInSubscriptions:[o.SubscriptionName.PlusPlan,o.SubscriptionName.ProPlan],name:\"Multiple accounts\",identifier:i.FeatureIdentifier.AccountSwitcher,permission_name:n.PermissionName.AccountSwitcher,description:\"\"}]}},34533:(e,t,r)=>{Object.defineProperty(t,\"__esModule\",{value:!0}),t.GetDeprecatedFeatures=void 0;const n=r(10256),i=r(92680),o=r(32772),s=r(31777),a=r(23822),c=r(13187),l=r(6793);t.GetDeprecatedFeatures=function(){return[(0,a.FillEditorComponentDefaults)({availableInSubscriptions:[n.SubscriptionName.PlusPlan,n.SubscriptionName.ProPlan],name:\"Alternative Rich Text\",identifier:o.FeatureIdentifier.DeprecatedBoldEditor,note_type:s.NoteType.RichText,file_type:\"html\",component_permissions:[{name:c.ComponentAction.StreamContextItem,content_types:[n.ContentType.Note]},{name:c.ComponentAction.StreamItems,content_types:[n.ContentType.FilesafeCredentials,n.ContentType.FilesafeFileMetadata,n.ContentType.FilesafeIntegration]}],spellcheckControl:!0,deprecated:!0,permission_name:i.PermissionName.BoldEditor,description:\"A simple and peaceful rich editor that helps you write and think clearly.\",thumbnail_url:\"https://s3.amazonaws.com/standard-notes/screenshots/models/editors/bold.jpg\"}),(0,a.FillEditorComponentDefaults)({availableInSubscriptions:[n.SubscriptionName.PlusPlan,n.SubscriptionName.ProPlan],name:\"Basic Markdown\",identifier:o.FeatureIdentifier.DeprecatedMarkdownBasicEditor,note_type:s.NoteType.Markdown,spellcheckControl:!0,file_type:\"md\",deprecated:!0,permission_name:i.PermissionName.MarkdownBasicEditor,description:\"A Markdown editor with dynamic split-pane preview.\",thumbnail_url:\"https://s3.amazonaws.com/standard-notes/screenshots/models/editors/simple-markdown.jpg\"}),(0,a.FillEditorComponentDefaults)({availableInSubscriptions:[n.SubscriptionName.PlusPlan,n.SubscriptionName.ProPlan],name:\"Minimal Markdown\",identifier:o.FeatureIdentifier.DeprecatedMarkdownMinimistEditor,note_type:s.NoteType.Markdown,file_type:\"md\",index_path:\"index.html\",permission_name:i.PermissionName.MarkdownMinimistEditor,spellcheckControl:!0,deprecated:!0,description:\"A minimal Markdown editor with live rendering and in-text search via Ctrl/Cmd + F\",thumbnail_url:\"https://s3.amazonaws.com/standard-notes/screenshots/models/editors/min-markdown.jpg\"}),(0,a.FillEditorComponentDefaults)({availableInSubscriptions:[n.SubscriptionName.PlusPlan,n.SubscriptionName.ProPlan],name:\"Markdown with Math\",identifier:o.FeatureIdentifier.DeprecatedMarkdownMathEditor,spellcheckControl:!0,permission_name:i.PermissionName.MarkdownMathEditor,note_type:s.NoteType.Markdown,file_type:\"md\",deprecated:!0,index_path:\"index.html\",description:\"A beautiful split-pane Markdown editor with synced-scroll, LaTeX support, and colorful syntax.\",thumbnail_url:\"https://s3.amazonaws.com/standard-notes/screenshots/models/editors/fancy-markdown.jpg\"}),(0,a.FillEditorComponentDefaults)({availableInSubscriptions:[n.SubscriptionName.PlusPlan,n.SubscriptionName.ProPlan],name:\"FileSafe\",identifier:o.FeatureIdentifier.DeprecatedFileSafe,component_permissions:[{name:c.ComponentAction.StreamContextItem,content_types:[n.ContentType.Note]},{name:c.ComponentAction.StreamItems,content_types:[n.ContentType.FilesafeCredentials,n.ContentType.FilesafeFileMetadata,n.ContentType.FilesafeIntegration]}],permission_name:i.PermissionName.ComponentFilesafe,area:l.ComponentArea.EditorStack,deprecated:!0,description:\"Encrypted attachments for your notes using your Dropbox, Google Drive, or WebDAV server. Limited to 50MB per file.\",thumbnail_url:\"https://s3.amazonaws.com/standard-notes/screenshots/models/FileSafe-banner.png\"})]}},45868:(e,t,r)=>{Object.defineProperty(t,\"__esModule\",{value:!0}),t.editors=void 0;const n=r(10256),i=r(92680),o=r(32772),s=r(31777),a=r(23822);t.editors=function(){return[(0,a.FillEditorComponentDefaults)({availableInSubscriptions:[n.SubscriptionName.PlusPlan,n.SubscriptionName.ProPlan],name:\"Code\",spellcheckControl:!0,identifier:o.FeatureIdentifier.CodeEditor,permission_name:i.PermissionName.CodeEditor,note_type:s.NoteType.Code,file_type:\"txt\",interchangeable:!0,index_path:\"index.html\",description:\"Syntax highlighting and convenient keyboard shortcuts for over 120 programming languages. Ideal for code snippets and procedures.\",thumbnail_url:\"https://s3.amazonaws.com/standard-notes/screenshots/models/editors/code.jpg\"}),(0,a.FillEditorComponentDefaults)({availableInSubscriptions:[n.SubscriptionName.PlusPlan,n.SubscriptionName.ProPlan],name:\"Rich Text\",note_type:s.NoteType.RichText,file_type:\"html\",identifier:o.FeatureIdentifier.PlusEditor,permission_name:i.PermissionName.PlusEditor,spellcheckControl:!0,description:\"From highlighting to custom font sizes and colors, to tables and lists, this editor is perfect for crafting any document.\",thumbnail_url:\"https://s3.amazonaws.com/standard-notes/screenshots/models/editors/plus-editor.jpg\"}),(0,a.FillEditorComponentDefaults)({availableInSubscriptions:[n.SubscriptionName.PlusPlan,n.SubscriptionName.ProPlan],name:\"Markdown\",identifier:o.FeatureIdentifier.MarkdownProEditor,note_type:s.NoteType.Markdown,file_type:\"md\",permission_name:i.PermissionName.MarkdownProEditor,spellcheckControl:!0,description:\"A fully featured Markdown editor that supports live preview, a styling toolbar, and split pane support.\",thumbnail_url:\"https://s3.amazonaws.com/standard-notes/screenshots/models/editors/adv-markdown.jpg\"}),(0,a.FillEditorComponentDefaults)({availableInSubscriptions:[n.SubscriptionName.PlusPlan,n.SubscriptionName.ProPlan],name:\"Markdown Alternative\",identifier:o.FeatureIdentifier.MarkdownVisualEditor,note_type:s.NoteType.Markdown,file_type:\"md\",permission_name:i.PermissionName.MarkdownVisualEditor,spellcheckControl:!0,description:\"A WYSIWYG-style Markdown editor that renders Markdown in preview-mode while you type without displaying any syntax.\",index_path:\"build/index.html\"}),(0,a.FillEditorComponentDefaults)({availableInSubscriptions:[n.SubscriptionName.PlusPlan,n.SubscriptionName.ProPlan],name:\"Checklist\",identifier:o.FeatureIdentifier.TaskEditor,note_type:s.NoteType.Task,spellcheckControl:!0,file_type:\"md\",interchangeable:!1,permission_name:i.PermissionName.TaskEditor,description:'A great way to manage short-term and long-term to-do\"s. You can mark tasks as completed, change their order, and edit the text naturally in place.',thumbnail_url:\"https://s3.amazonaws.com/standard-notes/screenshots/models/editors/task-editor.jpg\"}),(0,a.FillEditorComponentDefaults)({availableInSubscriptions:[n.SubscriptionName.PlusPlan,n.SubscriptionName.ProPlan],name:\"Authenticator\",note_type:s.NoteType.Authentication,file_type:\"json\",interchangeable:!1,identifier:o.FeatureIdentifier.TokenVaultEditor,permission_name:i.PermissionName.TokenVaultEditor,description:\"Encrypt and protect your 2FA secrets for all your internet accounts. Authenticator handles your 2FA secrets so that you never lose them again, or have to start over when you get a new device.\",thumbnail_url:\"https://standard-notes.s3.amazonaws.com/screenshots/models/editors/token-vault.png\"}),(0,a.FillEditorComponentDefaults)({availableInSubscriptions:[n.SubscriptionName.PlusPlan,n.SubscriptionName.ProPlan],name:\"Spreadsheet\",identifier:o.FeatureIdentifier.SheetsEditor,note_type:s.NoteType.Spreadsheet,file_type:\"json\",interchangeable:!1,permission_name:i.PermissionName.SheetsEditor,description:\"A powerful spreadsheet editor with formatting and formula support. Not recommended for large data sets, as encryption of such data may decrease editor performance.\",thumbnail_url:\"https://s3.amazonaws.com/standard-notes/screenshots/models/editors/spreadsheets.png\"})]}},23712:(e,t)=>{Object.defineProperty(t,\"__esModule\",{value:!0}),t.experimentalFeatures=void 0,t.experimentalFeatures=function(){return[]}},83037:(e,t,r)=>{Object.defineProperty(t,\"__esModule\",{value:!0}),t.serverFeatures=void 0;const n=r(92680),i=r(32772),o=r(10256);t.serverFeatures=function(){return[{availableInSubscriptions:[o.SubscriptionName.PlusPlan,o.SubscriptionName.ProPlan],name:\"Two factor authentication\",identifier:i.FeatureIdentifier.TwoFactorAuth,permission_name:n.PermissionName.TwoFactorAuth},{availableInSubscriptions:[o.SubscriptionName.ProPlan],name:\"Unlimited note history\",identifier:i.FeatureIdentifier.NoteHistoryUnlimited,permission_name:n.PermissionName.NoteHistoryUnlimited},{availableInSubscriptions:[o.SubscriptionName.PlusPlan],name:\"365 days note history\",identifier:i.FeatureIdentifier.NoteHistory365Days,permission_name:n.PermissionName.NoteHistory365Days},{availableInSubscriptions:[o.SubscriptionName.PlusPlan,o.SubscriptionName.ProPlan],name:\"Email backups\",identifier:i.FeatureIdentifier.DailyEmailBackup,permission_name:n.PermissionName.DailyEmailBackup},{availableInSubscriptions:[o.SubscriptionName.PlusPlan,o.SubscriptionName.ProPlan],name:\"Sign-in email alerts\",identifier:i.FeatureIdentifier.SignInAlerts,permission_name:n.PermissionName.SignInAlerts},{availableInSubscriptions:[o.SubscriptionName.PlusPlan,o.SubscriptionName.ProPlan],identifier:i.FeatureIdentifier.DailyDropboxBackup,permission_name:n.PermissionName.DailyDropboxBackup},{availableInSubscriptions:[o.SubscriptionName.PlusPlan,o.SubscriptionName.ProPlan],identifier:i.FeatureIdentifier.DailyGDriveBackup,permission_name:n.PermissionName.DailyGDriveBackup},{availableInSubscriptions:[o.SubscriptionName.PlusPlan,o.SubscriptionName.ProPlan],identifier:i.FeatureIdentifier.DailyOneDriveBackup,permission_name:n.PermissionName.DailyOneDriveBackup},{availableInSubscriptions:[o.SubscriptionName.ProPlan],identifier:i.FeatureIdentifier.FilesMaximumStorageTier,permission_name:n.PermissionName.FilesMaximumStorageTier},{availableInSubscriptions:[o.SubscriptionName.PlusPlan],identifier:i.FeatureIdentifier.FilesLowStorageTier,permission_name:n.PermissionName.FilesLowStorageTier},{availableInSubscriptions:[o.SubscriptionName.ProPlan],identifier:i.FeatureIdentifier.SubscriptionSharing,permission_name:n.PermissionName.SubscriptionSharing}]}},95143:(e,t,r)=>{Object.defineProperty(t,\"__esModule\",{value:!0}),t.themes=void 0;const n=r(92680),i=r(32772),o=r(62364),s=r(10256);t.themes=function(){return[(0,o.FillThemeComponentDefaults)({availableInSubscriptions:[s.SubscriptionName.PlusPlan,s.SubscriptionName.ProPlan],name:\"Midnight\",identifier:i.FeatureIdentifier.MidnightTheme,permission_name:n.PermissionName.MidnightTheme,description:\"Elegant utilitarianism.\",thumbnail_url:\"https://s3.amazonaws.com/standard-notes/screenshots/models/themes/midnight-with-mobile.jpg\",isDark:!0,dock_icon:{type:\"circle\",background_color:\"#086DD6\",foreground_color:\"#ffffff\",border_color:\"#086DD6\"}}),(0,o.FillThemeComponentDefaults)({availableInSubscriptions:[s.SubscriptionName.PlusPlan,s.SubscriptionName.ProPlan],name:\"Futura\",identifier:i.FeatureIdentifier.FuturaTheme,permission_name:n.PermissionName.FuturaTheme,description:\"Calm and relaxed. Take some time off.\",thumbnail_url:\"https://s3.amazonaws.com/standard-notes/screenshots/models/themes/futura-with-mobile.jpg\",isDark:!0,dock_icon:{type:\"circle\",background_color:\"#fca429\",foreground_color:\"#ffffff\",border_color:\"#fca429\"}}),(0,o.FillThemeComponentDefaults)({availableInSubscriptions:[s.SubscriptionName.PlusPlan,s.SubscriptionName.ProPlan],name:\"Solarized Dark\",identifier:i.FeatureIdentifier.SolarizedDarkTheme,permission_name:n.PermissionName.SolarizedDarkTheme,description:\"The perfect theme for any time.\",thumbnail_url:\"https://s3.amazonaws.com/standard-notes/screenshots/models/themes/solarized-dark.jpg\",isDark:!0,dock_icon:{type:\"circle\",background_color:\"#2AA198\",foreground_color:\"#ffffff\",border_color:\"#2AA198\"}}),(0,o.FillThemeComponentDefaults)({availableInSubscriptions:[s.SubscriptionName.PlusPlan,s.SubscriptionName.ProPlan],name:\"Autobiography\",identifier:i.FeatureIdentifier.AutobiographyTheme,permission_name:n.PermissionName.AutobiographyTheme,description:\"A theme for writers and readers.\",thumbnail_url:\"https://s3.amazonaws.com/standard-notes/screenshots/models/themes/autobiography.jpg\",dock_icon:{type:\"circle\",background_color:\"#9D7441\",foreground_color:\"#ECE4DB\",border_color:\"#9D7441\"}}),(0,o.FillThemeComponentDefaults)({availableInSubscriptions:[s.SubscriptionName.PlusPlan,s.SubscriptionName.ProPlan],name:\"Dark\",identifier:i.FeatureIdentifier.DarkTheme,permission_name:n.PermissionName.FocusedTheme,description:\"For when you need to go in.\",thumbnail_url:\"https://s3.amazonaws.com/standard-notes/screenshots/models/themes/focus-with-mobile.jpg\",isDark:!0,dock_icon:{type:\"circle\",background_color:\"#a464c2\",foreground_color:\"#ffffff\",border_color:\"#a464c2\"}}),(0,o.FillThemeComponentDefaults)({availableInSubscriptions:[s.SubscriptionName.PlusPlan,s.SubscriptionName.ProPlan],name:\"Titanium\",identifier:i.FeatureIdentifier.TitaniumTheme,permission_name:n.PermissionName.TitaniumTheme,description:\"Light on the eyes, heavy on the spirit.\",thumbnail_url:\"https://s3.amazonaws.com/standard-notes/screenshots/models/themes/titanium-with-mobile.jpg\",dock_icon:{type:\"circle\",background_color:\"#6e2b9e\",foreground_color:\"#ffffff\",border_color:\"#6e2b9e\"}}),(0,o.FillThemeComponentDefaults)({availableInSubscriptions:[s.SubscriptionName.PlusPlan,s.SubscriptionName.ProPlan],name:\"Dynamic Panels\",identifier:i.FeatureIdentifier.DynamicTheme,permission_name:n.PermissionName.ThemeDynamic,layerable:!0,no_mobile:!0,description:\"A smart theme that minimizes the tags and notes panels when they are not in use.\"})]}},23822:(e,t,r)=>{Object.defineProperty(t,\"__esModule\",{value:!0}),t.FillEditorComponentDefaults=void 0;const n=r(13187),i=r(10256),o=r(6793);t.FillEditorComponentDefaults=function(e){return e.index_path||(e.index_path=\"dist/index.html\"),e.component_permissions||(e.component_permissions=[{name:n.ComponentAction.StreamContextItem,content_types:[i.ContentType.Note]}]),e.content_type=i.ContentType.Component,e.area||(e.area=o.ComponentArea.Editor),null==e.interchangeable&&(e.interchangeable=!0),e}},62364:(e,t,r)=>{Object.defineProperty(t,\"__esModule\",{value:!0}),t.FillThemeComponentDefaults=void 0;const n=r(10256),i=r(6793);t.FillThemeComponentDefaults=function(e){return e.index_path||(e.index_path=\"dist/dist.css\"),e.content_type=n.ContentType.Theme,e.area||(e.area=i.ComponentArea.Themes),e}},3218:(e,t)=>{Object.defineProperty(t,\"__esModule\",{value:!0})},92680:(e,t)=>{var r;Object.defineProperty(t,\"__esModule\",{value:!0}),t.PermissionName=void 0,(r=t.PermissionName||(t.PermissionName={})).AccountSwitcher=\"app:account-switcher\",r.AutobiographyTheme=\"theme:autobiography\",r.BoldEditor=\"editor:bold\",r.CloudLink=\"component:cloud-link\",r.CodeEditor=\"editor:code-editor\",r.ComponentFilesafe=\"component:filesafe\",r.ComponentFolders=\"component:folders\",r.DailyDropboxBackup=\"server:daily-dropbox-backup\",r.DailyEmailBackup=\"server:daily-email-backup\",r.DailyGDriveBackup=\"server:daily-gdrive-backup\",r.DailyOneDriveBackup=\"server:daily-onedrive-backup\",r.FilesBeta=\"app:files-beta\",r.Files=\"app:files\",r.FilesMaximumStorageTier=\"server:files-max-storage-tier\",r.FilesLowStorageTier=\"server:files-low-storage-tier\",r.FocusedTheme=\"theme:focused\",r.FocusMode=\"app:focus-mode\",r.FuturaTheme=\"theme:futura\",r.ListedCustomDomain=\"listed:custom-domain\",r.MarkdownBasicEditor=\"editor:markdown-basic\",r.MarkdownMathEditor=\"editor:markdown-math\",r.MarkdownMinimistEditor=\"editor:markdown-minimist\",r.MarkdownProEditor=\"editor:markdown-pro\",r.MarkdownVisualEditor=\"editor:markdown-visual\",r.MidnightTheme=\"theme:midnight\",r.NoteHistory30Days=\"server:note-history-30-days\",r.NoteHistory365Days=\"server:note-history-365-days\",r.NoteHistoryUnlimited=\"server:note-history-unlimited\",r.PlusEditor=\"editor:plus\",r.SheetsEditor=\"editor:sheets\",r.SignInAlerts=\"server:sign-in-alerts\",r.SmartFilters=\"app:smart-filters\",r.SolarizedDarkTheme=\"theme:solarized-dark\",r.TagNesting=\"app:tag-nesting\",r.TaskEditor=\"editor:task-editor\",r.ThemeDynamic=\"theme:dynamic\",r.TitaniumTheme=\"theme:titanium\",r.TokenVaultEditor=\"editor:token-vault\",r.TwoFactorAuth=\"server:two-factor-auth\",r.SubscriptionSharing=\"server:subscription-sharing\"},72346:function(e,t,r){var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!(\"get\"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)\"default\"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,\"__esModule\",{value:!0}),i(r(89877),t),i(r(32772),t),i(r(63001),t),i(r(3218),t),i(r(92680),t),i(r(13187),t),i(r(6793),t),i(r(69266),t),i(r(23444),t),i(r(31777),t),i(r(11882),t)},70295:function(e,t,r){var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!(\"get\"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)\"default\"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,\"__esModule\",{value:!0}),i(r(72346),t)},64106:(e,t)=>{Object.defineProperty(t,\"__esModule\",{value:!0})},88601:(e,t)=>{Object.defineProperty(t,\"__esModule\",{value:!0})},55465:(e,t)=>{Object.defineProperty(t,\"__esModule\",{value:!0})},5761:(e,t)=>{Object.defineProperty(t,\"__esModule\",{value:!0})},97195:(e,t)=>{Object.defineProperty(t,\"__esModule\",{value:!0})},21592:(e,t)=>{Object.defineProperty(t,\"__esModule\",{value:!0})},1532:(e,t)=>{Object.defineProperty(t,\"__esModule\",{value:!0})},35679:(e,t,r)=>{Object.defineProperty(t,\"__esModule\",{value:!0}),t.FileMemoryCache=void 0;const n=r(64657);t.FileMemoryCache=class{constructor(e){this.maxSize=e,this.cache={},this.orderedQueue=[]}add(e,t){if(t.encryptedBytes.length>this.maxSize)return!1;for(;this.size+t.encryptedBytes.length>this.maxSize;)this.remove(this.orderedQueue[0]);return this.cache[e]=t,this.orderedQueue.push(e),!0}get size(){return Object.values(this.cache).map((e=>e.encryptedBytes.length)).reduce(((e,t)=>e+t),0)}get(e){return this.cache[e]}remove(e){delete this.cache[e],(0,n.removeFromArray)(this.orderedQueue,e)}clear(){this.cache={},this.orderedQueue=[]}}},94043:function(e,t){var r=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function s(e){try{c(n.next(e))}catch(e){o(e)}}function a(e){try{c(n.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,\"__esModule\",{value:!0}),t.ByteChunker=void 0,t.ByteChunker=class{constructor(e,t){this.minimumChunkSize=e,this.onChunk=t,this.loggingEnabled=!1,this.bytes=new Uint8Array,this.index=1}log(){if(this.loggingEnabled){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];console.log(t)}}addBytes(e,t){return r(this,void 0,void 0,(function*(){this.bytes=new Uint8Array([...this.bytes,...e]),this.log(\"Chunker adding \".concat(e.length,\", total size \").concat(this.bytes.length)),(this.bytes.length>=this.minimumChunkSize||t)&&(yield this.popBytes(t))}))}popBytes(e){return r(this,void 0,void 0,(function*(){const t=Math.max(this.minimumChunkSize,this.bytes.length),r=this.bytes.slice(0,t);this.bytes=new Uint8Array([...this.bytes.slice(t)]),this.log(\"Chunker popping \".concat(r.length,\", total size in queue \").concat(this.bytes.length)),yield this.onChunk(r,this.index++,e)}))}}},76545:(e,t)=>{Object.defineProperty(t,\"__esModule\",{value:!0})},72343:function(e,t){var r=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function s(e){try{c(n.next(e))}catch(e){o(e)}}function a(e){try{c(n.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,\"__esModule\",{value:!0}),t.OrderedByteChunker=void 0,t.OrderedByteChunker=class{constructor(e,t){this.chunkSizes=e,this.onChunk=t,this.bytes=new Uint8Array,this.index=1,this.remainingChunks=[],this.remainingChunks=e.slice()}needsPop(){return this.remainingChunks.length>0&&this.bytes.length>=this.remainingChunks[0]}addBytes(e){return r(this,void 0,void 0,(function*(){this.bytes=new Uint8Array([...this.bytes,...e]),this.needsPop()&&(yield this.popBytes())}))}popBytes(){return r(this,void 0,void 0,(function*(){const e=this.remainingChunks[0],t=this.bytes.slice(0,e);this.bytes=new Uint8Array([...this.bytes.slice(e)]),this.remainingChunks.shift(),yield this.onChunk(t,this.index++,this.index===this.chunkSizes.length-1),this.needsPop()&&(yield this.popBytes())}))}}},1346:(e,t)=>{Object.defineProperty(t,\"__esModule\",{value:!0})},26579:(e,t)=>{Object.defineProperty(t,\"__esModule\",{value:!0}),t.FileBackupsConstantsV1=void 0,t.FileBackupsConstantsV1={Version:\"1.0.0\",MetadataFileName:\"metadata.sn.json\",BinaryFileName:\"file.encrypted\"}},67378:(e,t)=>{Object.defineProperty(t,\"__esModule\",{value:!0})},56787:(e,t)=>{Object.defineProperty(t,\"__esModule\",{value:!0})},28709:function(e,t,r){var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function s(e){try{c(n.next(e))}catch(e){o(e)}}function a(e){try{c(n.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,\"__esModule\",{value:!0}),t.DownloadAndDecryptFileOperation=void 0;const i=r(84945),o=r(40204),s=r(55164);t.DownloadAndDecryptFileOperation=class{constructor(e,t,r){this.file=e,this.crypto=t,this.api=r,this.downloader=new o.FileDownloader(this.file,this.api)}createDecryptor(){return new s.FileDecryptor(this.file,this.crypto)}run(e){return n(this,void 0,void 0,(function*(){const t=this.createDecryptor();let r;const o=yield this.downloader.run(((o,s,a)=>n(this,void 0,void 0,(function*(){const n=t.decryptBytes(o);if(!n||0===n.decryptedBytes.length)return r=new i.ClientDisplayableError(\"Failed to decrypt chunk\"),void a();const c=n.decryptedBytes;yield e({decrypted:{decryptedBytes:c},encrypted:{encryptedBytes:o},progress:s})}))));return{success:!(o instanceof i.ClientDisplayableError),error:\"aborted\"===o?void 0:o||r,aborted:\"aborted\"===o}}))}abort(){this.downloader.abort()}}},57495:function(e,t,r){var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function s(e){try{c(n.next(e))}catch(e){o(e)}}function a(e){try{c(n.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,\"__esModule\",{value:!0}),t.EncryptAndUploadFileOperation=void 0;const i=r(19642),o=r(19697);t.EncryptAndUploadFileOperation=class{constructor(e,t,r,n){this.file=e,this.apiToken=t,this.crypto=r,this.api=n,this.encryptedChunkSizes=[],this.totalBytesPushedInDecryptedTerms=0,this.totalBytesUploadedInDecryptedTerms=0,this.encryptor=new o.FileEncryptor(e,this.crypto),this.uploader=new i.FileUploader(this.api),this.encryptionHeader=this.encryptor.initializeHeader()}getApiToken(){return this.apiToken}getProgress(){const e=this.file.decryptedSize;return{decryptedFileSize:e,decryptedBytesUploaded:this.totalBytesUploadedInDecryptedTerms,decryptedBytesRemaining:e-this.totalBytesUploadedInDecryptedTerms,percentComplete:this.totalBytesUploadedInDecryptedTerms/e*100}}getResult(){return{encryptionHeader:this.encryptionHeader,finalDecryptedSize:this.totalBytesPushedInDecryptedTerms,key:this.file.key,remoteIdentifier:this.file.remoteIdentifier}}pushBytes(e,t,r){return n(this,void 0,void 0,(function*(){this.totalBytesPushedInDecryptedTerms+=e.byteLength;const n=this.encryptBytes(e,r);this.encryptedChunkSizes.push(n.length);const i=yield this.uploadBytes(n,t);return i&&(this.totalBytesUploadedInDecryptedTerms+=e.byteLength),i}))}encryptBytes(e,t){return this.encryptor.pushBytes(e,t)}uploadBytes(e,t){return n(this,void 0,void 0,(function*(){return yield this.uploader.uploadBytes(e,t,this.apiToken)}))}}},48266:(e,t)=>{Object.defineProperty(t,\"__esModule\",{value:!0})},20204:function(e,t,r){var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function s(e){try{c(n.next(e))}catch(e){o(e)}}function a(e){try{c(n.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,\"__esModule\",{value:!0}),t.readAndDecryptBackupFile=void 0;const i=r(55164),o=r(72343);t.readAndDecryptBackupFile=function(e,t,r,s,a){return n(this,void 0,void 0,(function*(){const c=new i.FileDecryptor(t,s),l=new o.OrderedByteChunker(t.encryptedChunkSizes,(e=>n(this,void 0,void 0,(function*(){const t=c.decryptBytes(e);t&&(yield a(t.decryptedBytes))}))));return yield r.readFile(e,(e=>n(this,void 0,void 0,(function*(){yield l.addBytes(e)}))))}))}},6017:(e,t)=>{Object.defineProperty(t,\"__esModule\",{value:!0})},69972:(e,t)=>{Object.defineProperty(t,\"__esModule\",{value:!0})},54810:(e,t)=>{Object.defineProperty(t,\"__esModule\",{value:!0})},89179:(e,t)=>{Object.defineProperty(t,\"__esModule\",{value:!0})},78714:(e,t)=>{Object.defineProperty(t,\"__esModule\",{value:!0})},55164:(e,t,r)=>{Object.defineProperty(t,\"__esModule\",{value:!0}),t.FileDecryptor=void 0;const n=r(86553);t.FileDecryptor=class{constructor(e,t){this.file=e,this.crypto=t,this.decryptor=this.crypto.xchacha20StreamInitDecryptor(this.file.encryptionHeader,this.file.key)}decryptBytes(e){const t=this.crypto.xchacha20StreamDecryptorPush(this.decryptor,e,this.file.remoteIdentifier);if(!1===t)return;const r=t.tag===n.SodiumConstant.CRYPTO_SECRETSTREAM_XCHACHA20POLY1305_TAG_FINAL;return{decryptedBytes:t.message,isFinalChunk:r}}}},40204:function(e,t,r){var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function s(e){try{c(n.next(e))}catch(e){o(e)}}function a(e){try{c(n.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,\"__esModule\",{value:!0}),t.FileDownloader=void 0;const i=r(84945),o=r(64657);t.FileDownloader=class{constructor(e,t){this.file=e,this.api=t,this.aborted=!1,this.abortDeferred=(0,o.Deferred)(),this.totalBytesDownloaded=0}getProgress(){const e=this.file.encryptedChunkSizes.reduce(((e,t)=>e+t),0);return{encryptedFileSize:e,encryptedBytesDownloaded:this.totalBytesDownloaded,encryptedBytesRemaining:e-this.totalBytesDownloaded,percentComplete:this.totalBytesDownloaded/e*100}}run(e){return n(this,void 0,void 0,(function*(){const t=yield this.getValetToken();return t instanceof i.ClientDisplayableError?t:this.performDownload(t,e)}))}getValetToken(){return n(this,void 0,void 0,(function*(){return yield this.api.createFileValetToken(this.file.remoteIdentifier,\"read\")}))}performDownload(e,t){return n(this,void 0,void 0,(function*(){const r=this.api.downloadFile(this.file,0,e,0,(e=>n(this,void 0,void 0,(function*(){this.aborted||(this.totalBytesDownloaded+=e.byteLength,yield t(e,this.getProgress(),this.abort))}))));return yield Promise.race([this.abortDeferred.promise,r])}))}abort(){this.aborted=!0,this.abortDeferred.resolve(\"aborted\")}}},19697:(e,t,r)=>{Object.defineProperty(t,\"__esModule\",{value:!0}),t.FileEncryptor=void 0;const n=r(86553);t.FileEncryptor=class{constructor(e,t){this.file=e,this.crypto=t}initializeHeader(){return this.stream=this.crypto.xchacha20StreamInitEncryptor(this.file.key),this.stream.header}pushBytes(e,t){if(!this.stream)throw new Error(\"FileEncryptor must call initializeHeader first\");const r=t?n.SodiumConstant.CRYPTO_SECRETSTREAM_XCHACHA20POLY1305_TAG_FINAL:void 0;return this.crypto.xchacha20StreamEncryptorPush(this.stream,e,this.file.remoteIdentifier,r)}}},19642:function(e,t){var r=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function s(e){try{c(n.next(e))}catch(e){o(e)}}function a(e){try{c(n.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,\"__esModule\",{value:!0}),t.FileUploader=void 0,t.FileUploader=class{constructor(e){this.apiService=e}uploadBytes(e,t,n){return r(this,void 0,void 0,(function*(){return yield this.apiService.uploadFileBytes(n,t,e)}))}}},11280:function(e,t,r){var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!(\"get\"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)\"default\"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,\"__esModule\",{value:!0}),i(r(64106),t),i(r(88601),t),i(r(55465),t),i(r(5761),t),i(r(97195),t),i(r(21592),t),i(r(1532),t),i(r(35679),t),i(r(94043),t),i(r(76545),t),i(r(72343),t),i(r(1346),t),i(r(26579),t),i(r(67378),t),i(r(56787),t),i(r(48266),t),i(r(20204),t),i(r(28709),t),i(r(57495),t),i(r(55164),t),i(r(19642),t),i(r(19697),t),i(r(40204),t),i(r(6017),t),i(r(69972),t),i(r(54810),t),i(r(89179),t),i(r(78714),t)},14581:function(e,t,r){var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!(\"get\"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)\"default\"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,\"__esModule\",{value:!0}),i(r(11280),t)},36502:(e,t)=>{Object.defineProperty(t,\"__esModule\",{value:!0})},67427:(e,t)=>{Object.defineProperty(t,\"__esModule\",{value:!0})},84577:(e,t)=>{Object.defineProperty(t,\"__esModule\",{value:!0})},27897:(e,t)=>{Object.defineProperty(t,\"__esModule\",{value:!0}),t.ComponentViewerEvent=void 0,(t.ComponentViewerEvent||(t.ComponentViewerEvent={})).FeatureStatusUpdated=\"FeatureStatusUpdated\"},44346:(e,t)=>{Object.defineProperty(t,\"__esModule\",{value:!0})},67463:(e,t)=>{var r;Object.defineProperty(t,\"__esModule\",{value:!0}),t.KeyboardModifier=void 0,(r=t.KeyboardModifier||(t.KeyboardModifier={})).Shift=\"Shift\",r.Ctrl=\"Control\",r.Meta=\"Meta\"},92590:(e,t)=>{Object.defineProperty(t,\"__esModule\",{value:!0})},52795:(e,t)=>{Object.defineProperty(t,\"__esModule\",{value:!0})},23767:(e,t,r)=>{Object.defineProperty(t,\"__esModule\",{value:!0}),t.FillItemContentSpecialized=t.FillItemContent=void 0;const n=r(96720),i=r(47759);function o(e){return e.references||(e.references=[]),e.appData||(e.appData={[n.DefaultAppDomain]:{}}),e.appData[n.DefaultAppDomain]||(e.appData[n.DefaultAppDomain]={}),e.appData[n.DefaultAppDomain][i.AppDataField.UserModifiedDate]||(e.appData[n.DefaultAppDomain][i.AppDataField.UserModifiedDate]=\"\".concat(new Date)),e}t.FillItemContent=o,t.FillItemContentSpecialized=function(e){return o(e)}},859:(e,t)=>{Object.defineProperty(t,\"__esModule\",{value:!0})},85206:(e,t)=>{Object.defineProperty(t,\"__esModule\",{value:!0})},76422:(e,t)=>{Object.defineProperty(t,\"__esModule\",{value:!0})},1341:(e,t)=>{Object.defineProperty(t,\"__esModule\",{value:!0}),t.createComponentCreatedContextPayload=void 0,t.createComponentCreatedContextPayload=function(e){return{content_type:e.content_type,content:e.content,created_at:e.created_at,deleted:!1,uuid:e.uuid}}},22369:(e,t)=>{Object.defineProperty(t,\"__esModule\",{value:!0}),t.CreateComponentRetrievedContextPayload=void 0,t.CreateComponentRetrievedContextPayload=function(e){return{content_type:e.content_type,content:e.content,created_at:e.created_at,deleted:!1,uuid:e.uuid}}},29029:(e,t)=>{Object.defineProperty(t,\"__esModule\",{value:!0})},8656:(e,t,r)=>{Object.defineProperty(t,\"__esModule\",{value:!0}),t.isRemotePayloadAllowed=t.FilterDisallowedRemotePayloadsAndMap=t.CreateFilteredServerItem=void 0;const n=r(82818);function i(e){return Object.assign(Object.assign({},e),{__passed_filter__:!0})}function o(e){return!(0,n.isCorruptTransferPayload)(e)&&((0,n.isEncryptedTransferPayload)(e)||null==e.content)}t.CreateFilteredServerItem=i,t.FilterDisallowedRemotePayloadsAndMap=function(e){return e.filter(o).map(i)},t.isRemotePayloadAllowed=o},16462:(e,t)=>{Object.defineProperty(t,\"__esModule\",{value:!0}),t.CreateDecryptedBackupFileContextPayload=t.CreateEncryptedBackupFileContextPayload=void 0,t.CreateEncryptedBackupFileContextPayload=function(e){return{auth_hash:e.auth_hash,content_type:e.content_type,content:e.content,created_at_timestamp:e.created_at_timestamp,created_at:e.created_at,deleted:!1,duplicate_of:e.duplicate_of,enc_item_key:e.enc_item_key,items_key_id:e.items_key_id,updated_at_timestamp:e.updated_at_timestamp,updated_at:e.updated_at,uuid:e.uuid}},t.CreateDecryptedBackupFileContextPayload=function(e){return{content_type:e.content_type,content:e.content,created_at_timestamp:e.created_at_timestamp,created_at:e.created_at,deleted:!1,duplicate_of:e.duplicate_of,updated_at_timestamp:e.updated_at_timestamp,updated_at:e.updated_at,uuid:e.uuid}}},49942:(e,t,r)=>{Object.defineProperty(t,\"__esModule\",{value:!0}),t.CreateDeletedLocalStorageContextPayload=t.CreateDecryptedLocalStorageContextPayload=t.CreateEncryptedLocalStorageContextPayload=t.isEncryptedLocalStoragePayload=void 0;const n=r(64657),i=r(82818);t.isEncryptedLocalStoragePayload=function(e){return(0,i.isEncryptedTransferPayload)(e)},t.CreateEncryptedLocalStorageContextPayload=function(e){return{auth_hash:e.auth_hash,content_type:e.content_type,content:e.content,created_at_timestamp:e.created_at_timestamp,created_at:e.created_at,deleted:!1,dirty:null!=e.dirty&&e.dirty,duplicate_of:e.duplicate_of,enc_item_key:e.enc_item_key,errorDecrypting:e.errorDecrypting,items_key_id:e.items_key_id,updated_at_timestamp:e.updated_at_timestamp,updated_at:e.updated_at,uuid:e.uuid,waitingForKey:e.waitingForKey}},t.CreateDecryptedLocalStorageContextPayload=function(e){return{content_type:e.content_type,content:e.content,created_at_timestamp:e.created_at_timestamp,created_at:e.created_at,deleted:!1,duplicate_of:e.duplicate_of,updated_at_timestamp:e.updated_at_timestamp,updated_at:e.updated_at,uuid:e.uuid,dirty:(0,n.useBoolean)(e.dirty,!1)}},t.CreateDeletedLocalStorageContextPayload=function(e){return{content_type:e.content_type,content:void 0,created_at_timestamp:e.created_at_timestamp,created_at:e.created_at,deleted:!0,dirty:!0,duplicate_of:e.duplicate_of,updated_at_timestamp:e.updated_at_timestamp,updated_at:e.updated_at,uuid:e.uuid}}},15559:(e,t,r)=>{Object.defineProperty(t,\"__esModule\",{value:!0}),t.CreateOfflineSyncPushContextPayload=void 0;const n=r(18667);t.CreateOfflineSyncPushContextPayload=function(e){const t={content:void 0,content_type:e.content_type,created_at_timestamp:e.created_at_timestamp,created_at:e.created_at,deleted:!1,duplicate_of:e.duplicate_of,updated_at_timestamp:e.updated_at_timestamp,updated_at:e.updated_at,uuid:e.uuid};return(0,n.isDecryptedPayload)(e)?Object.assign(Object.assign({},t),{content:e.content}):Object.assign(Object.assign({},t),{deleted:e.deleted})}},53186:(e,t,r)=>{Object.defineProperty(t,\"__esModule\",{value:!0}),t.CreateOfflineSyncSavedPayload=void 0;const n=r(18667);t.CreateOfflineSyncSavedPayload=function(e){return{content_type:e.content_type,created_at_timestamp:e.created_at_timestamp,deleted:(0,n.isDeletedPayload)(e),updated_at_timestamp:e.updated_at_timestamp,updated_at:e.updated_at,uuid:e.uuid}}},53771:(e,t)=>{Object.defineProperty(t,\"__esModule\",{value:!0}),t.CreateDeletedServerSyncPushPayload=t.CreateEncryptedServerSyncPushPayload=void 0,t.CreateEncryptedServerSyncPushPayload=function(e){return{content_type:e.content_type,created_at_timestamp:e.created_at_timestamp,created_at:e.created_at,deleted:!1,duplicate_of:e.duplicate_of,updated_at_timestamp:e.updated_at_timestamp,updated_at:e.updated_at,uuid:e.uuid,content:e.content,enc_item_key:e.enc_item_key,items_key_id:e.items_key_id,auth_hash:e.auth_hash}},t.CreateDeletedServerSyncPushPayload=function(e){return{content_type:e.content_type,created_at_timestamp:e.created_at_timestamp,created_at:e.created_at,deleted:!0,duplicate_of:e.duplicate_of,updated_at_timestamp:e.updated_at_timestamp,updated_at:e.updated_at,uuid:e.uuid,content:void 0}}},81479:(e,t,r)=>{Object.defineProperty(t,\"__esModule\",{value:!0}),t.CreateServerSyncSavedPayload=void 0;const n=r(64657);t.CreateServerSyncSavedPayload=function(e){return{content_type:e.content_type,created_at_timestamp:e.created_at_timestamp,created_at:e.created_at,deleted:(0,n.useBoolean)(e.deleted,!1),updated_at_timestamp:e.updated_at_timestamp,updated_at:e.updated_at,uuid:e.uuid}}},84656:(e,t)=>{Object.defineProperty(t,\"__esModule\",{value:!0})},59867:(e,t,r)=>{Object.defineProperty(t,\"__esModule\",{value:!0}),t.DecryptedItem=void 0;const n=r(64657),i=r(47759),o=r(96720),s=r(92445),a=r(9600);class c extends s.GenericItem{constructor(e){super(e),this.protected=!1,this.trashed=!1,this.pinned=!1,this.archived=!1,this.locked=!1,this.starred=!1;const t=this.getAppDomainValueWithDefault(i.AppDataField.UserModifiedDate,this.serverUpdatedAt||0);this.userModifiedDate=new Date(t),this.conflictOf=e.content.conflict_of,this.updatedAtString=(0,n.dateToLocalizedString)(this.userModifiedDate),this.protected=(0,n.useBoolean)(this.payload.content.protected,!1),this.trashed=(0,n.useBoolean)(this.payload.content.trashed,!1),this.starred=(0,n.useBoolean)(this.payload.content.starred,!1),this.pinned=this.getAppDomainValueWithDefault(i.AppDataField.Pinned,!1),this.archived=this.getAppDomainValueWithDefault(i.AppDataField.Archived,!1),this.locked=this.getAppDomainValueWithDefault(i.AppDataField.Locked,!1)}static DefaultAppDomain(){return o.DefaultAppDomain}get content(){return this.payload.content}get references(){return this.payload.content.references||[]}isReferencingItem(e){return null!=this.references.find((t=>t.uuid===e.uuid))}getDomainData(e){const t=this.payload.content.appData;if(t)return t[e]}getAppDomainValue(e){const t=this.getDomainData(o.DefaultAppDomain);return null==t?void 0:t[e]}getAppDomainValueWithDefault(e,t){const r=this.getDomainData(o.DefaultAppDomain);return(null==r?void 0:r[e])||t}payloadRepresentation(e){return this.payload.copy(e)}contentKeysToIgnoreWhenCheckingEquality(){return[\"conflict_of\"]}appDataContentKeysToIgnoreWhenCheckingEquality(){return[i.AppDataField.UserModifiedDate]}getContentCopy(){return JSON.parse(JSON.stringify(this.content))}isItemContentEqualWith(e){return(0,a.ItemContentsEqual)(this.payload.content,e.payload.content,this.contentKeysToIgnoreWhenCheckingEquality(),this.appDataContentKeysToIgnoreWhenCheckingEquality())}}t.DecryptedItem=c},89691:(e,t,r)=>{Object.defineProperty(t,\"__esModule\",{value:!0}),t.DeletedItem=void 0;const n=r(92445);class i extends n.GenericItem{constructor(e){super(e),this.deleted=!0}payloadRepresentation(e){return this.payload.copy(e)}}t.DeletedItem=i},68728:(e,t,r)=>{Object.defineProperty(t,\"__esModule\",{value:!0}),t.EncryptedItem=void 0;const n=r(92445);class i extends n.GenericItem{constructor(e){super(e)}get version(){return this.payload.version}payloadRepresentation(e){return this.payload.copy(e)}get errorDecrypting(){return this.payload.errorDecrypting}get waitingForKey(){return this.payload.waitingForKey}get content(){return this.payload.content}get auth_hash(){return this.payload.auth_hash}}t.EncryptedItem=i},92445:(e,t,r)=>{Object.defineProperty(t,\"__esModule\",{value:!0}),t.GenericItem=void 0;const n=r(64657),i=r(69002),o=r(50417),s=r(25569),a=r(18472),c=r(99562);t.GenericItem=class{constructor(e){this.payload=e,this.duplicateOf=e.duplicate_of,this.createdAtString=this.created_at&&(0,n.dateToLocalizedString)(this.created_at),this.userModifiedDate=this.serverUpdatedAt||new Date,this.updatedAtString=(0,n.dateToLocalizedString)(this.userModifiedDate),setTimeout((()=>{(0,n.deepFreeze)(this)}),0)}get uuid(){return this.payload.uuid}get content_type(){return this.payload.content_type}get created_at(){return this.payload.created_at}get serverUpdatedAt(){return this.payload.serverUpdatedAt}get serverUpdatedAtTimestamp(){return this.payload.updated_at_timestamp}get updated_at(){return this.serverUpdatedAt}get dirty(){return this.payload.dirty}get lastSyncBegan(){return this.payload.lastSyncBegan}get lastSyncEnd(){return this.payload.lastSyncEnd}get duplicate_of(){return this.payload.duplicate_of}payloadRepresentation(e){return this.payload.copy(e)}get neverSynced(){return!this.serverUpdatedAt||0===this.serverUpdatedAt.getTime()}get isSingleton(){return!1}singletonPredicate(){throw\"Must override SNItem.singletonPredicate\"}get singletonStrategy(){return a.SingletonStrategy.KeepEarliest}strategyWhenConflictingWithItem(e,t){if((0,c.isEncryptedErroredItem)(this))return s.ConflictStrategy.KeepBaseDuplicateApply;if(this.isSingleton)return s.ConflictStrategy.KeepBase;if((0,c.isDeletedItem)(this))return s.ConflictStrategy.KeepApply;if((0,c.isDeletedItem)(e))return this.payload.source===o.PayloadSource.FileImport?s.ConflictStrategy.KeepBase:s.ConflictStrategy.KeepApply;if(!(0,c.isDecryptedItem)(e)||!(0,c.isDecryptedItem)(this))return s.ConflictStrategy.KeepBaseDuplicateApply;if(!(0,i.ItemContentsDiffer)(this,e))return s.ConflictStrategy.KeepApply;if((0,i.ItemContentsDiffer)(this,e,[\"references\"])){if(t&&!(0,i.ItemContentsDiffer)(t.itemFromPayload(),e))return s.ConflictStrategy.KeepBase;const r=2e4;return e.payload.source===o.PayloadSource.FileImport||Date.now()-this.userModifiedDate.getTime()<r?s.ConflictStrategy.KeepBaseDuplicateApply:s.ConflictStrategy.DuplicateBaseKeepApply}return s.ConflictStrategy.KeepBaseMergeRefs}satisfiesPredicate(e){return e.matchesItem(this)}}},25218:(e,t)=>{Object.defineProperty(t,\"__esModule\",{value:!0})},83811:(e,t)=>{Object.defineProperty(t,\"__esModule\",{value:!0})},9529:(e,t)=>{Object.defineProperty(t,\"__esModule\",{value:!0})},89051:(e,t)=>{Object.defineProperty(t,\"__esModule\",{value:!0})},99562:(e,t,r)=>{Object.defineProperty(t,\"__esModule\",{value:!0}),t.isEncryptedErroredItem=t.isDecryptedOrDeletedItem=t.isDeletedItem=t.isNotEncryptedItem=t.isEncryptedItem=t.isDecryptedItem=void 0;const n=r(98890);function i(e){return(0,n.isDecryptedPayload)(e.payload)}function o(e){return(0,n.isEncryptedPayload)(e.payload)}function s(e){return(0,n.isDeletedPayload)(e.payload)}t.isDecryptedItem=i,t.isEncryptedItem=o,t.isNotEncryptedItem=function(e){return!o(e)},t.isDeletedItem=s,t.isDecryptedOrDeletedItem=function(e){return i(e)||s(e)},t.isEncryptedErroredItem=function(e){return o(e)&&!0===e.errorDecrypting}},66276:(e,t,r)=>{Object.defineProperty(t,\"__esModule\",{value:!0}),t.DecryptedItemMutator=void 0;const n=r(64657),i=r(65617),o=r(47759),s=r(96720),a=r(14606),c=r(6754);class l extends a.ItemMutator{constructor(e,t){super(e,t);const r=(0,n.Copy)(this.immutablePayload.content);this.mutableContent=r}getResult(){return this.type===i.MutationType.NonDirtying?this.immutablePayload.copy({content:this.mutableContent}):(this.type===i.MutationType.UpdateUserTimestamps?this.userModifiedDate=new Date:this.immutableItem.userModifiedDate||(this.userModifiedDate=new Date(this.immutableItem.serverUpdatedAt)),this.immutablePayload.copy({content:this.mutableContent,dirty:!0,dirtyIndex:(0,c.getIncrementedDirtyIndex)()}))}setBeginSync(e,t){this.immutablePayload=this.immutablePayload.copy({content:this.mutableContent,lastSyncBegan:e,globalDirtyIndexAtLastSync:t})}setCustomContent(e){this.mutableContent=(0,n.Copy)(e)}set userModifiedDate(e){this.setAppDataItem(o.AppDataField.UserModifiedDate,e)}set conflictOf(e){this.mutableContent.conflict_of=e}set protected(e){this.mutableContent.protected=e}set trashed(e){this.mutableContent.trashed=e}set starred(e){this.mutableContent.starred=e}set pinned(e){this.setAppDataItem(o.AppDataField.Pinned,e)}set archived(e){this.setAppDataItem(o.AppDataField.Archived,e)}set locked(e){this.setAppDataItem(o.AppDataField.Locked,e)}setDomainData(e,t){this.mutableContent.appData||(this.mutableContent.appData={[s.DefaultAppDomain]:{}}),this.mutableContent.appData[t]=e}setDomainDataKey(e,t,r){this.mutableContent.appData||(this.mutableContent.appData={[s.DefaultAppDomain]:{}}),this.mutableContent.appData[r]||(this.mutableContent.appData[r]={}),this.mutableContent.appData[r][e]=t}setAppDataItem(e,t){this.setDomainDataKey(e,t,s.DefaultAppDomain)}e2ePendingRefactor_addItemAsRelationship(e){const t=this.mutableContent.references||[];t.find((t=>t.uuid===e.uuid))||t.push({uuid:e.uuid,content_type:e.content_type}),this.mutableContent.references=t}removeItemAsRelationship(e){let t=this.mutableContent.references||[];t=t.filter((t=>t.uuid!==e.uuid)),this.mutableContent.references=t}}t.DecryptedItemMutator=l},5378:(e,t,r)=>{Object.defineProperty(t,\"__esModule\",{value:!0}),t.DeleteItemMutator=void 0;const n=r(63188),i=r(14606),o=r(65617),s=r(6754);class a extends i.ItemMutator{getDeletedResult(){const e=this.type!==o.MutationType.NonDirtying;return new n.DeletedPayload(Object.assign(Object.assign({},this.immutablePayload.ejected()),{deleted:!0,content:void 0,dirty:!!e||this.immutablePayload.dirty,dirtyIndex:e?(0,s.getIncrementedDirtyIndex)():this.immutablePayload.dirtyIndex}),this.immutablePayload.source)}getResult(){throw Error(\"Must use getDeletedResult\")}}t.DeleteItemMutator=a},14606:(e,t,r)=>{Object.defineProperty(t,\"__esModule\",{value:!0}),t.ItemMutator=void 0;const n=r(65617),i=r(6754);t.ItemMutator=class{constructor(e,t){this.immutableItem=e,this.type=t,this.immutablePayload=e.payload}getUuid(){return this.immutablePayload.uuid}getItem(){return this.immutableItem}getResult(){return this.type===n.MutationType.NonDirtying?this.immutablePayload.copy():this.immutablePayload.copy({dirty:!0,dirtyIndex:(0,i.getIncrementedDirtyIndex)()})}setBeginSync(e,t){this.immutablePayload=this.immutablePayload.copy({lastSyncBegan:e,globalDirtyIndexAtLastSync:t})}set errorDecrypting(e){throw Error(\"This method is no longer implemented\")}set updated_at(e){throw Error(\"This method is no longer implemented\")}set updated_at_timestamp(e){throw Error(\"This method is no longer implemented\")}}},51533:(e,t)=>{Object.defineProperty(t,\"__esModule\",{value:!0})},47759:(e,t)=>{var r;Object.defineProperty(t,\"__esModule\",{value:!0}),t.AppDataField=void 0,(r=t.AppDataField||(t.AppDataField={})).Pinned=\"pinned\",r.Archived=\"archived\",r.Locked=\"locked\",r.UserModifiedDate=\"client_updated_at\",r.DefaultEditor=\"defaultEditor\",r.MobileRules=\"mobileRules\",r.NotAvailableOnMobile=\"notAvailableOnMobile\",r.MobileActive=\"mobileActive\",r.LastSize=\"lastSize\",r.LegacyPrefersPlainEditor=\"prefersPlainEditor\",r.ComponentInstallError=\"installError\"},25569:(e,t)=>{var r;Object.defineProperty(t,\"__esModule\",{value:!0}),t.ConflictStrategy=void 0,(r=t.ConflictStrategy||(t.ConflictStrategy={}))[r.KeepBase=1]=\"KeepBase\",r[r.KeepApply=2]=\"KeepApply\",r[r.KeepBaseDuplicateApply=3]=\"KeepBaseDuplicateApply\",r[r.DuplicateBaseKeepApply=4]=\"DuplicateBaseKeepApply\",r[r.KeepBaseMergeRefs=5]=\"KeepBaseMergeRefs\"},96720:(e,t)=>{Object.defineProperty(t,\"__esModule\",{value:!0}),t.ComponentDataDomain=t.DefaultAppDomain=void 0,t.DefaultAppDomain=\"org.standardnotes.sn\",t.ComponentDataDomain=\"org.standardnotes.sn.components\"},25032:(e,t)=>{Object.defineProperty(t,\"__esModule\",{value:!0})},89015:(e,t)=>{Object.defineProperty(t,\"__esModule\",{value:!0})},65617:(e,t)=>{var r;Object.defineProperty(t,\"__esModule\",{value:!0}),t.MutationType=void 0,(r=t.MutationType||(t.MutationType={}))[r.UpdateUserTimestamps=1]=\"UpdateUserTimestamps\",r[r.NoUpdateUserTimestamps=2]=\"NoUpdateUserTimestamps\",r[r.NonDirtying=3]=\"NonDirtying\"},18472:(e,t)=>{var r;Object.defineProperty(t,\"__esModule\",{value:!0}),t.SingletonStrategy=void 0,(r=t.SingletonStrategy||(t.SingletonStrategy={}))[r.KeepEarliest=1]=\"KeepEarliest\"},12922:function(e,t,r){var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!(\"get\"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)\"default\"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,\"__esModule\",{value:!0}),i(r(61335),t),i(r(21984),t),i(r(22386),t),i(r(15744),t),i(r(43239),t),i(r(7893),t),i(r(19755),t),i(r(22104),t),i(r(67189),t),i(r(59867),t),i(r(59867),t),i(r(89691),t),i(r(68728),t),i(r(92445),t),i(r(25218),t),i(r(83811),t),i(r(9529),t),i(r(89051),t),i(r(99562),t),i(r(66276),t),i(r(5378),t),i(r(14606),t),i(r(51533),t),i(r(47759),t),i(r(25569),t),i(r(96720),t),i(r(25032),t),i(r(89015),t),i(r(65617),t),i(r(18472),t)},38111:(e,t,r)=>{Object.defineProperty(t,\"__esModule\",{value:!0}),t.DecryptedPayload=void 0;const n=r(64657),i=r(23767),o=r(50417),s=r(19332);class a extends s.PurePayload{constructor(e){super(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:o.PayloadSource.Constructor),this.content=(0,n.Copy)((0,i.FillItemContent)(e.content)),this.deleted=!1}get references(){return this.content.references||[]}getReference(e){const t=this.references.find((t=>t.uuid===e));if(!t)throw new Error(\"Reference not found\");return t}ejected(){return Object.assign(Object.assign({},super.ejected()),{content:this.content,deleted:this.deleted})}copy(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.source;return new a(Object.assign(Object.assign({},this.ejected()),e),t)}copyAsSyncResolved(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.source;return new a(Object.assign(Object.assign({},this.ejected()),e),t)}}t.DecryptedPayload=a},63188:(e,t,r)=>{Object.defineProperty(t,\"__esModule\",{value:!0}),t.DeletedPayload=void 0;const n=r(50417),i=r(19332);class o extends i.PurePayload{constructor(e){super(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:n.PayloadSource.Constructor),this.deleted=!0,this.content=void 0}get discardable(){return!this.dirty}ejected(){return Object.assign(Object.assign({},super.ejected()),{deleted:this.deleted,content:void 0})}copy(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.source;return new o(Object.assign(Object.assign({},this.ejected()),e),t)}copyAsSyncResolved(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.source;return new o(Object.assign(Object.assign({},this.ejected()),e),t)}}t.DeletedPayload=o},50987:(e,t,r)=>{Object.defineProperty(t,\"__esModule\",{value:!0}),t.EncryptedPayload=void 0;const n=r(10256),i=r(50417),o=r(19332);class s extends o.PurePayload{constructor(e){super(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:i.PayloadSource.Constructor),this.auth_hash=e.auth_hash,this.content=e.content,this.deleted=!1,this.enc_item_key=e.enc_item_key,this.errorDecrypting=e.errorDecrypting,this.items_key_id=e.items_key_id,this.version=(0,n.protocolVersionFromEncryptedString)(this.content),this.waitingForKey=e.waitingForKey}ejected(){return Object.assign(Object.assign({},super.ejected()),{enc_item_key:this.enc_item_key,items_key_id:this.items_key_id,auth_hash:this.auth_hash,errorDecrypting:this.errorDecrypting,waitingForKey:this.waitingForKey,content:this.content,deleted:this.deleted})}copy(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.source;return new s(Object.assign(Object.assign({},this.ejected()),e),t)}copyAsSyncResolved(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.source;return new s(Object.assign(Object.assign({},this.ejected()),e),t)}}t.EncryptedPayload=s},19332:(e,t,r)=>{Object.defineProperty(t,\"__esModule\",{value:!0}),t.PurePayload=void 0;const n=r(64657),i=r(50417);t.PurePayload=class{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i.PayloadSource.Constructor;if(this.source=t,this.uuid=e.uuid,!this.uuid)throw Error(\"Attempting to construct payload with null uuid\\n        Content type: \".concat(e.content_type));this.content=e.content,this.content_type=e.content_type,this.deleted=(0,n.useBoolean)(e.deleted,!1),this.dirty=e.dirty,this.duplicate_of=e.duplicate_of,this.created_at=new Date(e.created_at||new Date),this.updated_at=new Date(e.updated_at||0),this.created_at_timestamp=e.created_at_timestamp||0,this.updated_at_timestamp=e.updated_at_timestamp||0,this.lastSyncBegan=e.lastSyncBegan?new Date(e.lastSyncBegan):void 0,this.lastSyncEnd=e.lastSyncEnd?new Date(e.lastSyncEnd):void 0,this.dirtyIndex=e.dirtyIndex,this.globalDirtyIndexAtLastSync=e.globalDirtyIndexAtLastSync,setTimeout((()=>{(0,n.deepFreeze)(this)}),0)}ejected(){return{uuid:this.uuid,content:this.content,deleted:this.deleted,content_type:this.content_type,created_at:this.created_at,updated_at:this.updated_at,created_at_timestamp:this.created_at_timestamp,updated_at_timestamp:this.updated_at_timestamp,dirty:this.dirty,duplicate_of:this.duplicate_of,dirtyIndex:this.dirtyIndex,globalDirtyIndexAtLastSync:this.globalDirtyIndexAtLastSync,lastSyncBegan:this.lastSyncBegan,lastSyncEnd:this.lastSyncEnd}}get serverUpdatedAt(){return this.updated_at}get serverUpdatedAtTimestamp(){return this.updated_at_timestamp}}},60196:(e,t)=>{Object.defineProperty(t,\"__esModule\",{value:!0})},95619:(e,t)=>{Object.defineProperty(t,\"__esModule\",{value:!0})},81560:(e,t)=>{Object.defineProperty(t,\"__esModule\",{value:!0})},61481:(e,t)=>{Object.defineProperty(t,\"__esModule\",{value:!0})},98890:(e,t,r)=>{Object.defineProperty(t,\"__esModule\",{value:!0}),t.isErrorDecryptingPayload=t.isDeletedPayload=t.isEncryptedPayload=t.isDecryptedPayload=void 0;const n=r(82818);t.isDecryptedPayload=function(e){return(0,n.isDecryptedTransferPayload)(e)},t.isEncryptedPayload=function(e){return(0,n.isEncryptedTransferPayload)(e)},t.isDeletedPayload=function(e){return(0,n.isDeletedTransferPayload)(e)},t.isErrorDecryptingPayload=function(e){return(0,n.isErrorDecryptingTransferPayload)(e)}},50339:(e,t)=>{Object.defineProperty(t,\"__esModule\",{value:!0})},26949:(e,t)=>{var r;Object.defineProperty(t,\"__esModule\",{value:!0}),t.isPayloadSourceRetrieved=t.isPayloadSourceInternalChange=t.PayloadEmitSource=void 0,function(e){e[e.InitialObserverRegistrationPush=1]=\"InitialObserverRegistrationPush\",e[e.LocalChanged=2]=\"LocalChanged\",e[e.LocalInserted=3]=\"LocalInserted\",e[e.LocalDatabaseLoaded=4]=\"LocalDatabaseLoaded\",e[e.OfflineSyncSaved=5]=\"OfflineSyncSaved\",e[e.LocalRetrieved=6]=\"LocalRetrieved\",e[e.FileImport=7]=\"FileImport\",e[e.ComponentRetrieved=8]=\"ComponentRetrieved\",e[e.ComponentCreated=9]=\"ComponentCreated\",e[e.PreSyncSave=10]=\"PreSyncSave\",e[e.RemoteRetrieved=11]=\"RemoteRetrieved\",e[e.RemoteSaved=12]=\"RemoteSaved\"}(r=t.PayloadEmitSource||(t.PayloadEmitSource={})),t.isPayloadSourceInternalChange=function(e){return[r.RemoteSaved,r.PreSyncSave].includes(e)},t.isPayloadSourceRetrieved=function(e){return[r.RemoteRetrieved,r.ComponentRetrieved].includes(e)}},50417:(e,t)=>{var r;Object.defineProperty(t,\"__esModule\",{value:!0}),t.PayloadSource=void 0,(r=t.PayloadSource||(t.PayloadSource={}))[r.Constructor=1]=\"Constructor\",r[r.RemoteRetrieved=2]=\"RemoteRetrieved\",r[r.RemoteSaved=3]=\"RemoteSaved\",r[r.FileImport=4]=\"FileImport\"},41935:(e,t)=>{Object.defineProperty(t,\"__esModule\",{value:!0}),t.PayloadTimestampDefaults=void 0,t.PayloadTimestampDefaults=function(){return{updated_at:new Date(0),created_at:new Date,updated_at_timestamp:0,created_at_timestamp:0}}},18667:function(e,t,r){var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!(\"get\"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)\"default\"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,\"__esModule\",{value:!0}),i(r(19332),t),i(r(38111),t),i(r(50987),t),i(r(63188),t),i(r(60196),t),i(r(95619),t),i(r(81560),t),i(r(61481),t),i(r(98890),t),i(r(50339),t),i(r(50417),t),i(r(26949),t),i(r(41935),t)},61335:(e,t)=>{Object.defineProperty(t,\"__esModule\",{value:!0})},22386:(e,t)=>{Object.defineProperty(t,\"__esModule\",{value:!0})},21984:(e,t)=>{var r;Object.defineProperty(t,\"__esModule\",{value:!0}),t.ContentReferenceType=void 0,(r=t.ContentReferenceType||(t.ContentReferenceType={})).TagToParentTag=\"TagToParentTag\",r.TagToFile=\"TagToFile\",r.FileToNote=\"FileToNote\",r.FileToFile=\"FileToFile\",r.NoteToNote=\"NoteToNote\"},15744:(e,t)=>{Object.defineProperty(t,\"__esModule\",{value:!0})},43239:(e,t,r)=>{Object.defineProperty(t,\"__esModule\",{value:!0}),t.isTagToParentTagReference=t.isLegacyTagToNoteReference=t.isReference=t.isLegacyAnonymousReference=void 0;const n=r(10256),i=r(21984);t.isLegacyAnonymousReference=e=>void 0===e.reference_type,t.isReference=e=>void 0!==e.reference_type,t.isLegacyTagToNoteReference=(e,t)=>{const r=e.content_type===n.ContentType.Note,i=t.content_type===n.ContentType.Tag;return r&&i},t.isTagToParentTagReference=e=>(0,t.isReference)(e)&&e.reference_type===i.ContentReferenceType.TagToParentTag},7893:(e,t)=>{Object.defineProperty(t,\"__esModule\",{value:!0})},19755:(e,t)=>{Object.defineProperty(t,\"__esModule\",{value:!0})},22104:(e,t)=>{Object.defineProperty(t,\"__esModule\",{value:!0})},67189:(e,t)=>{Object.defineProperty(t,\"__esModule\",{value:!0})},47073:(e,t)=>{Object.defineProperty(t,\"__esModule\",{value:!0})},28284:(e,t)=>{Object.defineProperty(t,\"__esModule\",{value:!0})},63726:(e,t)=>{Object.defineProperty(t,\"__esModule\",{value:!0})},5474:(e,t)=>{Object.defineProperty(t,\"__esModule\",{value:!0})},57039:(e,t,r)=>{Object.defineProperty(t,\"__esModule\",{value:!0}),t.isCorruptTransferPayload=t.isDeletedTransferPayload=t.isErrorDecryptingTransferPayload=t.isEncryptedTransferPayload=t.isDecryptedTransferPayload=void 0;const n=r(64657);function i(e){return\"content\"in e&&(0,n.isString)(e.content)}t.isDecryptedTransferPayload=function(e){return(0,n.isObject)(e.content)},t.isEncryptedTransferPayload=i,t.isErrorDecryptingTransferPayload=function(e){return i(e)&&!0===e.errorDecrypting},t.isDeletedTransferPayload=function(e){return\"deleted\"in e&&!0===e.deleted},t.isCorruptTransferPayload=function(e){const t=!0===e.deleted&&null!=e.content;return null==e.uuid||t}},82818:function(e,t,r){var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!(\"get\"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)\"default\"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,\"__esModule\",{value:!0}),i(r(47073),t),i(r(28284),t),i(r(63726),t),i(r(5474),t),i(r(57039),t)},63835:(e,t)=>{Object.defineProperty(t,\"__esModule\",{value:!0})},80625:(e,t)=>{var r;Object.defineProperty(t,\"__esModule\",{value:!0}),t.InvitationStatus=void 0,(r=t.InvitationStatus||(t.InvitationStatus={})).Sent=\"sent\",r.Canceled=\"canceled\",r.Accepted=\"accepted\",r.Declined=\"declined\"},33132:(e,t)=>{var r;Object.defineProperty(t,\"__esModule\",{value:!0}),t.InviteeIdentifierType=void 0,(r=t.InviteeIdentifierType||(t.InviteeIdentifierType={})).Email=\"email\",r.Hash=\"hash\",r.Uuid=\"uuid\"},14668:(e,t)=>{var r;Object.defineProperty(t,\"__esModule\",{value:!0}),t.InviterIdentifierType=void 0,(r=t.InviterIdentifierType||(t.InviterIdentifierType={})).Email=\"email\",r.Uuid=\"uuid\"},51252:(e,t)=>{Object.defineProperty(t,\"__esModule\",{value:!0})},28585:(e,t)=>{Object.defineProperty(t,\"__esModule\",{value:!0})},6689:(e,t)=>{var r;Object.defineProperty(t,\"__esModule\",{value:!0}),t.Environment=void 0,(r=t.Environment||(t.Environment={}))[r.Web=1]=\"Web\",r[r.Desktop=2]=\"Desktop\",r[r.Mobile=3]=\"Mobile\"},89320:(e,t)=>{var r;Object.defineProperty(t,\"__esModule\",{value:!0}),t.Platform=void 0,(r=t.Platform||(t.Platform={}))[r.Ios=1]=\"Ios\",r[r.Android=2]=\"Android\",r[r.MacWeb=3]=\"MacWeb\",r[r.MacDesktop=4]=\"MacDesktop\",r[r.WindowsWeb=5]=\"WindowsWeb\",r[r.WindowsDesktop=6]=\"WindowsDesktop\",r[r.LinuxWeb=7]=\"LinuxWeb\",r[r.LinuxDesktop=8]=\"LinuxDesktop\"},88324:(e,t)=>{Object.defineProperty(t,\"__esModule\",{value:!0})},95099:(e,t)=>{Object.defineProperty(t,\"__esModule\",{value:!0})},30969:(e,t)=>{Object.defineProperty(t,\"__esModule\",{value:!0})},28001:(e,t)=>{Object.defineProperty(t,\"__esModule\",{value:!0})},52659:(e,t,r)=>{Object.defineProperty(t,\"__esModule\",{value:!0}),t.Collection=void 0;const n=r(64657),i=r(31773);t.Collection=class{constructor(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0,r=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,o=arguments.length>4?arguments[4]:void 0;this.map={},this.typedMap={},this.dirtyIndex=new Set,this.nondeletedIndex=new Set,this.invalidsIndex=new Set,this.isDecryptedElement=e=>(0,n.isObject)(e.content),this.isEncryptedElement=e=>\"content\"in e&&(0,n.isString)(e.content),this.isErrorDecryptingElement=e=>this.isEncryptedElement(e)&&!0===e.errorDecrypting,this.isDeletedElement=e=>\"deleted\"in e&&!0===e.deleted,this.isNonDeletedElement=e=>!this.isDeletedElement(e),e?(this.map=t,this.typedMap=r,this.referenceMap=i,this.conflictMap=o):(this.referenceMap=new n.UuidMap,this.conflictMap=new n.UuidMap)}uuids(){return Object.keys(this.map)}all(e){var t;if(e){if(Array.isArray(e)){const t=[];for(const r of e)(0,n.extendArray)(t,this.typedMap[r]||[]);return t}return(null===(t=this.typedMap[e])||void 0===t?void 0:t.slice())||[]}return Object.keys(this.map).map((e=>this.map[e]))}nondeletedElements(){const e=Array.from(this.nondeletedIndex);return this.findAll(e).filter(this.isNonDeletedElement)}invalidElements(){const e=Array.from(this.invalidsIndex);return this.findAll(e)}dirtyElements(){const e=Array.from(this.dirtyIndex);return this.findAll(e)}findAll(e){const t=[];for(const r of e){const e=this.map[r];e&&t.push(e)}return t}find(e){return this.map[e]}has(e){return null!=this.find(e)}findAllIncludingBlanks(e){const t=[];for(const r of e){const e=this.map[r];t.push(e)}return t}set(e){if(0!==(e=Array.isArray(e)?e:[e]).length)for(const t of e){if(this.map[t.uuid]=t,this.setToTypedMap(t),this.isErrorDecryptingElement(t)?this.invalidsIndex.add(t.uuid):this.invalidsIndex.delete(t.uuid),this.isDecryptedElement(t)){const e=t.content.conflict_of;e&&this.conflictMap.establishRelationship(e,t.uuid),this.referenceMap.setAllRelationships(t.uuid,t.references.map((e=>e.uuid)))}t.dirty?this.dirtyIndex.add(t.uuid):this.dirtyIndex.delete(t.uuid),t.deleted?this.nondeletedIndex.delete(t.uuid):this.nondeletedIndex.add(t.uuid)}else console.warn(\"Attempting to set 0 elements onto collection\")}discard(e){e=Array.isArray(e)?e:[e];for(const t of e)this.deleteFromTypedMap(t),delete this.map[t.uuid],this.conflictMap.removeFromMap(t.uuid),this.referenceMap.removeFromMap(t.uuid)}uuidReferencesForUuid(e){return this.referenceMap.getDirectRelationships(e)}uuidsThatReferenceUuid(e){return this.referenceMap.getInverseRelationships(e)}referencesForElement(e){const t=this.referenceMap.getDirectRelationships(e.uuid);return this.findAll(t)}conflictsOf(e){const t=this.conflictMap.getDirectRelationships(e);return this.findAll(t)}elementsReferencingElement(e,t){const r=this.uuidsThatReferenceUuid(e.uuid),n=this.findAll(r);return t?n.filter((e=>e.content_type===t)):n}setToTypedMap(e){const t=this.typedMap[e.content_type]||[];(0,i.remove)(t,{uuid:e.uuid}),t.push(e),this.typedMap[e.content_type]=t}deleteFromTypedMap(e){const t=this.typedMap[e.content_type]||[];(0,i.remove)(t,{uuid:e.uuid}),this.typedMap[e.content_type]=t}}},74520:(e,t)=>{Object.defineProperty(t,\"__esModule\",{value:!0}),t.CollectionSort=void 0,t.CollectionSort={CreatedAt:\"created_at\",UpdatedAt:\"userModifiedDate\",Title:\"title\"}},12714:(e,t,r)=>{Object.defineProperty(t,\"__esModule\",{value:!0}),t.ItemCollection=void 0;const n=r(99562),i=r(52659);class o extends i.Collection{onChange(e){const t=e.changed.concat(e.inserted);t.length>0&&this.set(t),this.discard(e.discarded)}findDecrypted(e){const t=this.find(e);if(t)return(0,n.isDecryptedItem)(t)?t:void 0}findAllDecrypted(e){return this.findAll(e).filter(n.isDecryptedItem)}findAllDecryptedWithBlanks(e){return this.findAllIncludingBlanks(e).map((e=>{if(null==e||(0,n.isDecryptedItem)(e))return e}))}allDecrypted(e){return this.all(e).filter(n.isDecryptedItem)}}t.ItemCollection=o},6311:(e,t,r)=>{Object.defineProperty(t,\"__esModule\",{value:!0}),t.TagItemsIndex=void 0;const n=r(64657),i=r(10256),o=r(72897),s=r(12922);t.TagItemsIndex=class{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];this.collection=e,this.observers=t,this.tagToItemsMap={},this.allCountableItems=new Set,this.isItemCountable=e=>!!(0,s.isDecryptedItem)(e)&&!e.archived&&!e.trashed}addCountChangeObserver(e){this.observers.push(e);const t=this.observers;return()=>{(0,n.removeFromArray)(t,e)}}notifyObservers(e){for(const t of this.observers)t(e)}allCountableItemsCount(){return this.allCountableItems.size}countableItemsForTag(e){var t;return(null===(t=this.tagToItemsMap[e.uuid])||void 0===t?void 0:t.size)||0}onChange(e){const t=[...e.changed,...e.inserted,...e.discarded].filter((e=>e.content_type===i.ContentType.Note||e.content_type===i.ContentType.File)),r=[...e.changed,...e.inserted].filter(s.isDecryptedItem).filter(o.isTag);this.receiveItemChanges(t),this.receiveTagChanges(r)}receiveTagChanges(e){for(const t of e){const e=t.references.filter((e=>e.content_type===i.ContentType.Note||e.content_type===i.ContentType.File)).map((e=>e.uuid)).filter((e=>this.allCountableItems.has(e))),r=this.tagToItemsMap[t.uuid];this.tagToItemsMap[t.uuid]=new Set(e),(null==r?void 0:r.size)!==e.length&&this.notifyObservers(t.uuid)}}receiveItemChanges(e){const t=this.allCountableItems.size;for(const t of e){const e=this.isItemCountable(t);e?this.allCountableItems.add(t.uuid):this.allCountableItems.delete(t.uuid);const r=this.collection.uuidsThatReferenceUuid(t.uuid);for(const n of r){const r=this.setForTag(n),i=r.size;e?r.add(t.uuid):r.delete(t.uuid),i!==r.size&&this.notifyObservers(n)}}t!==this.allCountableItems.size&&this.notifyObservers(void 0)}setForTag(e){let t=this.tagToItemsMap[e];return t||(t=new Set,this.tagToItemsMap[e]=t),t}}},35082:(e,t,r)=>{Object.defineProperty(t,\"__esModule\",{value:!0}),t.ImmutablePayloadCollection=void 0;const n=r(86785);class i extends n.PayloadCollection{get payloads(){return this.all()}static WithPayloads(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];const t=new i;return e.length>0&&t.set(e),Object.freeze(t),t}static FromCollection(e){const t=Object.freeze(Object.assign({},e.map)),r=Object.freeze(Object.assign({},e.typedMap)),n=Object.freeze(e.referenceMap.makeCopy()),o=Object.freeze(e.conflictMap.makeCopy()),s=new i(!0,t,r,n,o);return Object.freeze(s),s}mutableCopy(){const e=Object.assign({},this.map),t=Object.assign({},this.typedMap),r=this.referenceMap.makeCopy(),i=this.conflictMap.makeCopy();return new n.PayloadCollection(!0,e,t,r,i)}}t.ImmutablePayloadCollection=i},86785:(e,t,r)=>{Object.defineProperty(t,\"__esModule\",{value:!0}),t.PayloadCollection=void 0;const n=r(52659);class i extends n.Collection{integrityPayloads(){return this.nondeletedElements().map((e=>({uuid:e.uuid,updated_at_timestamp:e.serverUpdatedAtTimestamp})))}}t.PayloadCollection=i},40346:(e,t,r)=>{Object.defineProperty(t,\"__esModule\",{value:!0}),t.extendSyncDelta=void 0;const n=r(64657);t.extendSyncDelta=function(e,t){(0,n.extendArray)(e.emits,t.emits),t.ignored&&(e.ignored||(e.ignored=[]),(0,n.extendArray)(e.ignored,t.ignored))}},49599:(e,t,r)=>{Object.defineProperty(t,\"__esModule\",{value:!0}),t.ConflictDelta=void 0;const n=r(64657),i=r(24320),o=r(32405),s=r(25569),a=r(30489),c=r(55687),l=r(98890),u=r(10256),d=r(29998),p=r(6754);t.ConflictDelta=class{constructor(e,t,r,n){this.baseCollection=e,this.basePayload=t,this.applyPayload=r,this.historyMap=n}result(){if(this.applyPayload.content_type===u.ContentType.ItemsKey)return new d.ItemsKeyDelta(this.baseCollection,[this.applyPayload]).result();const e=this.getConflictStrategy();return{emits:this.handleStrategy(e),ignored:[]}}getConflictStrategy(){const e=(0,l.isErrorDecryptingPayload)(this.basePayload),t=(0,l.isErrorDecryptingPayload)(this.applyPayload);if(e||t){if(e&&!t)return s.ConflictStrategy.KeepBaseDuplicateApply;if(!e&&t)return s.ConflictStrategy.DuplicateBaseKeepApply;if(e&&t)return s.ConflictStrategy.KeepApply}else{if((0,l.isDecryptedPayload)(this.basePayload)){const e=this.baseCollection.conflictsOf(this.applyPayload.uuid)[0];if(e&&(0,l.isDecryptedPayload)(e)&&(0,l.isDecryptedPayload)(this.applyPayload)&&(0,c.PayloadContentsEqual)(e,this.applyPayload))return s.ConflictStrategy.KeepBase;{const e=(0,i.CreateDecryptedItemFromPayload)(this.basePayload),t=(0,i.CreateItemFromPayload)(this.applyPayload),r=this.historyMap[this.basePayload.uuid]||[],n=o.historyMapFunctions.getNewestRevision(r);return e.strategyWhenConflictingWithItem(t,n)}}if((0,l.isDeletedPayload)(this.basePayload)||(0,l.isDeletedPayload)(this.applyPayload))return(0,l.isDeletedPayload)(this.basePayload),(0,l.isDeletedPayload)(this.applyPayload),s.ConflictStrategy.KeepApply}throw Error(\"Unhandled strategy in Conflict Delta getConflictStrategy\")}handleStrategy(e){if(e===s.ConflictStrategy.KeepBase)return this.handleKeepBaseStrategy();if(e===s.ConflictStrategy.KeepApply)return this.handleKeepApplyStrategy();if(e===s.ConflictStrategy.KeepBaseDuplicateApply)return this.handleKeepBaseDuplicateApplyStrategy();if(e===s.ConflictStrategy.DuplicateBaseKeepApply)return this.handleDuplicateBaseKeepApply();if(e===s.ConflictStrategy.KeepBaseMergeRefs)return this.handleKeepBaseMergeRefsStrategy();throw Error(\"Unhandled strategy in conflict delta payloadsByHandlingStrategy\")}handleKeepBaseStrategy(){const e=(0,n.greaterOfTwoDates)(this.basePayload.serverUpdatedAt,this.applyPayload.serverUpdatedAt),t=Math.max(this.basePayload.updated_at_timestamp,this.applyPayload.updated_at_timestamp);return[this.basePayload.copyAsSyncResolved({updated_at:e,updated_at_timestamp:t,dirtyIndex:(0,p.getIncrementedDirtyIndex)(),dirty:!0,lastSyncEnd:new Date},this.applyPayload.source)]}handleKeepApplyStrategy(){return[this.applyPayload.copyAsSyncResolved({lastSyncBegan:this.basePayload.lastSyncBegan,lastSyncEnd:new Date,dirty:!1},this.applyPayload.source)]}handleKeepBaseDuplicateApplyStrategy(){const e=(0,n.greaterOfTwoDates)(this.basePayload.serverUpdatedAt,this.applyPayload.serverUpdatedAt),t=Math.max(this.basePayload.updated_at_timestamp,this.applyPayload.updated_at_timestamp),r=this.basePayload.copyAsSyncResolved({updated_at:e,updated_at_timestamp:t,dirty:!0,dirtyIndex:(0,p.getIncrementedDirtyIndex)(),lastSyncEnd:new Date},this.applyPayload.source),i=(0,a.PayloadsByDuplicating)({payload:this.applyPayload,baseCollection:this.baseCollection,isConflict:!0,source:this.applyPayload.source});return[r].concat(i)}handleDuplicateBaseKeepApply(){const e=(0,a.PayloadsByDuplicating)({payload:this.basePayload,baseCollection:this.baseCollection,isConflict:!0,source:this.applyPayload.source}),t=this.applyPayload.copyAsSyncResolved({lastSyncBegan:this.basePayload.lastSyncBegan,dirty:!1,lastSyncEnd:new Date},this.applyPayload.source);return e.concat([t])}handleKeepBaseMergeRefsStrategy(){if(!(0,l.isDecryptedPayload)(this.basePayload)||!(0,l.isDecryptedPayload)(this.applyPayload))return[];const e=(0,n.uniqCombineObjArrays)(this.basePayload.content.references,this.applyPayload.content.references,[\"uuid\",\"content_type\"]),t=(0,n.greaterOfTwoDates)(this.basePayload.serverUpdatedAt,this.applyPayload.serverUpdatedAt),r=Math.max(this.basePayload.updated_at_timestamp,this.applyPayload.updated_at_timestamp);return[this.basePayload.copyAsSyncResolved({updated_at:t,updated_at_timestamp:r,dirty:!0,dirtyIndex:(0,p.getIncrementedDirtyIndex)(),lastSyncEnd:new Date,content:Object.assign(Object.assign({},this.basePayload.content),{references:e})},this.applyPayload.source)]}}},19143:(e,t,r)=>{Object.defineProperty(t,\"__esModule\",{value:!0}),t.DeltaFileImport=void 0;const n=r(49599),i=r(18667),o=r(40346),s=r(6754);t.DeltaFileImport=class{constructor(e,t,r){this.baseCollection=e,this.applyPayloads=t,this.historyMap=r}result(){const e={emits:[],ignored:[],source:i.PayloadEmitSource.FileImport};for(const t of this.applyPayloads){const r=this.resolvePayload(t,e);(0,o.extendSyncDelta)(e,r)}return e}resolvePayload(e,t){let r=t.emits.find((t=>(0,i.isDecryptedPayload)(t)&&t.content.conflict_of===e.uuid));if(r||(r=t.emits.find((t=>t.uuid===e.uuid))),!r){const t=this.baseCollection.find(e.uuid);t&&(0,i.isDecryptedPayload)(t)&&(r=t)}return r?new n.ConflictDelta(this.baseCollection,r,e,this.historyMap).result():{emits:[e.copyAsSyncResolved({dirty:!0,dirtyIndex:(0,s.getIncrementedDirtyIndex)(),lastSyncEnd:new Date(0)})],ignored:[]}}}},29998:(e,t,r)=>{Object.defineProperty(t,\"__esModule\",{value:!0}),t.ItemsKeyDelta=void 0;const n=r(18667),i=r(14939);t.ItemsKeyDelta=class{constructor(e,t){this.baseCollection=e,this.applyPayloads=t}result(){const e=[],t=[];for(const r of this.applyPayloads){const o=this.baseCollection.find(r.uuid);if(o)if((0,n.isEncryptedPayload)(r)&&(0,n.isDecryptedPayload)(o)){const n=o.copyAsSyncResolved({updated_at_timestamp:r.updated_at_timestamp,updated_at:r.updated_at,dirty:!1,lastSyncEnd:new Date});e.push(n),t.push(r)}else e.push((0,i.payloadByFinalizingSyncState)(r,this.baseCollection));else e.push((0,i.payloadByFinalizingSyncState)(r,this.baseCollection))}return{emits:e,ignored:t}}}},65310:(e,t,r)=>{Object.defineProperty(t,\"__esModule\",{value:!0}),t.DeltaOfflineSaved=void 0;const n=r(18667),i=r(14939);t.DeltaOfflineSaved=class{constructor(e,t){this.baseCollection=e,this.applyContextualPayloads=t}result(){const e=[];for(const t of this.applyContextualPayloads){const r=this.baseCollection.find(t.uuid);r&&e.push((0,i.payloadByFinalizingSyncState)(r,this.baseCollection))}return{emits:e,source:n.PayloadEmitSource.OfflineSyncSaved}}}},79873:(e,t,r)=>{Object.defineProperty(t,\"__esModule\",{value:!0}),t.DeltaOutOfSync=void 0;const n=r(18667),i=r(98890),o=r(55687),s=r(49599),a=r(10256),c=r(29998),l=r(14939),u=r(40346);t.DeltaOutOfSync=class{constructor(e,t,r){this.baseCollection=e,this.applyCollection=t,this.historyMap=r}result(){const e={emits:[],ignored:[],source:n.PayloadEmitSource.RemoteRetrieved};for(const t of this.applyCollection.all()){if(t.content_type===a.ContentType.ItemsKey){const r=new c.ItemsKeyDelta(this.baseCollection,[t]).result();(0,u.extendSyncDelta)(e,r);continue}const r=this.baseCollection.find(t.uuid);if(!r){e.emits.push((0,l.payloadByFinalizingSyncState)(t,this.baseCollection));continue}const n=(0,i.isDecryptedPayload)(r),d=(0,i.isDecryptedPayload)(t);if(d!==n||d&&n&&!(0,o.PayloadContentsEqual)(t,r)){const n=new s.ConflictDelta(this.baseCollection,r,t,this.historyMap);(0,u.extendSyncDelta)(e,n.result())}else e.emits.push((0,l.payloadByFinalizingSyncState)(t,this.baseCollection))}return e}}},89191:(e,t,r)=>{Object.defineProperty(t,\"__esModule\",{value:!0}),t.DeltaRemoteDataConflicts=void 0;const n=r(49599),i=r(18667),o=r(40346),s=r(14939);t.DeltaRemoteDataConflicts=class{constructor(e,t,r){this.baseCollection=e,this.applyCollection=t,this.historyMap=r}result(){const e={emits:[],ignored:[],source:i.PayloadEmitSource.RemoteRetrieved};for(const t of this.applyCollection.all()){const r=this.baseCollection.find(t.uuid);if(null==r){e.emits.push((0,s.payloadByFinalizingSyncState)(t,this.baseCollection));continue}const i=new n.ConflictDelta(this.baseCollection,r,t,this.historyMap);(0,o.extendSyncDelta)(e,i.result())}return e}}},79341:(e,t,r)=>{Object.defineProperty(t,\"__esModule\",{value:!0}),t.DeltaRemoteRejected=void 0;const n=r(50417),i=r(18667);t.DeltaRemoteRejected=class{constructor(e,t){this.baseCollection=e,this.applyCollection=t}result(){const e=[];for(const t of this.applyCollection.all()){const r=this.baseCollection.find(t.uuid);if(!r)continue;const i=r.copyAsSyncResolved({dirty:!1,lastSyncEnd:new Date},n.PayloadSource.RemoteSaved);e.push(i)}return{emits:e,source:i.PayloadEmitSource.RemoteSaved}}}},66862:(e,t,r)=>{Object.defineProperty(t,\"__esModule\",{value:!0}),t.DeltaRemoteRetrieved=void 0;const n=r(49599),i=r(98890),o=r(18667),s=r(10256),a=r(14939),c=r(29998),l=r(40346);t.DeltaRemoteRetrieved=class{constructor(e,t,r,n){this.baseCollection=e,this.applyCollection=t,this.itemsSavedOrSaving=r,this.historyMap=n}isUuidOfPayloadCurrentlySavingOrSaved(e){return null!=this.itemsSavedOrSaving.find((t=>t.uuid===e))}result(){const e={emits:[],ignored:[],source:o.PayloadEmitSource.RemoteRetrieved},t=[];for(const r of this.applyCollection.all()){if(r.content_type===s.ContentType.ItemsKey){const t=new c.ItemsKeyDelta(this.baseCollection,[r]).result();(0,l.extendSyncDelta)(e,t);continue}if(this.isUuidOfPayloadCurrentlySavingOrSaved(r.uuid)){t.push(r);continue}const n=this.baseCollection.find(r.uuid);!(null==n?void 0:n.dirty)||(0,i.isErrorDecryptingPayload)(n)?e.emits.push((0,a.payloadByFinalizingSyncState)(r,this.baseCollection)):t.push(r)}for(const r of t){if(!(0,i.isDecryptedPayload)(r))continue;const t=this.baseCollection.find(r.uuid);if(!t)continue;const o=new n.ConflictDelta(this.baseCollection,t,r,this.historyMap);(0,l.extendSyncDelta)(e,o.result())}return e}}},17759:(e,t,r)=>{Object.defineProperty(t,\"__esModule\",{value:!0}),t.DeltaRemoteSaved=void 0;const n=r(63188),i=r(50417),o=r(98890),s=r(18667),a=r(14939),c=r(57650),l=r(6754);t.DeltaRemoteSaved=class{constructor(e,t){this.baseCollection=e,this.applyContextualPayloads=t}result(){const e=[];for(const t of this.applyContextualPayloads){const r=this.baseCollection.find(t.uuid);if(r)if((0,o.isDeletedPayload)(r)){const o=!t.deleted,s=t.deleted;if(o){const r=new n.DeletedPayload(Object.assign(Object.assign(Object.assign({},t),{deleted:!0,content:void 0,dirtyIndex:(0,l.getIncrementedDirtyIndex)()}),(0,c.BuildSyncResolvedParams)({dirty:!0,lastSyncEnd:new Date})),i.PayloadSource.RemoteSaved);e.push(r)}else if(s){const n=r.copy(Object.assign(Object.assign(Object.assign({},t),{deleted:!0}),(0,c.BuildSyncResolvedParams)({dirty:!1,lastSyncEnd:new Date})),i.PayloadSource.RemoteSaved);e.push(n)}}else{const n=(0,a.payloadByFinalizingSyncState)(r.copy(Object.assign(Object.assign({},t),{deleted:!1}),i.PayloadSource.RemoteSaved),this.baseCollection);e.push(n)}else{const r=new n.DeletedPayload(Object.assign(Object.assign(Object.assign({},t),{deleted:!0,content:void 0}),(0,c.BuildSyncResolvedParams)({dirty:!1,lastSyncEnd:new Date})),i.PayloadSource.RemoteSaved);e.push(r)}}return{emits:e,source:s.PayloadEmitSource.RemoteSaved}}}},28637:(e,t,r)=>{Object.defineProperty(t,\"__esModule\",{value:!0}),t.DeltaRemoteUuidConflicts=void 0;const n=r(64657),i=r(35082),o=r(24439),s=r(98890),a=r(18667);t.DeltaRemoteUuidConflicts=class{constructor(e,t){this.baseCollection=e,this.applyCollection=t}result(){const e=[],t=this.baseCollection.mutableCopy();for(const r of this.applyCollection.all()){const a=e.find((e=>e.uuid===r.uuid))||r;if(!(0,s.isDecryptedPayload)(a))continue;const c=(0,o.PayloadsByAlternatingUuid)(a,i.ImmutablePayloadCollection.FromCollection(t));t.set(c),(0,n.filterFromArray)(e,(e=>(0,n.Uuids)(c).includes(e.uuid))),(0,n.extendArray)(e,c)}return{emits:e,source:a.PayloadEmitSource.RemoteRetrieved}}}},14939:(e,t,r)=>{Object.defineProperty(t,\"__esModule\",{value:!0}),t.payloadsByFinalizingSyncState=t.payloadByFinalizingSyncState=void 0;const n=r(6754);function i(e,t){const r=t.find(e.uuid);if(!r)return e.copyAsSyncResolved({dirty:!1,lastSyncEnd:new Date});const i=!(!r.dirtyIndex||!r.globalDirtyIndexAtLastSync)&&r.dirtyIndex>r.globalDirtyIndexAtLastSync;return e.copyAsSyncResolved({dirty:i,dirtyIndex:i?(0,n.getIncrementedDirtyIndex)():void 0,lastSyncEnd:new Date})}t.payloadByFinalizingSyncState=i,t.payloadsByFinalizingSyncState=function(e,t){return e.map((e=>i(e,t)))}},57650:(e,t)=>{Object.defineProperty(t,\"__esModule\",{value:!0}),t.BuildSyncResolvedParams=void 0,t.BuildSyncResolvedParams=function(e){return e}},1750:function(e,t,r){var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!(\"get\"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)\"default\"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,\"__esModule\",{value:!0}),i(r(49599),t),i(r(19143),t),i(r(79873),t),i(r(89191),t),i(r(66862),t),i(r(17759),t),i(r(65310),t),i(r(28637),t),i(r(79341),t),i(r(40346),t)},6754:(e,t)=>{Object.defineProperty(t,\"__esModule\",{value:!0}),t.getCurrentDirtyIndex=t.getIncrementedDirtyIndex=void 0;let r=0;t.getIncrementedDirtyIndex=function(){return r++,r},t.getCurrentDirtyIndex=function(){return r}},23072:(e,t)=>{Object.defineProperty(t,\"__esModule\",{value:!0})},23075:(e,t,r)=>{Object.defineProperty(t,\"__esModule\",{value:!0}),t.computeFiltersForDisplayOptions=t.computeUnifiedFilterForDisplayOptions=void 0;const n=r(10256),i=r(4103),o=r(1265),s=r(52252);function a(e,t){const r=[];let a;if(e.views&&e.views.length>0){const s=new i.CompoundPredicate(\"and\",e.views.map((e=>e.predicate)));a=s,r.push((e=>{if(s.keypathIncludesString(\"tags\")){const r=o.ItemWithTags.Create(e.payload,e,t.elementsReferencingElement(e,n.ContentType.Tag));return s.matchesItem(r)}return s.matchesItem(e)}))}if(e.tags&&e.tags.length>0)for(const t of e.tags)r.push((e=>t.isReferencingItem(e)));if(!1!==e.includePinned||(null==a?void 0:a.keypathIncludesString(\"pinned\"))||r.push((e=>!e.pinned)),!1!==e.includeProtected||(null==a?void 0:a.keypathIncludesString(\"protected\"))||r.push((e=>!e.protected)),!1!==e.includeTrashed||(null==a?void 0:a.keypathIncludesString(\"trashed\"))||r.push((e=>!e.trashed)),!1!==e.includeArchived||(null==a?void 0:a.keypathIncludesString(\"archived\"))||r.push((e=>!e.archived)),e.searchQuery){const n=e.searchQuery;r.push((e=>(0,s.itemMatchesQuery)(e,n,t)))}return r}t.computeUnifiedFilterForDisplayOptions=function(e,t){const r=a(e,t);return e=>(0,s.itemPassesFilters)(e,r)},t.computeFiltersForDisplayOptions=a},69089:(e,t,r)=>{Object.defineProperty(t,\"__esModule\",{value:!0}),t.ItemDisplayController=void 0;const n=r(64657),i=r(12922),o=r(97713);t.ItemDisplayController=class{constructor(e,t,r){this.collection=e,this.contentTypes=t,this.options=r,this.sortMap={},this.sortedItems=[],this.needsSort=!0,this.filterThenSortElements(this.collection.all(this.contentTypes))}items(){return this.sortedItems}setDisplayOptions(e){this.options=Object.assign(Object.assign({},this.options),e),this.needsSort=!0,this.filterThenSortElements(this.collection.all(this.contentTypes))}onCollectionChange(e){const t=[...e.changed,...e.inserted,...e.discarded].filter((e=>this.contentTypes.includes(e.content_type)));this.filterThenSortElements(t)}filterThenSortElements(e){var t;for(const r of e){const e=this.sortMap[r.uuid],o=null!=e?this.sortedItems[e]:void 0,s=()=>{null!=e&&(delete this.sortMap[r.uuid],this.sortedItems[e]=void 0,this.needsSort=!0)};if((0,i.isDeletedItem)(r)||(0,i.isEncryptedItem)(r))s();else if(!this.collection.has(r.uuid)||(null===(t=this.options.hiddenContentTypes)||void 0===t?void 0:t.includes(r.content_type))||this.options.customFilter&&!this.options.customFilter(r))s();else if(null!=o){const t=o[this.options.sortBy],i=r[this.options.sortBy];this.sortedItems[e]=r;const s=o.pinned!==r.pinned;(0,n.compareValues)(t,i)&&!s||(this.needsSort=!0)}else this.sortedItems.push(r),this.needsSort=!0}this.needsSort&&(this.needsSort=!1,this.resortItems())}resortItems(){const e=this.sortedItems.sort(((e,t)=>(0,o.sortTwoItems)(e,t,this.options.sortBy,this.options.sortDirection))),t=[];let r=0;for(const n of e)n&&(t.push(n),this.sortMap[n.uuid]=r,r++);this.sortedItems=t}}},1265:(e,t,r)=>{Object.defineProperty(t,\"__esModule\",{value:!0}),t.ItemWithTags=void 0;const n=r(12922);class i extends n.DecryptedItem{constructor(e,t,r){super(e),this.item=t,this.tags=r,this.tags=r||e.content.tags}static Create(e,t,r){return new i(e,t,r)}get tagsCount(){var e;return(null===(e=this.tags)||void 0===e?void 0:e.length)||0}get title(){return this.item.title}get text(){return this.item.text}}t.ItemWithTags=i},52252:(e,t,r)=>{Object.defineProperty(t,\"__esModule\",{value:!0}),t.itemMatchesQuery=t.itemPassesFilters=t.itemsMatchingOptions=void 0;const n=r(10256),i=r(23075);var o;function s(e,t){for(const r of t)if(!r(e))return!1;return!0}function a(e,t){var r,n;if(0===t.length)return o.TitleAndText;const i=null===(r=e.title)||void 0===r?void 0:r.toLowerCase(),s=null===(n=e.text)||void 0===n?void 0:n.toLowerCase(),a=t.toLowerCase(),c=a.split(\" \"),l=function(e){const t=e.match(/\"(.*?)\"/);return t?t[1]:null}(a);if(l)return((null==i?void 0:i.includes(l))?o.Title:o.None)+((null==s?void 0:s.includes(l))?o.Text:o.None);if(function(e){return!!e.match(/\\b[0-9a-f]{8}\\b-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-\\b[0-9a-f]{12}\\b/)}(a))return e.uuid===a?o.Uuid:o.None;const u=i&&c.every((e=>i.indexOf(e)>=0)),d=s&&c.every((e=>s.indexOf(e)>=0));return(u?o.Title:0)+(d?o.Text:0)}!function(e){e[e.None=0]=\"None\",e[e.Title=1]=\"Title\",e[e.Text=2]=\"Text\",e[e.TitleAndText=3]=\"TitleAndText\",e[e.Uuid=5]=\"Uuid\"}(o||(o={})),t.itemsMatchingOptions=function(e,t,r){const n=(0,i.computeFiltersForDisplayOptions)(e,r);return t.filter((e=>s(e,n)))},t.itemPassesFilters=s,t.itemMatchesQuery=function(e,t,r){const i=r.elementsReferencingElement(e,n.ContentType.Tag).some((e=>a(e,t.query)!==o.None));if(e.protected&&!t.includeProtectedNoteText){const r=a(e,t.query);return r===o.Title||r===o.TitleAndText||i}return a(e,t.query)!==o.None||i}},26159:(e,t)=>{Object.defineProperty(t,\"__esModule\",{value:!0})},43142:(e,t)=>{Object.defineProperty(t,\"__esModule\",{value:!0})},97713:(e,t,r)=>{Object.defineProperty(t,\"__esModule\",{value:!0}),t.sortTwoItems=t.KeepSameOrder=t.SortRightFirst=t.SortLeftFirst=void 0;const n=r(64657),i=r(74520);t.SortLeftFirst=-1,t.SortRightFirst=1,t.KeepSameOrder=0,t.sortTwoItems=function e(r,o,s,a){let c=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(!r)return t.SortLeftFirst;if(!o)return t.SortRightFirst;if(!c){if(r.pinned&&o.pinned)return e(r,o,s,a,!0);if(r.pinned)return t.SortLeftFirst;if(o.pinned)return t.SortRightFirst}const l=r[s]||\"\",u=o[s]||\"\",d=\"asc\"===a;let p=t.KeepSameOrder;p=s===i.CollectionSort.Title&&(0,n.isString)(l)&&(0,n.isString)(u)&&l.length>0&&u.length>0?l.localeCompare(u,\"en\",{numeric:!0}):l>u?t.SortRightFirst:l<u?t.SortLeftFirst:t.KeepSameOrder;const h=p===t.SortLeftFirst,y=p===t.SortRightFirst;return h?d?t.SortLeftFirst:t.SortRightFirst:y?d?t.SortRightFirst:t.SortLeftFirst:t.KeepSameOrder}},87425:(e,t)=>{Object.defineProperty(t,\"__esModule\",{value:!0})},98295:function(e,t,r){var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!(\"get\"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)\"default\"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,\"__esModule\",{value:!0}),i(r(23072),t),i(r(23075),t),i(r(69089),t),i(r(1265),t),i(r(26159),t),i(r(52252),t),i(r(43142),t),i(r(87425),t)},22558:(e,t,r)=>{Object.defineProperty(t,\"__esModule\",{value:!0}),t.CreateHistoryEntryForPayload=void 0;const n=r(10256),i=r(57792),o=r(99438);t.CreateHistoryEntryForPayload=function(e,t){return new(e.content_type===n.ContentType.Note?o.NoteHistoryEntry:i.HistoryEntry)(e,t)}},57792:(e,t,r)=>{Object.defineProperty(t,\"__esModule\",{value:!0}),t.HistoryEntry=void 0;const n=r(64657),i=r(24320);t.HistoryEntry=class{constructor(e,t){var r;this.defaultContentKeyToDiffOn=\"text\",this.payload=e.copy(),this.previousEntry=t,this.hasPreviousEntry=!(0,n.isNullOrUndefined)(t);const i=this.payload.content[this.defaultContentKeyToDiffOn];if(i)if(t){const e=(null===(r=t.payload.content[this.defaultContentKeyToDiffOn])||void 0===r?void 0:r.length)||0;this.textCharDiffLength=i.length-e}else this.textCharDiffLength=i.length;else this.textCharDiffLength=0}itemFromPayload(){return(0,i.CreateDecryptedItemFromPayload)(this.payload)}isSameAsEntry(e){if(!e)return!1;const t=this.itemFromPayload(),r=e.itemFromPayload();return!(t.userModifiedDate.getTime()!==r.userModifiedDate.getTime())&&t.isItemContentEqualWith(r)}isDiscardable(){return!1}operationVector(){return void 0!==this.textCharDiffLength?this.hasPreviousEntry&&0!==this.textCharDiffLength?this.textCharDiffLength<0?-1:1:0:1}deltaSize(){return void 0!==this.textCharDiffLength?Math.abs(this.textCharDiffLength):1}}},6777:(e,t)=>{Object.defineProperty(t,\"__esModule\",{value:!0})},32405:(e,t)=>{Object.defineProperty(t,\"__esModule\",{value:!0}),t.historyMapFunctions=void 0,t.historyMapFunctions={getNewestRevision:e=>e[0]}},99438:(e,t,r)=>{Object.defineProperty(t,\"__esModule\",{value:!0}),t.NoteHistoryEntry=void 0;const n=r(64657),i=r(57792);class o extends i.HistoryEntry{previewTitle(){return this.payload.updated_at.getTime()>0?this.payload.updated_at.toLocaleString():this.payload.created_at.toLocaleString()}previewSubTitle(){return this.hasPreviousEntry?this.textCharDiffLength<0?\"\".concat(-1*this.textCharDiffLength,\" characters removed\"):this.textCharDiffLength>0?\"\".concat(this.textCharDiffLength,\" characters added\"):\"Title or metadata changed\":\"\".concat(this.textCharDiffLength,\" characters loaded\")}isDiscardable(){return(0,n.isEmpty)(this.payload.content.text)}}t.NoteHistoryEntry=o},63874:function(e,t,r){var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!(\"get\"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)\"default\"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,\"__esModule\",{value:!0}),i(r(22558),t),i(r(57792),t),i(r(32405),t),i(r(99438),t),i(r(6777),t)},66658:(e,t)=>{Object.defineProperty(t,\"__esModule\",{value:!0}),t.CreateItemDelta=void 0,t.CreateItemDelta=function(e){return{changed:e.changed||[],inserted:e.inserted||[],discarded:e.discarded||[],ignored:e.ignored||[],unerrored:e.unerrored||[]}}},83883:(e,t)=>{Object.defineProperty(t,\"__esModule\",{value:!0})},4103:(e,t)=>{Object.defineProperty(t,\"__esModule\",{value:!0}),t.CompoundPredicate=void 0,t.CompoundPredicate=class{constructor(e,t){this.operator=e,this.predicates=t}matchesItem(e){if(\"and\"===this.operator){for(const t of this.predicates)if(!t.matchesItem(e))return!1;return!0}if(\"or\"===this.operator){for(const t of this.predicates)if(t.matchesItem(e))return!0;return!1}return!1}keypathIncludesString(e){for(const t of this.predicates)if(t.keypathIncludesString(e))return!0;return!1}toJson(){return{operator:this.operator,value:this.predicates.map((e=>e.toJson()))}}}},41291:(e,t,r)=>{Object.defineProperty(t,\"__esModule\",{value:!0}),t.predicateFromDSLString=t.predicateFromJson=t.includesPredicateFromArguments=t.notPredicateFromArguments=t.compoundPredicateFromArguments=t.predicateFromArguments=void 0;const n=r(4103),i=r(37436),o=r(72650),s=r(54981),a=r(95536);function c(e,t,r){if(o.AllPredicateCompoundOperators.includes(t))return l(t,r);if(\"not\"===t)return new s.NotPredicate(u(r));if(\"includes\"===t&&e)return function(e){return!!o.SureValueNonObjectTypesAsStrings.includes(typeof e)||!!Array.isArray(e)&&!d(e)}(r)?new a.Predicate(e,t,r):new i.IncludesPredicate(e,u(r));if(e)return new a.Predicate(e,t,r);throw Error(\"Invalid predicate arguments\")}function l(e,t){const r=t.map((e=>u(e)));return new n.CompoundPredicate(e,r)}function u(e){if(Array.isArray(e))throw Error(\"Invalid predicateFromJson value\");return c(e.keypath,e.operator,d(e.value)?p(e.value):e.value)}function d(e){return Array.isArray(e)&&o.AllPredicateOperators.includes(e[1])}function p(e){const t=e[2];let r;if(Array.isArray(t)){const e=t;r=Array.isArray(e[0])?e.map((e=>p(e))):d(t[1])?p(e):t}else r=t;return{keypath:e[0],operator:e[1],value:r}}t.predicateFromArguments=c,t.compoundPredicateFromArguments=l,t.notPredicateFromArguments=function(e){const t=u(e);return new s.NotPredicate(t)},t.includesPredicateFromArguments=function(e,t){const r=u(t);return new i.IncludesPredicate(e,r)},t.predicateFromJson=u,t.predicateFromDSLString=function(e){try{const t=JSON.parse(e.substring(1,e.length));return t.shift(),u(p(t))}catch(e){throw Error(\"Invalid smart view syntax \".concat(e))}}},37436:(e,t)=>{Object.defineProperty(t,\"__esModule\",{value:!0}),t.IncludesPredicate=void 0,t.IncludesPredicate=class{constructor(e,t){this.keypath=e,this.predicate=t}matchesItem(e){const t=this.keypath.split(\".\").reduce(((e,t)=>e&&e[t]),e);return!!Array.isArray(t)&&t.some((e=>this.predicate.matchesItem(e)))}keypathIncludesString(e){return this.keypath.includes(e)}toJson(){return{keypath:this.keypath,operator:\"includes\",value:this.predicate.toJson()}}}},72650:(e,t)=>{Object.defineProperty(t,\"__esModule\",{value:!0}),t.SureValueNonObjectTypesAsStrings=t.AllPredicateOperators=t.AllPredicateCompoundOperators=void 0,t.AllPredicateCompoundOperators=[\"and\",\"or\"],t.AllPredicateOperators=[...t.AllPredicateCompoundOperators,\"!=\",\"=\",\"<\",\">\",\"<=\",\">=\",\"startsWith\",\"in\",\"matches\",\"not\",\"includes\"],t.SureValueNonObjectTypesAsStrings=[\"number\",\"string\",\"boolean\"]},54981:(e,t)=>{Object.defineProperty(t,\"__esModule\",{value:!0}),t.NotPredicate=void 0,t.NotPredicate=class{constructor(e){this.predicate=e}matchesItem(e){return!this.predicate.matchesItem(e)}keypathIncludesString(e){return this.predicate.keypathIncludesString(e)}toJson(){return{operator:\"not\",value:this.predicate.toJson()}}}},36640:(e,t,r)=>{Object.defineProperty(t,\"__esModule\",{value:!0}),t.valueMatchesTargetValue=void 0;const n=r(64657),i=r(25929);t.valueMatchesTargetValue=function e(t,r,o){if(null==o)return!1;if(\"string\"==typeof o&&o.includes(\".ago\")&&(o=(0,i.dateFromDSLDateString)(o)),\"string\"==typeof o&&(o=o.toLowerCase()),\"string\"==typeof t&&(t=t.toLowerCase()),\"not\"===r)return!e(t,\"=\",o);if(null==t){const e=[!1,\"\",null,void 0,NaN].includes(o);return\"!=\"===r?!e:e}if(\"=\"===r)return Array.isArray(t)?JSON.stringify(t)===JSON.stringify(o):t===o;if(\"!=\"===r)return Array.isArray(t)?JSON.stringify(t)!==JSON.stringify(o):t!==o;if(\"<\"===r)return t<o;if(\">\"===r)return t>o;if(\"<=\"===r)return t<=o;if(\">=\"===r)return t>=o;if(\"startsWith\"===r)return t.startsWith(o);if(\"in\"===r&&Array.isArray(o))return o.includes(t);if(\"includes\"===r){if((0,n.isString)(t))return t.includes(o);if((0,n.isString)(o)&&((0,n.isString)(t)||Array.isArray(t)))return t.includes(o)}return\"matches\"===r&&new RegExp(o).test(t)}},95536:(e,t,r)=>{Object.defineProperty(t,\"__esModule\",{value:!0}),t.Predicate=void 0;const n=r(36640);t.Predicate=class{constructor(e,t,r){this.keypath=e,this.operator=t,this.targetValue=r,\"true\"!==this.targetValue&&\"false\"!==this.targetValue||(this.targetValue=JSON.parse(this.targetValue))}keypathIncludesString(e){return this.keypath.includes(e)}matchesItem(e){const t=this.keypath.split(\".\").reduce(((e,t)=>e&&e[t]),e);return(0,n.valueMatchesTargetValue)(t,this.operator,this.targetValue)}toJson(){return{keypath:this.keypath,operator:this.operator,value:this.targetValue}}}},25929:(e,t)=>{Object.defineProperty(t,\"__esModule\",{value:!0}),t.dateFromDSLDateString=void 0,t.dateFromDSLDateString=function(e){const t=e.split(\".\"),r=t[1],n=new Date,i=parseInt(t[0]);return\"days\"===r?n.setDate(n.getDate()-i):\"hours\"===r&&n.setHours(n.getHours()-i),n}},61079:(e,t,r)=>{Object.defineProperty(t,\"__esModule\",{value:!0}),t.SNActionsExtension=void 0;const n=r(59867),i=r(25569);class o extends n.DecryptedItem{constructor(e){super(e),this.actions=[],this.name=e.content.name||\"\",this.description=e.content.description||\"\",this.url=e.content.hosted_url||e.content.url,this.supported_types=e.content.supported_types,this.package_info=this.payload.content.package_info||{},this.deprecation=e.content.deprecation,this.actions=e.content.actions}get displayName(){return this.name}get thirdPartyPackageInfo(){return this.package_info}get isListedExtension(){return\"org.standardnotes.listed\"===this.package_info.identifier}actionsWithContextForItem(e){return this.actions.filter((t=>t.context===e.content_type||\"Item\"===t.context))}strategyWhenConflictingWithItem(e,t){return i.ConflictStrategy.KeepBase}}t.SNActionsExtension=o},83062:(e,t,r)=>{Object.defineProperty(t,\"__esModule\",{value:!0}),t.ActionsExtensionMutator=void 0;const n=r(66276);class i extends n.DecryptedItemMutator{set description(e){this.mutableContent.description=e}set supported_types(e){this.mutableContent.supported_types=e}set actions(e){this.mutableContent.actions=e}set deprecation(e){this.mutableContent.deprecation=e}}t.ActionsExtensionMutator=i},87966:(e,t)=>{var r,n;Object.defineProperty(t,\"__esModule\",{value:!0}),t.ActionVerb=t.ActionAccessType=void 0,(n=t.ActionAccessType||(t.ActionAccessType={})).Encrypted=\"encrypted\",n.Decrypted=\"decrypted\",(r=t.ActionVerb||(t.ActionVerb={})).Get=\"get\",r.Render=\"render\",r.Show=\"show\",r.Post=\"post\",r.Nested=\"nested\"},93261:function(e,t,r){var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!(\"get\"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)\"default\"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,\"__esModule\",{value:!0}),i(r(61079),t),i(r(83062),t),i(r(87966),t)},58892:(e,t,r)=>{Object.defineProperty(t,\"__esModule\",{value:!0}),t.SNComponent=t.isComponentOrTheme=t.isComponent=void 0;const n=r(64657),i=r(10256),o=r(70295),s=r(47759),a=r(25569),c=r(59867),l=r(95536);t.isComponent=e=>e.content_type===i.ContentType.Component,t.isComponentOrTheme=e=>e.content_type===i.ContentType.Component||e.content_type===i.ContentType.Theme;class u extends c.DecryptedItem{constructor(e){super(e),this.permissions=[],this.componentData=this.payload.content.componentData||{},e.content.hosted_url&&(0,n.isValidUrl)(e.content.hosted_url)?this.hosted_url=e.content.hosted_url:e.content.url&&(0,n.isValidUrl)(e.content.url)?this.hosted_url=e.content.url:e.content.legacy_url&&(0,n.isValidUrl)(e.content.legacy_url)&&(this.hosted_url=e.content.legacy_url),this.local_url=e.content.local_url,this.valid_until=new Date(e.content.valid_until||0),this.offlineOnly=e.content.offlineOnly,this.name=e.content.name,this.area=e.content.area,this.package_info=e.content.package_info||{},this.permissions=e.content.permissions||[],this.active=e.content.active,this.autoupdateDisabled=e.content.autoupdateDisabled,this.disassociatedItemIds=e.content.disassociatedItemIds||[],this.associatedItemIds=e.content.associatedItemIds||[],this.isMobileDefault=e.content.isMobileDefault,this.legacy_url=e.content.hosted_url?void 0:e.content.url}strategyWhenConflictingWithItem(e,t){return a.ConflictStrategy.KeepBase}get isSingleton(){return!0}get displayName(){var e;return(null===(e=(0,o.FindNativeFeature)(this.identifier))||void 0===e?void 0:e.name)||this.name}singletonPredicate(){return new l.Predicate(\"identifier\",\"=\",this.identifier)}isEditor(){return this.area===o.ComponentArea.Editor}isTheme(){return this.content_type===i.ContentType.Theme||this.area===o.ComponentArea.Themes}isDefaultEditor(){return!0===this.getAppDomainValue(s.AppDataField.DefaultEditor)}getLastSize(){return this.getAppDomainValue(s.AppDataField.LastSize)}getClientDataKey(){return this.legacy_url?this.legacy_url:this.uuid}hasValidHostedUrl(){return null!=(this.hosted_url||this.legacy_url)}contentKeysToIgnoreWhenCheckingEquality(){return[\"active\",\"disassociatedItemIds\",\"associatedItemIds\",...super.contentKeysToIgnoreWhenCheckingEquality()]}static associativeAreas(){return[o.ComponentArea.Editor]}isAssociative(){return u.associativeAreas().includes(this.area)}isExplicitlyEnabledForItem(e){return-1!==this.associatedItemIds.indexOf(e)}isExplicitlyDisabledForItem(e){return-1!==this.disassociatedItemIds.indexOf(e)}get isExpired(){return this.valid_until.getTime()>0&&this.valid_until<=new Date}get identifier(){return this.package_info.identifier}get thirdPartyPackageInfo(){return this.package_info}get noteType(){return this.package_info.note_type||o.NoteType.Plain}get isDeprecated(){var e;let t=null!==(e=this.package_info.flags)&&void 0!==e?e:[];return t=t.map((e=>e.toLowerCase())),t.includes(o.ComponentFlag.Deprecated)}get deprecationMessage(){return this.package_info.deprecation_message}}t.SNComponent=u},48072:(e,t)=>{Object.defineProperty(t,\"__esModule\",{value:!0})},54712:(e,t,r)=>{Object.defineProperty(t,\"__esModule\",{value:!0}),t.ComponentMutator=void 0;const n=r(64657),i=r(47759),o=r(66276);class s extends o.DecryptedItemMutator{set active(e){this.mutableContent.active=e}set isMobileDefault(e){this.mutableContent.isMobileDefault=e}set defaultEditor(e){this.setAppDataItem(i.AppDataField.DefaultEditor,e)}set componentData(e){this.mutableContent.componentData=e}set package_info(e){this.mutableContent.package_info=e}set local_url(e){this.mutableContent.local_url=e}set hosted_url(e){this.mutableContent.hosted_url=e}set valid_until(e){this.mutableContent.valid_until=e}set permissions(e){this.mutableContent.permissions=e}set name(e){this.mutableContent.name=e}set offlineOnly(e){this.mutableContent.offlineOnly=e}associateWithItem(e){const t=this.mutableContent.associatedItemIds||[];(0,n.addIfUnique)(t,e),this.mutableContent.associatedItemIds=t}disassociateWithItem(e){const t=this.mutableContent.disassociatedItemIds||[];(0,n.addIfUnique)(t,e),this.mutableContent.disassociatedItemIds=t}removeAssociatedItemId(e){(0,n.removeFromArray)(this.mutableContent.associatedItemIds||[],e)}removeDisassociatedItemId(e){(0,n.removeFromArray)(this.mutableContent.disassociatedItemIds||[],e)}setLastSize(e){this.setAppDataItem(i.AppDataField.LastSize,e)}}t.ComponentMutator=s},15834:function(e,t,r){var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!(\"get\"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)\"default\"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,\"__esModule\",{value:!0}),i(r(58892),t),i(r(54712),t),i(r(48072),t)},3322:(e,t,r)=>{Object.defineProperty(t,\"__esModule\",{value:!0}),t.SNEditor=void 0;const n=r(59867);class i extends n.DecryptedItem{constructor(e){super(e),this.notes=[],this.data={},this.url=e.content.url,this.name=e.content.name,this.data=e.content.data||{},this.isDefault=e.content.default,this.systemEditor=e.content.systemEditor}}t.SNEditor=i},69109:function(e,t,r){var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!(\"get\"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)\"default\"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,\"__esModule\",{value:!0}),i(r(3322),t)},54246:(e,t,r)=>{Object.defineProperty(t,\"__esModule\",{value:!0}),t.SNFeatureRepo=void 0;const n=r(64657),i=r(59867);class o extends i.DecryptedItem{get migratedToUserSetting(){return(0,n.useBoolean)(this.payload.content.migratedToUserSetting,!1)}get migratedToOfflineEntitlements(){return(0,n.useBoolean)(this.payload.content.migratedToOfflineEntitlements,!1)}get onlineUrl(){return this.payload.content.url}get offlineFeaturesUrl(){return this.payload.content.offlineFeaturesUrl}get offlineKey(){return this.payload.content.offlineKey}}t.SNFeatureRepo=o},39231:(e,t,r)=>{Object.defineProperty(t,\"__esModule\",{value:!0}),t.FeatureRepoMutator=void 0;const n=r(66276);class i extends n.DecryptedItemMutator{set migratedToUserSetting(e){this.mutableContent.migratedToUserSetting=e}set migratedToOfflineEntitlements(e){this.mutableContent.migratedToOfflineEntitlements=e}set offlineFeaturesUrl(e){this.mutableContent.offlineFeaturesUrl=e}set offlineKey(e){this.mutableContent.offlineKey=e}}t.FeatureRepoMutator=i},28346:function(e,t,r){var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!(\"get\"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)\"default\"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,\"__esModule\",{value:!0}),i(r(54246),t),i(r(39231),t)},23899:(e,t,r)=>{Object.defineProperty(t,\"__esModule\",{value:!0}),t.FileItem=t.isFile=void 0;const n=r(59867),i=r(12922),o=r(10256);t.isFile=e=>e.content_type===o.ContentType.File;class s extends n.DecryptedItem{constructor(e){super(e),this.remoteIdentifier=this.content.remoteIdentifier,this.name=this.content.name,this.key=this.content.key,this.content.size&&this.content.chunkSizes?(this.decryptedSize=this.content.size,this.encryptedChunkSizes=this.content.chunkSizes):(this.decryptedSize=this.content.decryptedSize,this.encryptedChunkSizes=this.content.encryptedChunkSizes),this.encryptionHeader=this.content.encryptionHeader,this.mimeType=this.content.mimeType}strategyWhenConflictingWithItem(e){return e.key!==this.key||e.encryptionHeader!==this.encryptionHeader||e.remoteIdentifier!==this.remoteIdentifier||JSON.stringify(e.encryptedChunkSizes)!==JSON.stringify(this.encryptedChunkSizes)?i.ConflictStrategy.KeepBaseDuplicateApply:i.ConflictStrategy.KeepBase}get encryptedSize(){return this.encryptedChunkSizes.reduce(((e,t)=>e+t),0)}get title(){return this.name}}t.FileItem=s},50324:(e,t)=>{Object.defineProperty(t,\"__esModule\",{value:!0})},71554:(e,t,r)=>{Object.defineProperty(t,\"__esModule\",{value:!0}),t.FileMutator=void 0;const n=r(10256),i=r(21984),o=r(66276);class s extends o.DecryptedItemMutator{set name(e){this.mutableContent.name=e}set encryptionHeader(e){this.mutableContent.encryptionHeader=e}addNote(e){const t={reference_type:i.ContentReferenceType.FileToNote,content_type:n.ContentType.Note,uuid:e.uuid},r=this.mutableContent.references||[];r.push(t),this.mutableContent.references=r}removeNote(e){const t=this.immutableItem.references.filter((t=>t.uuid!==e.uuid));this.mutableContent.references=t}addFile(e){if(this.immutableItem.isReferencingItem(e))return;const t={uuid:e.uuid,content_type:n.ContentType.File,reference_type:i.ContentReferenceType.FileToFile};this.mutableContent.references.push(t)}removeFile(e){this.mutableContent.references=this.mutableContent.references.filter((t=>t.uuid!==e.uuid))}}t.FileMutator=s},75006:(e,t)=>{var r;Object.defineProperty(t,\"__esModule\",{value:!0}),t.FileProtocolV1Constants=void 0,(r=t.FileProtocolV1Constants||(t.FileProtocolV1Constants={}))[r.KeySize=256]=\"KeySize\"},49740:function(e,t,r){var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!(\"get\"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)\"default\"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,\"__esModule\",{value:!0}),i(r(23899),t),i(r(71554),t),i(r(50324),t),i(r(75006),t)},59536:(e,t)=>{Object.defineProperty(t,\"__esModule\",{value:!0})},3338:(e,t)=>{Object.defineProperty(t,\"__esModule\",{value:!0})},55998:(e,t,r)=>{Object.defineProperty(t,\"__esModule\",{value:!0}),t.SNNote=t.isNote=void 0;const n=r(47759),i=r(10256),o=r(70295),s=r(59867);t.isNote=e=>e.content_type===i.ContentType.Note;class a extends s.DecryptedItem{constructor(e){super(e),this.hidePreview=!1,this.title=String(this.payload.content.title||\"\"),this.text=String(this.payload.content.text||\"\"),this.preview_plain=String(this.payload.content.preview_plain||\"\"),this.preview_html=String(this.payload.content.preview_html||\"\"),this.hidePreview=Boolean(this.payload.content.hidePreview),this.spellcheck=this.payload.content.spellcheck,this.noteType=this.payload.content.noteType,this.editorIdentifier=this.payload.content.editorIdentifier,this.authorizedForListed=this.payload.content.authorizedForListed||!1,this.noteType||this.getAppDomainValueWithDefault(n.AppDataField.LegacyPrefersPlainEditor,!1)&&(this.noteType=o.NoteType.Plain)}}t.SNNote=a},29833:(e,t)=>{Object.defineProperty(t,\"__esModule\",{value:!0})},50943:(e,t,r)=>{Object.defineProperty(t,\"__esModule\",{value:!0}),t.NoteMutator=void 0;const n=r(66276),i=r(10256),o=r(12922);class s extends n.DecryptedItemMutator{set title(e){this.mutableContent.title=e}set text(e){this.mutableContent.text=e}set hidePreview(e){this.mutableContent.hidePreview=e}set preview_plain(e){this.mutableContent.preview_plain=e}set preview_html(e){this.mutableContent.preview_html=e}set spellcheck(e){this.mutableContent.spellcheck=e}set noteType(e){this.mutableContent.noteType=e}set editorIdentifier(e){this.mutableContent.editorIdentifier=e}set authorizedForListed(e){this.mutableContent.authorizedForListed=e}toggleSpellcheck(){null==this.mutableContent.spellcheck?this.mutableContent.spellcheck=!1:this.mutableContent.spellcheck=!this.mutableContent.spellcheck}addNote(e){if(this.immutableItem.isReferencingItem(e))return;const t={uuid:e.uuid,content_type:i.ContentType.Note,reference_type:o.ContentReferenceType.NoteToNote};this.mutableContent.references.push(t)}removeNote(e){this.mutableContent.references=this.mutableContent.references.filter((t=>t.uuid!==e.uuid))}}t.NoteMutator=s},23251:function(e,t,r){var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!(\"get\"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)\"default\"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,\"__esModule\",{value:!0}),i(r(55998),t),i(r(50943),t),i(r(29833),t)},33652:(e,t,r)=>{Object.defineProperty(t,\"__esModule\",{value:!0}),t.SmartView=t.isSmartView=t.isSystemView=t.SMART_TAG_DSL_PREFIX=void 0;const n=r(59867),i=r(41291),o=r(86865),s=r(36176),a=r(10256);function c(e){return Object.values(o.SystemViewId).includes(e.uuid)}t.SMART_TAG_DSL_PREFIX=\"![\",t.isSystemView=c,t.isSmartView=e=>e.content_type===a.ContentType.SmartView;class l extends n.DecryptedItem{constructor(e){super(e),this.title=String(this.content.title||\"\"),c(this)?this.iconString=(0,s.systemViewIcon)(this.uuid):this.iconString=this.payload.content.iconString||s.SmartViewDefaultIconName,this.preferences=this.payload.content.preferences;try{this.predicate=this.content.predicate&&(0,i.predicateFromJson)(this.content.predicate)}catch(e){console.error(e)}}}t.SmartView=l},55874:(e,t,r)=>{Object.defineProperty(t,\"__esModule\",{value:!0}),t.BuildSmartViews=void 0;const n=r(38111),i=r(33652),o=r(86865),s=r(10256),a=r(23767),c=r(95536),l=r(4103),u=r(18667);function d(e){const t=[new c.Predicate(\"content_type\",\"=\",s.ContentType.Note)];return!1===e.includeTrashed&&t.push(new c.Predicate(\"trashed\",\"=\",!1)),!1===e.includeArchived&&t.push(new c.Predicate(\"archived\",\"=\",!1)),!1===e.includeProtected&&t.push(new c.Predicate(\"protected\",\"=\",!1)),!1===e.includePinned&&t.push(new c.Predicate(\"pinned\",\"=\",!1)),new l.CompoundPredicate(\"and\",t)}function p(e){const t=[new c.Predicate(\"content_type\",\"=\",s.ContentType.File)];return!1===e.includeTrashed&&t.push(new c.Predicate(\"trashed\",\"=\",!1)),!1===e.includeArchived&&t.push(new c.Predicate(\"archived\",\"=\",!1)),!1===e.includeProtected&&t.push(new c.Predicate(\"protected\",\"=\",!1)),!1===e.includePinned&&t.push(new c.Predicate(\"pinned\",\"=\",!1)),new l.CompoundPredicate(\"and\",t)}function h(e){const t=[new c.Predicate(\"archived\",\"=\",!0),new c.Predicate(\"content_type\",\"=\",s.ContentType.Note)];return!1===e.includeTrashed&&t.push(new c.Predicate(\"trashed\",\"=\",!1)),!1===e.includeProtected&&t.push(new c.Predicate(\"protected\",\"=\",!1)),!1===e.includePinned&&t.push(new c.Predicate(\"pinned\",\"=\",!1)),new l.CompoundPredicate(\"and\",t)}function y(e){const t=[new c.Predicate(\"trashed\",\"=\",!0),new c.Predicate(\"content_type\",\"=\",s.ContentType.Note)];return!1===e.includeArchived&&t.push(new c.Predicate(\"archived\",\"=\",!1)),!1===e.includeProtected&&t.push(new c.Predicate(\"protected\",\"=\",!1)),!1===e.includePinned&&t.push(new c.Predicate(\"pinned\",\"=\",!1)),new l.CompoundPredicate(\"and\",t)}function v(e){const t=[new c.Predicate(\"content_type\",\"=\",s.ContentType.Note),new c.Predicate(\"tagsCount\",\"=\",0)];return!1===e.includeArchived&&t.push(new c.Predicate(\"archived\",\"=\",!1)),!1===e.includeProtected&&t.push(new c.Predicate(\"protected\",\"=\",!1)),!1===e.includePinned&&t.push(new c.Predicate(\"pinned\",\"=\",!1)),new l.CompoundPredicate(\"and\",t)}function f(e){const t=[new c.Predicate(\"starred\",\"=\",!0),new c.Predicate(\"content_type\",\"=\",s.ContentType.Note)];return!1===e.includeTrashed&&t.push(new c.Predicate(\"trashed\",\"=\",!1)),!1===e.includeProtected&&t.push(new c.Predicate(\"protected\",\"=\",!1)),!1===e.includePinned&&t.push(new c.Predicate(\"pinned\",\"=\",!1)),new l.CompoundPredicate(\"and\",t)}t.BuildSmartViews=function(e,t){let{supportsFileNavigation:r=!1}=t;const c=new i.SmartView(new n.DecryptedPayload(Object.assign(Object.assign({uuid:o.SystemViewId.AllNotes,content_type:s.ContentType.SmartView},(0,u.PayloadTimestampDefaults)()),{content:(0,a.FillItemContent)({title:\"Notes\",predicate:d(e).toJson()})}))),l=new i.SmartView(new n.DecryptedPayload(Object.assign(Object.assign({uuid:o.SystemViewId.Files,content_type:s.ContentType.SmartView},(0,u.PayloadTimestampDefaults)()),{content:(0,a.FillItemContent)({title:\"Files\",predicate:p(e).toJson()})}))),g=new i.SmartView(new n.DecryptedPayload(Object.assign(Object.assign({uuid:o.SystemViewId.ArchivedNotes,content_type:s.ContentType.SmartView},(0,u.PayloadTimestampDefaults)()),{content:(0,a.FillItemContent)({title:\"Archived\",predicate:h(e).toJson()})}))),m=new i.SmartView(new n.DecryptedPayload(Object.assign(Object.assign({uuid:o.SystemViewId.TrashedNotes,content_type:s.ContentType.SmartView},(0,u.PayloadTimestampDefaults)()),{content:(0,a.FillItemContent)({title:\"Trash\",predicate:y(e).toJson()})}))),S=new i.SmartView(new n.DecryptedPayload(Object.assign(Object.assign({uuid:o.SystemViewId.UntaggedNotes,content_type:s.ContentType.SmartView},(0,u.PayloadTimestampDefaults)()),{content:(0,a.FillItemContent)({title:\"Untagged\",predicate:v(e).toJson()})}))),b=new i.SmartView(new n.DecryptedPayload(Object.assign(Object.assign({uuid:o.SystemViewId.StarredNotes,content_type:s.ContentType.SmartView},(0,u.PayloadTimestampDefaults)()),{content:(0,a.FillItemContent)({title:\"Starred\",predicate:f(e).toJson()})})));return r?[c,b,l,g,m,S]:[c,b,g,m,S]}},31511:(e,t)=>{Object.defineProperty(t,\"__esModule\",{value:!0})},36176:(e,t,r)=>{Object.defineProperty(t,\"__esModule\",{value:!0}),t.SmartViewDefaultIconName=t.systemViewIcon=t.SmartViewIcons=void 0;const n=r(86865);t.SmartViewIcons={[n.SystemViewId.AllNotes]:\"notes\",[n.SystemViewId.Files]:\"folder\",[n.SystemViewId.ArchivedNotes]:\"archive\",[n.SystemViewId.TrashedNotes]:\"trash\",[n.SystemViewId.UntaggedNotes]:\"hashtag-off\",[n.SystemViewId.StarredNotes]:\"star-filled\"},t.systemViewIcon=function(e){return t.SmartViewIcons[e]},t.SmartViewDefaultIconName=\"restore\"},86865:(e,t)=>{var r;Object.defineProperty(t,\"__esModule\",{value:!0}),t.SystemViewId=void 0,(r=t.SystemViewId||(t.SystemViewId={})).AllNotes=\"all-notes\",r.Files=\"files\",r.ArchivedNotes=\"archived-notes\",r.TrashedNotes=\"trashed-notes\",r.UntaggedNotes=\"untagged-notes\",r.StarredNotes=\"starred-notes\"},53209:function(e,t,r){var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!(\"get\"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)\"default\"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,\"__esModule\",{value:!0}),i(r(33652),t),i(r(55874),t),i(r(86865),t),i(r(31511),t)},72897:(e,t,r)=>{Object.defineProperty(t,\"__esModule\",{value:!0}),t.SNTag=t.isTag=t.DefaultTagIconName=t.TagFolderDelimitter=void 0;const n=r(10256),i=r(59867),o=r(43239);t.TagFolderDelimitter=\".\",t.DefaultTagIconName=\"hashtag\",t.isTag=e=>e.content_type===n.ContentType.Tag;class s extends i.DecryptedItem{constructor(e){super(e),this.title=this.payload.content.title||\"\",this.expanded=null==this.payload.content.expanded||this.payload.content.expanded,this.iconString=this.payload.content.iconString||t.DefaultTagIconName,this.preferences=this.payload.content.preferences}get isDailyEntry(){var e;return\"daily\"===(null===(e=this.preferences)||void 0===e?void 0:e.entryMode)}get noteReferences(){return this.payload.references.filter((e=>e.content_type===n.ContentType.Note))}get noteCount(){return this.noteReferences.length}get parentId(){const e=this.references.find(o.isTagToParentTagReference);return null==e?void 0:e.uuid}static arrayToDisplayString(e){return e.sort(((e,t)=>e.title>t.title?1:-1)).map((e=>\"#\"+e.title)).join(\" \")}}t.SNTag=s},91357:(e,t)=>{Object.defineProperty(t,\"__esModule\",{value:!0})},57010:(e,t,r)=>{Object.defineProperty(t,\"__esModule\",{value:!0}),t.TagMutator=void 0;const n=r(10256),i=r(43239),o=r(21984),s=r(66276);class a extends s.DecryptedItemMutator{constructor(e,t){super(e,t),this.mutablePreferences=this.mutableContent.preferences}set title(e){this.mutableContent.title=e}set expanded(e){this.mutableContent.expanded=e}set iconString(e){this.mutableContent.iconString=e}get preferences(){return this.mutablePreferences||(this.mutableContent.preferences={},this.mutablePreferences=this.mutableContent.preferences),this.mutablePreferences}set preferences(e){this.mutablePreferences=e,this.mutableContent.preferences=this.mutablePreferences}makeChildOf(e){const t=this.immutableItem.references.filter((e=>!(0,i.isTagToParentTagReference)(e))),r={reference_type:o.ContentReferenceType.TagToParentTag,content_type:n.ContentType.Tag,uuid:e.uuid};t.push(r),this.mutableContent.references=t}unsetParent(){this.mutableContent.references=this.immutableItem.references.filter((e=>!(0,i.isTagToParentTagReference)(e)))}addFile(e){if(this.immutableItem.isReferencingItem(e))return;const t={reference_type:o.ContentReferenceType.TagToFile,content_type:n.ContentType.File,uuid:e.uuid};this.mutableContent.references.push(t)}removeFile(e){this.mutableContent.references=this.mutableContent.references.filter((t=>t.uuid!==e.uuid))}addNote(e){this.immutableItem.isReferencingItem(e)||this.mutableContent.references.push({uuid:e.uuid,content_type:e.content_type})}removeNote(e){this.mutableContent.references=this.mutableContent.references.filter((t=>t.uuid!==e.uuid))}}t.TagMutator=a},66136:(e,t)=>{Object.defineProperty(t,\"__esModule\",{value:!0})},9665:function(e,t,r){var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!(\"get\"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)\"default\"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,\"__esModule\",{value:!0}),i(r(72897),t),i(r(57010),t),i(r(91357),t),i(r(66136),t)},74008:(e,t,r)=>{Object.defineProperty(t,\"__esModule\",{value:!0}),t.SNTheme=t.isTheme=void 0;const n=r(70295),i=r(58892),o=r(25569),s=r(47759),a=r(10256),c=r(64657);t.isTheme=e=>e.content_type===a.ContentType.Theme;class l extends i.SNComponent{constructor(){super(...arguments),this.area=n.ComponentArea.Themes}isLayerable(){return(0,c.useBoolean)(this.package_info&&this.package_info.layerable,!1)}strategyWhenConflictingWithItem(e,t){return o.ConflictStrategy.KeepBase}getMobileRules(){return this.getAppDomainValue(s.AppDataField.MobileRules)||{constants:{},rules:{}}}hasMobileRules(){return this.getAppDomainValue(s.AppDataField.MobileRules)}getNotAvailOnMobile(){return this.getAppDomainValue(s.AppDataField.NotAvailableOnMobile)}isMobileActive(){return this.getAppDomainValue(s.AppDataField.MobileActive)}}t.SNTheme=l},10043:(e,t,r)=>{Object.defineProperty(t,\"__esModule\",{value:!0}),t.ThemeMutator=void 0;const n=r(47759),i=r(66276);class o extends i.DecryptedItemMutator{setMobileRules(e){this.setAppDataItem(n.AppDataField.MobileRules,e)}setNotAvailOnMobile(e){this.setAppDataItem(n.AppDataField.NotAvailableOnMobile,e)}set local_url(e){this.mutableContent.local_url=e}setMobileActive(e){this.setAppDataItem(n.AppDataField.MobileActive,e)}}t.ThemeMutator=o},31924:function(e,t,r){var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!(\"get\"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)\"default\"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,\"__esModule\",{value:!0}),i(r(74008),t),i(r(10043),t)},37461:(e,t)=>{var r,n,i,o;Object.defineProperty(t,\"__esModule\",{value:!0}),t.EditorFontSize=t.EditorLineHeight=t.NewNoteTitleFormat=t.PrefKey=void 0,(o=t.PrefKey||(t.PrefKey={})).TagsPanelWidth=\"tagsPanelWidth\",o.NotesPanelWidth=\"notesPanelWidth\",o.EditorWidth=\"editorWidth\",o.EditorLeft=\"editorLeft\",o.EditorMonospaceEnabled=\"monospaceFont\",o.EditorSpellcheck=\"spellcheck\",o.EditorResizersEnabled=\"marginResizersEnabled\",o.EditorLineHeight=\"editorLineHeight\",o.EditorFontSize=\"editorFontSize\",o.SortNotesBy=\"sortBy\",o.SortNotesReverse=\"sortReverse\",o.NotesShowArchived=\"showArchived\",o.NotesShowTrashed=\"showTrashed\",o.NotesHideProtected=\"hideProtected\",o.NotesHidePinned=\"hidePinned\",o.NotesHideNotePreview=\"hideNotePreview\",o.NotesHideDate=\"hideDate\",o.NotesHideTags=\"hideTags\",o.NotesHideEditorIcon=\"hideEditorIcon\",o.UseSystemColorScheme=\"useSystemColorScheme\",o.AutoLightThemeIdentifier=\"autoLightThemeIdentifier\",o.AutoDarkThemeIdentifier=\"autoDarkThemeIdentifier\",o.NoteAddToParentFolders=\"noteAddToParentFolders\",o.MobileSortNotesBy=\"mobileSortBy\",o.MobileSortNotesReverse=\"mobileSortReverse\",o.MobileNotesHideNotePreview=\"mobileHideNotePreview\",o.MobileNotesHideDate=\"mobileHideDate\",o.MobileNotesHideTags=\"mobileHideTags\",o.MobileLastExportDate=\"mobileLastExportDate\",o.MobileDoNotShowAgainUnsupportedEditors=\"mobileDoNotShowAgainUnsupportedEditors\",o.MobileSelectedTagUuid=\"mobileSelectedTagUuid\",o.MobileNotesHideEditorIcon=\"mobileHideEditorIcon\",o.NewNoteTitleFormat=\"newNoteTitleFormat\",o.CustomNoteTitleFormat=\"customNoteTitleFormat\",o.UpdateSavingStatusIndicator=\"updateSavingStatusIndicator\",o.DarkMode=\"darkMode\",(i=t.NewNoteTitleFormat||(t.NewNoteTitleFormat={})).CurrentDateAndTime=\"CurrentDateAndTime\",i.CurrentNoteCount=\"CurrentNoteCount\",i.CustomFormat=\"CustomFormat\",i.Empty=\"Empty\",(n=t.EditorLineHeight||(t.EditorLineHeight={})).None=\"None\",n.Tight=\"Tight\",n.Snug=\"Snug\",n.Normal=\"Normal\",n.Relaxed=\"Relaxed\",n.Loose=\"Loose\",(r=t.EditorFontSize||(t.EditorFontSize={})).ExtraSmall=\"ExtraSmall\",r.Small=\"Small\",r.Normal=\"Normal\",r.Medium=\"Medium\",r.Large=\"Large\"},1657:(e,t,r)=>{Object.defineProperty(t,\"__esModule\",{value:!0}),t.SNUserPrefs=void 0;const n=r(59867),i=r(10256),o=r(95536);class s extends n.DecryptedItem{get isSingleton(){return!0}singletonPredicate(){return s.singletonPredicate}getPref(e){return this.getAppDomainValue(e)}}t.SNUserPrefs=s,s.singletonPredicate=new o.Predicate(\"content_type\",\"=\",i.ContentType.UserPrefs)},38222:(e,t,r)=>{Object.defineProperty(t,\"__esModule\",{value:!0}),t.UserPrefsMutator=void 0;const n=r(66276);class i extends n.DecryptedItemMutator{setPref(e,t){this.setAppDataItem(e,t)}}t.UserPrefsMutator=i},61109:function(e,t,r){var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!(\"get\"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)\"default\"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,\"__esModule\",{value:!0}),i(r(1657),t),i(r(38222),t),i(r(37461),t)},68990:(e,t)=>{Object.defineProperty(t,\"__esModule\",{value:!0})},72655:(e,t)=>{function r(e,t){return e.find((e=>e.uuid===t))}Object.defineProperty(t,\"__esModule\",{value:!0}),t.SureFindItem=t.FindItem=void 0,t.FindItem=r,t.SureFindItem=function(e,t){return r(e,t)}},69002:(e,t,r)=>{Object.defineProperty(t,\"__esModule\",{value:!0}),t.ItemContentsDiffer=void 0;const n=r(9600);t.ItemContentsDiffer=function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return!(0,n.ItemContentsEqual)(e.content,t.content,[...e.contentKeysToIgnoreWhenCheckingEquality(),...r],e.appDataContentKeysToIgnoreWhenCheckingEquality())}},9600:(e,t,r)=>{Object.defineProperty(t,\"__esModule\",{value:!0}),t.ItemContentsEqual=void 0;const n=r(64657),i=r(96720);t.ItemContentsEqual=function(e,t,r,o){const s=(0,n.sortedCopy)(e);if(s.appData){const e=s.appData[i.DefaultAppDomain];(0,n.omitInPlace)(e,o),e?0===Object.keys(e).length&&delete s.appData:delete s.appData}(0,n.omitInPlace)(s,r);const a=(0,n.sortedCopy)(t);if(a.appData){const e=a.appData[i.DefaultAppDomain];(0,n.omitInPlace)(e,o),e?0===Object.keys(e).length&&delete a.appData:delete a.appData}return(0,n.omitInPlace)(a,r),JSON.stringify(s)===JSON.stringify(a)}},24320:(e,t,r)=>{Object.defineProperty(t,\"__esModule\",{value:!0}),t.CreateItemFromPayload=t.CreateDecryptedItemFromPayload=t.RegisterItemClass=t.CreateDecryptedMutatorForItem=void 0;const n=r(10256),i=r(68728),o=r(23899),s=r(54246),a=r(61079),c=r(58892),l=r(3322),u=r(59867),d=r(55998),p=r(33652),h=r(72897),y=r(74008),v=r(1657),f=r(71554),g=r(10043),m=r(38222),S=r(83062),b=r(54712),P=r(57010),_=r(50943),w=r(66276),E=r(18667),O=r(89691),I={[n.ContentType.ActionsExtension]:{itemClass:a.SNActionsExtension,mutatorClass:S.ActionsExtensionMutator},[n.ContentType.Component]:{itemClass:c.SNComponent,mutatorClass:b.ComponentMutator},[n.ContentType.Editor]:{itemClass:l.SNEditor},[n.ContentType.ExtensionRepo]:{itemClass:s.SNFeatureRepo},[n.ContentType.File]:{itemClass:o.FileItem,mutatorClass:f.FileMutator},[n.ContentType.Note]:{itemClass:d.SNNote,mutatorClass:_.NoteMutator},[n.ContentType.SmartView]:{itemClass:p.SmartView,mutatorClass:P.TagMutator},[n.ContentType.Tag]:{itemClass:h.SNTag,mutatorClass:P.TagMutator},[n.ContentType.Theme]:{itemClass:y.SNTheme,mutatorClass:g.ThemeMutator},[n.ContentType.UserPrefs]:{itemClass:v.SNUserPrefs,mutatorClass:m.UserPrefsMutator}};function C(e){const t=I[e.content_type];return new(t?t.itemClass:u.DecryptedItem)(e)}t.CreateDecryptedMutatorForItem=function(e,t){var r;const n=null===(r=I[e.content_type])||void 0===r?void 0:r.mutatorClass;return n?new n(e,t):new w.DecryptedItemMutator(e,t)},t.RegisterItemClass=function(e,t,r){const n={itemClass:t,mutatorClass:r};I[e]=n},t.CreateDecryptedItemFromPayload=C,t.CreateItemFromPayload=function(e){if((0,E.isDecryptedPayload)(e))return C(e);if((0,E.isEncryptedPayload)(e))return new i.EncryptedItem(e);if((0,E.isDeletedPayload)(e))return new O.DeletedItem(e);throw Error(\"Unhandled case in CreateItemFromPayload\")}},45349:(e,t,r)=>{Object.defineProperty(t,\"__esModule\",{value:!0}),t.CopyPayloadWithContentOverride=void 0;const n=r(70999);t.CopyPayloadWithContentOverride=function(e,t){const r=Object.assign(Object.assign({},e.ejected()),{content:Object.assign(Object.assign({},e.content),t)});return(0,n.CreatePayload)(r,e.source)}},70999:(e,t,r)=>{Object.defineProperty(t,\"__esModule\",{value:!0}),t.CreatePayload=void 0;const n=r(50987),i=r(63188),o=r(38111),s=r(82818);t.CreatePayload=function(e,t){if((0,s.isDecryptedTransferPayload)(e))return new o.DecryptedPayload(e,t);if((0,s.isEncryptedTransferPayload)(e))return new n.EncryptedPayload(e,t);if((0,s.isDeletedTransferPayload)(e))return new i.DeletedPayload(e,t);throw Error(\"Unhandled case in CreatePayload\")}},57330:(e,t)=>{function r(e,t){return e.find((e=>e.uuid===t))}Object.defineProperty(t,\"__esModule\",{value:!0}),t.SureFindPayload=t.FindPayload=void 0,t.FindPayload=r,t.SureFindPayload=function(e,t){return r(e,t)}},55687:(e,t,r)=>{Object.defineProperty(t,\"__esModule\",{value:!0}),t.PayloadContentsEqual=void 0;const n=r(24320);t.PayloadContentsEqual=function(e,t){const r=(0,n.CreateDecryptedItemFromPayload)(e),i=(0,n.CreateDecryptedItemFromPayload)(t);return r.isItemContentEqualWith(i)}},97202:(e,t,r)=>{Object.defineProperty(t,\"__esModule\",{value:!0}),t.CreateNonDecryptedPayloadSplit=t.CreatePayloadSplitWithDiscardables=t.CreatePayloadSplit=void 0;const n=r(98890);t.CreatePayloadSplit=function(e){const t={encrypted:[],decrypted:[],deleted:[]};for(const r of e)if((0,n.isDecryptedPayload)(r))t.decrypted.push(r);else if((0,n.isEncryptedPayload)(r))t.encrypted.push(r);else{if(!(0,n.isDeletedPayload)(r))throw Error(\"Unhandled case in CreatePayloadSplit\");t.deleted.push(r)}return t},t.CreatePayloadSplitWithDiscardables=function(e){const t={encrypted:[],decrypted:[],deleted:[],discardable:[]};for(const r of e)if((0,n.isDecryptedPayload)(r))t.decrypted.push(r);else if((0,n.isEncryptedPayload)(r))t.encrypted.push(r);else{if(!(0,n.isDeletedPayload)(r))throw Error(\"Unhandled case in CreatePayloadSplitWithDiscardables\");r.discardable?t.discardable.push(r):t.deleted.push(r)}return t},t.CreateNonDecryptedPayloadSplit=function(e){const t={encrypted:[],deleted:[]};for(const r of e)if((0,n.isEncryptedPayload)(r))t.encrypted.push(r);else{if(!(0,n.isDeletedPayload)(r))throw Error(\"Unhandled case in CreateNonDecryptedPayloadSplit\");t.deleted.push(r)}return t}},24439:(e,t,r)=>{Object.defineProperty(t,\"__esModule\",{value:!0}),t.PayloadsByAlternatingUuid=void 0;const n=r(63188),i=r(10256),o=r(64657),s=r(98890),a=r(43446),c=r(6754);t.PayloadsByAlternatingUuid=function(e,t){const r=[],l=e.copyAsSyncResolved({uuid:o.UuidGenerator.GenerateUuid(),dirty:!0,dirtyIndex:(0,c.getIncrementedDirtyIndex)(),lastSyncBegan:void 0,lastSyncEnd:new Date,duplicate_of:e.uuid});r.push(l);const u=(0,a.PayloadsByUpdatingReferencingPayloadReferences)(e,t,[l],[e.uuid]);if((0,o.extendArray)(r,u),e.content_type===i.ContentType.ItemsKey){const n=t.all().filter((t=>(0,s.isEncryptedPayload)(t)&&t.items_key_id===e.uuid)).map((e=>e.copyAsSyncResolved({items_key_id:l.uuid,dirty:!0,dirtyIndex:(0,c.getIncrementedDirtyIndex)(),lastSyncEnd:new Date})));n.length>0&&(0,o.extendArray)(r,n)}const d=new n.DeletedPayload({created_at:e.created_at,updated_at:e.updated_at,created_at_timestamp:e.created_at_timestamp,updated_at_timestamp:e.updated_at_timestamp,dirty:!1,content:void 0,uuid:e.uuid,content_type:e.content_type,deleted:!0},e.source);return r.push(d),r}},30489:(e,t,r)=>{Object.defineProperty(t,\"__esModule\",{value:!0}),t.PayloadsByDuplicating=void 0;const n=r(64657),i=r(43446),o=r(98890),s=r(6754);t.PayloadsByDuplicating=function(e){const{payload:t,baseCollection:r,isConflict:a,additionalContent:c,source:l}=e,u=[],d={uuid:n.UuidGenerator.GenerateUuid(),dirty:!0,dirtyIndex:(0,s.getIncrementedDirtyIndex)(),lastSyncBegan:void 0,lastSyncEnd:new Date,duplicate_of:t.uuid};let p;if((0,o.isDecryptedPayload)(t)){const e=Object.assign(Object.assign({},t.content),c);a&&(e.conflict_of=t.uuid),p=t.copyAsSyncResolved(Object.assign(Object.assign({},d),{content:e,deleted:!1}))}else p=t.copyAsSyncResolved(Object.assign({},d),l||t.source);if(u.push(p),(0,o.isDecryptedPayload)(t)&&(0,o.isDecryptedPayload)(p)){const e=(0,i.PayloadsByUpdatingReferencingPayloadReferences)(t,r,[p]);(0,n.extendArray)(u,e)}return u}},43446:(e,t,r)=>{Object.defineProperty(t,\"__esModule\",{value:!0}),t.PayloadsByUpdatingReferencingPayloadReferences=void 0;const n=r(31773),i=r(18667),o=r(6754);t.PayloadsByUpdatingReferencingPayloadReferences=function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];const a=t.elementsReferencingElement(e).filter(i.isDecryptedPayload),c=[];for(const t of a){const i=t.content.references.slice(),a=t.getReference(e.uuid);for(const e of r){const t=Object.assign(Object.assign({},a),{uuid:e.uuid,content_type:e.content_type});i.push(t)}for(const e of s)(0,n.remove)(i,{uuid:e});const l=t.copyAsSyncResolved({dirty:!0,dirtyIndex:(0,o.getIncrementedDirtyIndex)(),lastSyncEnd:new Date,content:Object.assign(Object.assign({},t.content),{references:i})});c.push(l)}return c}},44225:function(e,t,r){var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!(\"get\"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)\"default\"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,\"__esModule\",{value:!0}),i(r(36502),t),i(r(67427),t),i(r(84577),t),i(r(27897),t),i(r(44346),t),i(r(67463),t),i(r(92590),t),i(r(52795),t),i(r(23767),t),i(r(859),t),i(r(85206),t),i(r(76422),t),i(r(1341),t),i(r(22369),t),i(r(29029),t),i(r(8656),t),i(r(16462),t),i(r(49942),t),i(r(15559),t),i(r(53186),t),i(r(53771),t),i(r(81479),t),i(r(84656),t),i(r(12922),t),i(r(18667),t),i(r(82818),t),i(r(63835),t),i(r(80625),t),i(r(33132),t),i(r(14668),t),i(r(51252),t),i(r(28585),t),i(r(6689),t),i(r(89320),t),i(r(88324),t),i(r(95099),t),i(r(30969),t),i(r(28001),t),i(r(74520),t),i(r(12714),t),i(r(6311),t),i(r(35082),t),i(r(86785),t),i(r(1750),t),i(r(6754),t),i(r(98295),t),i(r(69089),t),i(r(87425),t),i(r(63874),t),i(r(66658),t),i(r(83883),t),i(r(4103),t),i(r(41291),t),i(r(37436),t),i(r(72650),t),i(r(72650),t),i(r(54981),t),i(r(36640),t),i(r(95536),t),i(r(25929),t),i(r(93261),t),i(r(15834),t),i(r(69109),t),i(r(28346),t),i(r(49740),t),i(r(59536),t),i(r(3338),t),i(r(23251),t),i(r(53209),t),i(r(9665),t),i(r(31924),t),i(r(61109),t),i(r(68990),t),i(r(72655),t),i(r(69002),t),i(r(9600),t),i(r(24320),t),i(r(45349),t),i(r(70999),t),i(r(57330),t),i(r(55687),t),i(r(24439),t),i(r(30489),t),i(r(97202),t)},16418:function(e,t,r){var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!(\"get\"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)\"default\"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,\"__esModule\",{value:!0}),i(r(44225),t)},14017:(e,t)=>{Object.defineProperty(t,\"__esModule\",{value:!0})},90200:(e,t)=>{Object.defineProperty(t,\"__esModule\",{value:!0})},14499:(e,t)=>{Object.defineProperty(t,\"__esModule\",{value:!0})},92233:(e,t)=>{Object.defineProperty(t,\"__esModule\",{value:!0})},50916:(e,t)=>{Object.defineProperty(t,\"__esModule\",{value:!0})},79482:(e,t)=>{Object.defineProperty(t,\"__esModule\",{value:!0})},15960:(e,t)=>{Object.defineProperty(t,\"__esModule\",{value:!0})},64952:(e,t)=>{Object.defineProperty(t,\"__esModule\",{value:!0})},75958:(e,t)=>{Object.defineProperty(t,\"__esModule\",{value:!0})},35634:(e,t)=>{Object.defineProperty(t,\"__esModule\",{value:!0})},88887:(e,t)=>{Object.defineProperty(t,\"__esModule\",{value:!0})},33755:(e,t)=>{Object.defineProperty(t,\"__esModule\",{value:!0})},19050:(e,t)=>{Object.defineProperty(t,\"__esModule\",{value:!0})},50776:(e,t)=>{Object.defineProperty(t,\"__esModule\",{value:!0})},19999:(e,t)=>{Object.defineProperty(t,\"__esModule\",{value:!0})},9399:(e,t)=>{Object.defineProperty(t,\"__esModule\",{value:!0}),t.ClientDisplayableError=void 0;class r{constructor(e,t,r){this.text=e,this.title=t,this.tag=r,console.error(\"Client Displayable Error:\",e,t||\"\",r||\"\")}static FromError(e){return new r(e.message,void 0,e.tag)}}t.ClientDisplayableError=r},62989:(e,t)=>{Object.defineProperty(t,\"__esModule\",{value:!0})},55152:(e,t)=>{Object.defineProperty(t,\"__esModule\",{value:!0})},86848:(e,t)=>{Object.defineProperty(t,\"__esModule\",{value:!0})},250:(e,t)=>{Object.defineProperty(t,\"__esModule\",{value:!0})},98913:(e,t)=>{Object.defineProperty(t,\"__esModule\",{value:!0})},92306:(e,t)=>{Object.defineProperty(t,\"__esModule\",{value:!0})},83483:(e,t)=>{Object.defineProperty(t,\"__esModule\",{value:!0})},87282:(e,t)=>{Object.defineProperty(t,\"__esModule\",{value:!0})},68090:(e,t,r)=>{Object.defineProperty(t,\"__esModule\",{value:!0}),t.isErrorResponseExpiredToken=void 0;const n=r(83964);t.isErrorResponseExpiredToken=function(e){return e.status===n.StatusCode.HttpStatusExpiredAccessToken}},24621:(e,t)=>{Object.defineProperty(t,\"__esModule\",{value:!0})},62990:(e,t)=>{Object.defineProperty(t,\"__esModule\",{value:!0})},48540:(e,t)=>{Object.defineProperty(t,\"__esModule\",{value:!0})},83964:(e,t)=>{var r;Object.defineProperty(t,\"__esModule\",{value:!0}),t.StatusCode=void 0,(r=t.StatusCode||(t.StatusCode={}))[r.LocalValidationError=10]=\"LocalValidationError\",r[r.CanceledMfa=11]=\"CanceledMfa\",r[r.UnknownError=12]=\"UnknownError\",r[r.HttpStatusMinSuccess=200]=\"HttpStatusMinSuccess\",r[r.HttpStatusNoContent=204]=\"HttpStatusNoContent\",r[r.HttpStatusMaxSuccess=299]=\"HttpStatusMaxSuccess\",r[r.HttpStatusExpiredAccessToken=498]=\"HttpStatusExpiredAccessToken\",r[r.HttpStatusInvalidSession=401]=\"HttpStatusInvalidSession\",r[r.HttpStatusForbidden=403]=\"HttpStatusForbidden\",r[r.HttpBadRequest=400]=\"HttpBadRequest\"},29359:(e,t)=>{var r;Object.defineProperty(t,\"__esModule\",{value:!0}),t.ApiEndpointParam=void 0,(r=t.ApiEndpointParam||(t.ApiEndpointParam={})).LastSyncToken=\"sync_token\",r.PaginationToken=\"cursor_token\",r.SyncDlLimit=\"limit\",r.SyncPayloads=\"items\",r.ApiVersion=\"api\"},71491:(e,t)=>{Object.defineProperty(t,\"__esModule\",{value:!0})},83088:(e,t)=>{Object.defineProperty(t,\"__esModule\",{value:!0})},25869:(e,t)=>{var r;Object.defineProperty(t,\"__esModule\",{value:!0}),t.ConflictType=void 0,(r=t.ConflictType||(t.ConflictType={})).ConflictingData=\"sync_conflict\",r.UuidConflict=\"uuid_conflict\",r.ContentTypeError=\"content_type_error\",r.ContentError=\"content_error\",r.ReadOnlyError=\"readonly_error\",r.UuidError=\"uuid_error\",r.SyncError=\"sync_error\"},1126:(e,t)=>{Object.defineProperty(t,\"__esModule\",{value:!0})},6841:(e,t)=>{Object.defineProperty(t,\"__esModule\",{value:!0})},98529:(e,t,r)=>{Object.defineProperty(t,\"__esModule\",{value:!0}),r(29359)},68994:(e,t)=>{Object.defineProperty(t,\"__esModule\",{value:!0})},72469:(e,t)=>{Object.defineProperty(t,\"__esModule\",{value:!0})},43801:(e,t)=>{Object.defineProperty(t,\"__esModule\",{value:!0})},7:(e,t)=>{Object.defineProperty(t,\"__esModule\",{value:!0})},27619:(e,t)=>{Object.defineProperty(t,\"__esModule\",{value:!0})},30777:(e,t)=>{Object.defineProperty(t,\"__esModule\",{value:!0})},79858:(e,t)=>{Object.defineProperty(t,\"__esModule\",{value:!0})},83162:(e,t)=>{Object.defineProperty(t,\"__esModule\",{value:!0})},79588:(e,t)=>{Object.defineProperty(t,\"__esModule\",{value:!0})},12022:(e,t)=>{Object.defineProperty(t,\"__esModule\",{value:!0})},32444:(e,t)=>{Object.defineProperty(t,\"__esModule\",{value:!0})},23793:(e,t)=>{Object.defineProperty(t,\"__esModule\",{value:!0})},52735:(e,t)=>{Object.defineProperty(t,\"__esModule\",{value:!0})},52217:(e,t)=>{Object.defineProperty(t,\"__esModule\",{value:!0})},2291:(e,t)=>{Object.defineProperty(t,\"__esModule\",{value:!0})},88791:(e,t)=>{Object.defineProperty(t,\"__esModule\",{value:!0})},94647:(e,t)=>{Object.defineProperty(t,\"__esModule\",{value:!0})},77483:(e,t)=>{Object.defineProperty(t,\"__esModule\",{value:!0})},47451:(e,t)=>{Object.defineProperty(t,\"__esModule\",{value:!0})},34648:(e,t)=>{Object.defineProperty(t,\"__esModule\",{value:!0})},56833:(e,t)=>{Object.defineProperty(t,\"__esModule\",{value:!0})},84078:(e,t)=>{Object.defineProperty(t,\"__esModule\",{value:!0})},6893:(e,t)=>{Object.defineProperty(t,\"__esModule\",{value:!0})},96850:function(e,t,r){var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!(\"get\"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)\"default\"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,\"__esModule\",{value:!0}),i(r(14017),t),i(r(90200),t),i(r(14499),t),i(r(92233),t),i(r(50916),t),i(r(79482),t),i(r(15960),t),i(r(64952),t),i(r(75958),t),i(r(35634),t),i(r(88887),t),i(r(33755),t),i(r(19050),t),i(r(50776),t),i(r(19999),t),i(r(9399),t),i(r(62989),t),i(r(55152),t),i(r(86848),t),i(r(250),t),i(r(98913),t),i(r(92306),t),i(r(83483),t),i(r(87282),t),i(r(68090),t),i(r(24621),t),i(r(62990),t),i(r(48540),t),i(r(83964),t),i(r(29359),t),i(r(71491),t),i(r(83088),t),i(r(25869),t),i(r(1126),t),i(r(98529),t),i(r(68994),t),i(r(72469),t),i(r(43801),t),i(r(7),t),i(r(27619),t),i(r(30777),t),i(r(6841),t),i(r(79858),t),i(r(83162),t),i(r(79588),t),i(r(12022),t),i(r(32444),t),i(r(23793),t),i(r(52735),t),i(r(52217),t),i(r(2291),t),i(r(88791),t),i(r(94647),t),i(r(77483),t),i(r(47451),t),i(r(34648),t),i(r(56833),t),i(r(84078),t),i(r(6893),t)},84945:function(e,t,r){var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!(\"get\"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)\"default\"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,\"__esModule\",{value:!0}),i(r(96850),t)},17656:(e,t)=>{var r;Object.defineProperty(t,\"__esModule\",{value:!0}),t.AlertService=t.ButtonType=void 0,(r=t.ButtonType||(t.ButtonType={}))[r.Info=0]=\"Info\",r[r.Danger=1]=\"Danger\",t.AlertService=class{showErrorAlert(e){return this.alert(e.text,e.title)}}},69207:(e,t)=>{Object.defineProperty(t,\"__esModule\",{value:!0}),t.ApiServiceEvent=void 0,(t.ApiServiceEvent||(t.ApiServiceEvent={})).MetaReceived=\"MetaReceived\"},58864:(e,t)=>{Object.defineProperty(t,\"__esModule\",{value:!0})},54943:(e,t)=>{Object.defineProperty(t,\"__esModule\",{value:!0})},80091:(e,t)=>{var r;Object.defineProperty(t,\"__esModule\",{value:!0}),t.ApplicationStage=void 0,(r=t.ApplicationStage||(t.ApplicationStage={}))[r.PreparingForLaunch_0=0]=\"PreparingForLaunch_0\",r[r.ReadyForLaunch_05=.5]=\"ReadyForLaunch_05\",r[r.StorageDecrypted_09=.9]=\"StorageDecrypted_09\",r[r.Launched_10=1]=\"Launched_10\",r[r.LoadingDatabase_11=1.1]=\"LoadingDatabase_11\",r[r.LoadedDatabase_12=1.2]=\"LoadedDatabase_12\",r[r.FullSyncCompleted_13=1.3]=\"FullSyncCompleted_13\",r[r.SignedIn_30=3]=\"SignedIn_30\"},87941:(e,t)=>{Object.defineProperty(t,\"__esModule\",{value:!0})},27555:(e,t)=>{var r;Object.defineProperty(t,\"__esModule\",{value:!0}),t.DeinitMode=void 0,(r=t.DeinitMode||(t.DeinitMode={})).Soft=\"Soft\",r.Hard=\"Hard\"},63840:(e,t)=>{var r;Object.defineProperty(t,\"__esModule\",{value:!0}),t.DeinitSource=void 0,(r=t.DeinitSource||(t.DeinitSource={}))[r.SignOut=1]=\"SignOut\",r[r.Lock=2]=\"Lock\",r[r.SwitchWorkspace=3]=\"SwitchWorkspace\",r[r.SignOutAll=4]=\"SignOutAll\"},85788:(e,t)=>{Object.defineProperty(t,\"__esModule\",{value:!0})},30935:function(e,t,r){var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function s(e){try{c(n.next(e))}catch(e){o(e)}}function a(e){try{c(n.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,\"__esModule\",{value:!0}),t.FilesBackupService=void 0;const i=r(10256),o=r(16418),s=r(84945),a=r(10687);class c extends a.AbstractService{constructor(e,t,r,n,s,a){super(a),this.items=e,this.api=t,this.encryptor=r,this.device=n,this.status=s,this.internalEventBus=a,this.pendingFiles=new Set,this.itemsObserverDisposer=e.addObserver(i.ContentType.File,(e=>{let{changed:t,inserted:r,source:n}=e;[o.PayloadEmitSource.LocalDatabaseLoaded,o.PayloadEmitSource.RemoteSaved,o.PayloadEmitSource.RemoteRetrieved].includes(n)&&this.handleChangedFiles([...t,...r])}))}deinit(){this.itemsObserverDisposer()}isFilesBackupsEnabled(){return this.device.isFilesBackupsEnabled()}enableFilesBackups(){return n(this,void 0,void 0,(function*(){yield this.device.enableFilesBackups(),(yield this.isFilesBackupsEnabled())&&this.backupAllFiles()}))}backupAllFiles(){const e=this.items.getItems(i.ContentType.File);this.handleChangedFiles(e)}disableFilesBackups(){return this.device.disableFilesBackups()}changeFilesBackupsLocation(){return this.device.changeFilesBackupsLocation()}getFilesBackupsLocation(){return this.device.getFilesBackupsLocation()}openFilesBackupsLocation(){return this.device.openFilesBackupsLocation()}getBackupsMapping(){return n(this,void 0,void 0,(function*(){return(yield this.device.getFilesBackupsMappingFile()).files}))}handleChangedFiles(e){return n(this,void 0,void 0,(function*(){if(0===e.length)return;if(!(yield this.isFilesBackupsEnabled()))return;const t=yield this.getBackupsMapping();for(const r of e)this.pendingFiles.has(r.uuid)||null==t[r.uuid]&&(this.pendingFiles.add(r.uuid),yield this.performBackupOperation(r),this.pendingFiles.delete(r.uuid))}))}performBackupOperation(e){return n(this,void 0,void 0,(function*(){const t=this.status.addMessage(\"Backing up file \".concat(e.name,\"...\")),r=yield this.encryptor.encryptSplitSingle({usesItemsKeyWithKeyLookup:{items:[e.payload]}}),n=this.items.getDisplayableItemsKeys().find((e=>e.uuid===r.items_key_id));if(!n)return\"failed\";const i=yield this.encryptor.encryptSplitSingle({usesRootKeyWithKeyLookup:{items:[n.payload]}}),a=yield this.api.createFileValetToken(e.remoteIdentifier,\"read\");if(a instanceof s.ClientDisplayableError)return\"failed\";const c={info:{warning:\"Do not edit this file.\",information:\"The file and key data below is encrypted with your account password.\",instructions:\"Drag and drop this metadata file into the File Backups preferences pane in the Standard Notes desktop or web application interface.\"},file:(0,o.CreateEncryptedBackupFileContextPayload)(r.ejected()),itemsKey:(0,o.CreateEncryptedBackupFileContextPayload)(i.ejected()),version:\"1.0.0\"},l=JSON.stringify(c,null,2),u=yield this.device.saveFilesBackupsFile(e.uuid,l,{chunkSizes:e.encryptedChunkSizes,url:this.api.getFilesDownloadUrl(),valetToken:a});if(this.status.removeMessage(t),\"failed\"===u){const t=this.status.addMessage(\"Failed to back up \".concat(e.name,\"...\"));setTimeout((()=>{this.status.removeMessage(t)}),2e3)}return u}))}}t.FilesBackupService=c},74858:(e,t,r)=>{Object.defineProperty(t,\"__esModule\",{value:!0}),t.Challenge=void 0;const n=r(64657),i=r(58325),o=r(34210);t.Challenge=class{constructor(e,t,r,n,i){this.prompts=e,this.reason=t,this.cancelable=r,this._heading=n,this._subheading=i,this.id=Math.random(),Object.freeze(this)}get modalTitle(){return this.reason===o.ChallengeReason.Migration?i.ChallengeModalTitle.Migration:i.ChallengeModalTitle.Generic}get heading(){if(this._heading)return this._heading;switch(this.reason){case o.ChallengeReason.ApplicationUnlock:return i.ChallengeStrings.UnlockApplication;case o.ChallengeReason.Migration:return i.ChallengeStrings.EnterLocalPasscode;case o.ChallengeReason.ResaveRootKey:return i.ChallengeStrings.EnterPasscodeForRootResave;case o.ChallengeReason.ProtocolUpgrade:return i.ChallengeStrings.EnterCredentialsForProtocolUpgrade;case o.ChallengeReason.AccessProtectedNote:return i.ChallengeStrings.NoteAccess;case o.ChallengeReason.AccessProtectedFile:return i.ChallengeStrings.FileAccess;case o.ChallengeReason.ImportFile:return i.ChallengeStrings.ImportFile;case o.ChallengeReason.AddPasscode:return i.ChallengeStrings.AddPasscode;case o.ChallengeReason.RemovePasscode:return i.ChallengeStrings.RemovePasscode;case o.ChallengeReason.ChangePasscode:return i.ChallengeStrings.ChangePasscode;case o.ChallengeReason.ChangeAutolockInterval:return i.ChallengeStrings.ChangeAutolockInterval;case o.ChallengeReason.CreateDecryptedBackupWithProtectedItems:return i.ChallengeStrings.EnterCredentialsForDecryptedBackupDownload;case o.ChallengeReason.RevokeSession:return i.ChallengeStrings.RevokeSession;case o.ChallengeReason.DecryptEncryptedFile:return i.ChallengeStrings.DecryptEncryptedFile;case o.ChallengeReason.ExportBackup:return i.ChallengeStrings.ExportBackup;case o.ChallengeReason.DisableBiometrics:return i.ChallengeStrings.DisableBiometrics;case o.ChallengeReason.UnprotectNote:return i.ChallengeStrings.UnprotectNote;case o.ChallengeReason.UnprotectFile:return i.ChallengeStrings.UnprotectFile;case o.ChallengeReason.SearchProtectedNotesText:return i.ChallengeStrings.SearchProtectedNotesText;case o.ChallengeReason.SelectProtectedNote:return i.ChallengeStrings.SelectProtectedNote;case o.ChallengeReason.DisableMfa:return i.ChallengeStrings.DisableMfa;case o.ChallengeReason.DeleteAccount:return i.ChallengeStrings.DeleteAccount;case o.ChallengeReason.AuthorizeNoteForListed:return i.ChallengeStrings.ListedAuthorization;case o.ChallengeReason.Custom:return\"\";default:return(0,n.assertUnreachable)(this.reason)}}get subheading(){return this._subheading?this._subheading:this.reason===o.ChallengeReason.Migration?i.ChallengeStrings.EnterPasscodeForMigration:void 0}hasPromptForValidationType(e){for(const t of this.prompts)if(t.validation===e)return!0;return!1}}},62016:(e,t)=>{Object.defineProperty(t,\"__esModule\",{value:!0})},2854:(e,t)=>{Object.defineProperty(t,\"__esModule\",{value:!0})},49001:(e,t)=>{Object.defineProperty(t,\"__esModule\",{value:!0})},94224:(e,t,r)=>{Object.defineProperty(t,\"__esModule\",{value:!0}),t.ChallengePrompt=void 0;const n=r(64657),i=r(10162),o=r(51013);t.ChallengePrompt=class{constructor(e,t,r){let s=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],a=arguments.length>4?arguments[4]:void 0,c=arguments.length>5?arguments[5]:void 0;switch(this.validation=e,this.secureTextEntry=s,this.keyboardType=a,this.initialValue=c,this.id=Math.random(),this.validation){case i.ChallengeValidation.AccountPassword:this.title=null!=t?t:o.ChallengePromptTitle.AccountPassword,this.placeholder=null!=r?r:o.ChallengePromptTitle.AccountPassword,this.validates=!0;break;case i.ChallengeValidation.LocalPasscode:this.title=null!=t?t:o.ChallengePromptTitle.LocalPasscode,this.placeholder=null!=r?r:o.ChallengePromptTitle.LocalPasscode,this.validates=!0;break;case i.ChallengeValidation.Biometric:this.title=null!=t?t:o.ChallengePromptTitle.Biometrics,this.placeholder=null!=r?r:\"\",this.validates=!0;break;case i.ChallengeValidation.ProtectionSessionDuration:this.title=null!=t?t:o.ChallengePromptTitle.RememberFor,this.placeholder=null!=r?r:\"\",this.validates=!0;break;case i.ChallengeValidation.None:this.title=null!=t?t:\"\",this.placeholder=null!=r?r:\"\",this.validates=!1;break;default:(0,n.assertUnreachable)(this.validation)}Object.freeze(this)}}},24840:(e,t)=>{Object.defineProperty(t,\"__esModule\",{value:!0})},51013:(e,t)=>{Object.defineProperty(t,\"__esModule\",{value:!0}),t.ChallengePromptTitle=void 0,t.ChallengePromptTitle={AccountPassword:\"Account Password\",LocalPasscode:\"Application Passcode\",Biometrics:\"Biometrics\",RememberFor:\"Remember For\",Mfa:\"Two-factor Authentication Code\"}},99777:(e,t)=>{Object.defineProperty(t,\"__esModule\",{value:!0})},12712:(e,t)=>{var r;Object.defineProperty(t,\"__esModule\",{value:!0}),t.ChallengeKeyboardType=void 0,(r=t.ChallengeKeyboardType||(t.ChallengeKeyboardType={})).Alphanumeric=\"default\",r.Numeric=\"numeric\"},11817:(e,t)=>{Object.defineProperty(t,\"__esModule\",{value:!0})},34210:(e,t)=>{var r;Object.defineProperty(t,\"__esModule\",{value:!0}),t.ChallengeReason=void 0,(r=t.ChallengeReason||(t.ChallengeReason={}))[r.AccessProtectedFile=0]=\"AccessProtectedFile\",r[r.AccessProtectedNote=1]=\"AccessProtectedNote\",r[r.AddPasscode=2]=\"AddPasscode\",r[r.ApplicationUnlock=3]=\"ApplicationUnlock\",r[r.ChangeAutolockInterval=4]=\"ChangeAutolockInterval\",r[r.ChangePasscode=5]=\"ChangePasscode\",r[r.CreateDecryptedBackupWithProtectedItems=6]=\"CreateDecryptedBackupWithProtectedItems\",r[r.Custom=7]=\"Custom\",r[r.DecryptEncryptedFile=8]=\"DecryptEncryptedFile\",r[r.DisableBiometrics=9]=\"DisableBiometrics\",r[r.DisableMfa=10]=\"DisableMfa\",r[r.ExportBackup=11]=\"ExportBackup\",r[r.ImportFile=12]=\"ImportFile\",r[r.Migration=13]=\"Migration\",r[r.ProtocolUpgrade=14]=\"ProtocolUpgrade\",r[r.RemovePasscode=15]=\"RemovePasscode\",r[r.ResaveRootKey=16]=\"ResaveRootKey\",r[r.RevokeSession=17]=\"RevokeSession\",r[r.SearchProtectedNotesText=18]=\"SearchProtectedNotesText\",r[r.SelectProtectedNote=19]=\"SelectProtectedNote\",r[r.UnprotectFile=20]=\"UnprotectFile\",r[r.UnprotectNote=21]=\"UnprotectNote\",r[r.DeleteAccount=22]=\"DeleteAccount\",r[r.AuthorizeNoteForListed=23]=\"AuthorizeNoteForListed\"},10162:(e,t)=>{var r;Object.defineProperty(t,\"__esModule\",{value:!0}),t.ChallengeValidation=void 0,(r=t.ChallengeValidation||(t.ChallengeValidation={}))[r.None=0]=\"None\",r[r.LocalPasscode=1]=\"LocalPasscode\",r[r.AccountPassword=2]=\"AccountPassword\",r[r.Biometric=3]=\"Biometric\",r[r.ProtectionSessionDuration=4]=\"ProtectionSessionDuration\"},75967:(e,t)=>{Object.defineProperty(t,\"__esModule\",{value:!0}),t.CreateChallengeValue=void 0,t.CreateChallengeValue=function(e,t){return{prompt:e,value:t}}},30306:function(e,t,r){var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!(\"get\"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)\"default\"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,\"__esModule\",{value:!0}),i(r(74858),t),i(r(62016),t),i(r(2854),t),i(r(49001),t),i(r(94224),t),i(r(24840),t),i(r(51013),t),i(r(99777),t),i(r(12712),t),i(r(11817),t),i(r(34210),t),i(r(10162),t),i(r(75967),t)},47205:(e,t)=>{Object.defineProperty(t,\"__esModule\",{value:!0})},38796:(e,t)=>{var r;Object.defineProperty(t,\"__esModule\",{value:!0}),t.ComponentViewerError=void 0,(r=t.ComponentViewerError||(t.ComponentViewerError={})).OfflineRestricted=\"OfflineRestricted\",r.MissingUrl=\"MissingUrl\"},96040:(e,t)=>{Object.defineProperty(t,\"__esModule\",{value:!0})},18908:(e,t,r)=>{Object.defineProperty(t,\"__esModule\",{value:!0}),t.isDesktopDevice=void 0;const n=r(16418);t.isDesktopDevice=function(e){return e.environment===n.Environment.Desktop}},48531:(e,t)=>{Object.defineProperty(t,\"__esModule\",{value:!0})},61235:(e,t)=>{Object.defineProperty(t,\"__esModule\",{value:!0})},42101:(e,t)=>{Object.defineProperty(t,\"__esModule\",{value:!0})},92820:(e,t)=>{Object.defineProperty(t,\"__esModule\",{value:!0})},84136:(e,t,r)=>{Object.defineProperty(t,\"__esModule\",{value:!0}),t.isMobileDevice=void 0;const n=r(16418);t.isMobileDevice=function(e){return e.environment===n.Environment.Mobile}},6113:(e,t)=>{Object.defineProperty(t,\"__esModule\",{value:!0})},76081:(e,t)=>{Object.defineProperty(t,\"__esModule\",{value:!0})},47084:function(e,t,r){var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function s(e){try{c(n.next(e))}catch(e){o(e)}}function a(e){try{c(n.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,\"__esModule\",{value:!0}),t.DecryptBackupFile=void 0;const i=r(10256),o=r(75082),s=r(16418),a=r(84945),c=r(64657);function l(e,t){return n(this,void 0,void 0,(function*(){const r=[],n=[];e.forEach((e=>{e.content_type===i.ContentType.ItemsKey&&(0,s.isDecryptedPayload)(e)?r.push(e):(0,s.isEncryptedPayload)(e)&&n.push(e)}));const o=r.map((e=>(0,s.CreateDecryptedItemFromPayload)(e)));return d(n,o,t)}))}function u(e,t,r,n,o){let s;if(e.items_key_id&&(s=r.itemsKeyForPayload(e),s))return s;if(s=t.find((t=>e.items_key_id===t.uuid)),s)return s;if(!n)return;const a=e.version;return(0,i.leftVersionGreaterThanOrEqualToRight)(n.version,i.ProtocolVersion.V004)?s=r.defaultItemsKeyForItemVersion(a,t):(0,i.compareVersions)(a,i.ProtocolVersion.V003)<=0&&(s=o),s}function d(e,t,r,i,s){return n(this,void 0,void 0,(function*(){const n=[];for(const a of e)if(!(0,o.ContentTypeUsesRootKeyEncryption)(a.content_type))try{const e=u(a,t,r,i,s);if(!e){n.push(a.copy({errorDecrypting:!0}));continue}if((0,o.isItemsKey)(e)){const t=yield r.decryptSplitSingle({usesItemsKey:{items:[a],key:e}});n.push(t)}else{const t=yield r.decryptSplitSingle({usesRootKey:{items:[a],key:e}});n.push(t)}}catch(e){n.push(a.copy({errorDecrypting:!0})),console.error(\"Error decrypting payload\",a,e)}return n}))}function p(e,t,r,o){return n(this,void 0,void 0,(function*(){const n=[],a=yield o.computeRootKey(e,t),l=r.filter((e=>e.content_type===i.ContentType.ItemsKey)),u=yield o.decryptSplit({usesRootKey:{items:l,key:a}});(0,c.extendArray)(n,u);const p=yield d(r,u.filter(s.isDecryptedPayload).map((e=>(0,s.CreateDecryptedItemFromPayload)(e))),o,t,a);return(0,c.extendArray)(n,p),n}))}t.DecryptBackupFile=function(e,t,r){return n(this,void 0,void 0,(function*(){const n=e.items.map((e=>{if((0,s.isEncryptedTransferPayload)(e))return new s.EncryptedPayload(e);if((0,s.isDecryptedTransferPayload)(e))return new s.DecryptedPayload(e);throw Error(\"Unhandled case in decryptBackupFile\")})),{encrypted:c,decrypted:u}=(0,s.CreatePayloadSplit)(n),d=function(e,t){if(e.keyParams||e.auth_params)return o.BackupFileType.Encrypted;{const e=t.find(s.isEncryptedPayload),r=t.find((e=>e.content_type===i.ContentType.ItemsKey&&(0,s.isDecryptedPayload)(e)));return e&&r?o.BackupFileType.EncryptedWithNonEncryptedItemsKey:e?o.BackupFileType.Corrupt:o.BackupFileType.FullyDecrypted}}(e,n);switch(d){case o.BackupFileType.Corrupt:return new a.ClientDisplayableError(\"Invalid backup file.\");case o.BackupFileType.Encrypted:{if(!r)throw Error(\"Attempting to decrypt encrypted file with no password\");const n=e.keyParams||e.auth_params;return[...u,...yield p(r,(0,o.CreateAnyKeyParams)(n),c,t)]}case o.BackupFileType.EncryptedWithNonEncryptedItemsKey:return[...u,...yield l(n,t)];case o.BackupFileType.FullyDecrypted:return[...u,...c]}}))}},52567:function(e,t,r){var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function s(e){try{c(n.next(e))}catch(e){o(e)}}function a(e){try{c(n.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,\"__esModule\",{value:!0}),t.EncryptionService=void 0;const i=r(75082),o=r(16418),s=r(64657),a=r(10256),c=r(10687),l=r(41479),u=r(63706),d=r(49184),p=r(47084),h=r(13744);class y extends c.AbstractService{constructor(e,t,r,n,o,a,c){super(c),this.itemManager=e,this.payloadManager=t,this.deviceInterface=r,this.storageService=n,this.identifier=o,this.crypto=a,this.internalEventBus=c,this.crypto=a,this.operatorManager=new i.OperatorManager(a),this.itemsEncryption=new l.ItemsEncryptionService(e,t,n,this.operatorManager,c),this.rootKeyEncryption=new d.RootKeyEncryptionService(this.itemManager,this.operatorManager,this.deviceInterface,this.storageService,this.identifier,this.internalEventBus),this.rootKeyObserverDisposer=this.rootKeyEncryption.addEventObserver((e=>{this.itemsEncryption.userVersion=this.getUserVersion(),e===i.RootKeyServiceEvent.RootKeyStatusChanged&&this.notifyEvent(h.EncryptionServiceEvent.RootKeyStatusChanged)})),s.UuidGenerator.SetGenerator(this.crypto.generateUUID)}deinit(){this.itemManager=void 0,this.payloadManager=void 0,this.deviceInterface=void 0,this.storageService=void 0,this.crypto=void 0,this.operatorManager=void 0,this.rootKeyObserverDisposer(),this.rootKeyObserverDisposer=void 0,this.itemsEncryption.deinit(),this.itemsEncryption=void 0,this.rootKeyEncryption.deinit(),this.rootKeyEncryption=void 0,super.deinit()}initialize(){return n(this,void 0,void 0,(function*(){yield this.rootKeyEncryption.initialize()}))}getEncryptionDisplayName(){return n(this,void 0,void 0,(function*(){const e=yield this.rootKeyEncryption.getEncryptionSourceVersion();if(e)return this.operatorManager.operatorForVersion(e).getEncryptionDisplayName();throw Error(\"Attempting to access encryption display name wtihout source\")}))}getLatestVersion(){return a.ProtocolVersionLatest}hasAccount(){return this.rootKeyEncryption.hasAccount()}hasRootKeyEncryptionSource(){return this.rootKeyEncryption.hasRootKeyEncryptionSource()}getUserVersion(){return this.rootKeyEncryption.getUserVersion()}upgradeAvailable(){return n(this,void 0,void 0,(function*(){const e=this.accountUpgradeAvailable(),t=yield this.passcodeUpgradeAvailable();return e||t}))}getSureDefaultItemsKey(){return this.itemsEncryption.getDefaultItemsKey()}repersistAllItems(){return n(this,void 0,void 0,(function*(){return this.itemsEncryption.repersistAllItems()}))}reencryptItemsKeys(){return n(this,void 0,void 0,(function*(){yield this.rootKeyEncryption.reencryptItemsKeys()}))}createNewItemsKeyWithRollback(){return n(this,void 0,void 0,(function*(){return this.rootKeyEncryption.createNewItemsKeyWithRollback()}))}decryptErroredPayloads(){return n(this,void 0,void 0,(function*(){yield this.itemsEncryption.decryptErroredPayloads()}))}itemsKeyForPayload(e){return this.itemsEncryption.itemsKeyForPayload(e)}defaultItemsKeyForItemVersion(e,t){return this.itemsEncryption.defaultItemsKeyForItemVersion(e,t)}encryptSplitSingle(e){return n(this,void 0,void 0,(function*(){return(yield this.encryptSplit(e))[0]}))}encryptSplit(e){return n(this,void 0,void 0,(function*(){const t=[];if(e.usesRootKey){const r=yield this.rootKeyEncryption.encryptPayloads(e.usesRootKey.items,e.usesRootKey.key);(0,s.extendArray)(t,r)}if(e.usesItemsKey){const r=yield this.itemsEncryption.encryptPayloads(e.usesItemsKey.items,e.usesItemsKey.key);(0,s.extendArray)(t,r)}if(e.usesRootKeyWithKeyLookup){const r=yield this.rootKeyEncryption.encryptPayloadsWithKeyLookup(e.usesRootKeyWithKeyLookup.items);(0,s.extendArray)(t,r)}if(e.usesItemsKeyWithKeyLookup){const r=yield this.itemsEncryption.encryptPayloadsWithKeyLookup(e.usesItemsKeyWithKeyLookup.items);(0,s.extendArray)(t,r)}return t.map((t=>{const r=(0,i.FindPayloadInEncryptionSplit)(t.uuid,e);return new o.EncryptedPayload(Object.assign(Object.assign(Object.assign({},r),t),{waitingForKey:!1,errorDecrypting:!1}))}))}))}decryptSplitSingle(e){return n(this,void 0,void 0,(function*(){return(yield this.decryptSplit(e))[0]}))}decryptSplit(e){return n(this,void 0,void 0,(function*(){const t=[];if(e.usesRootKey){const r=yield this.rootKeyEncryption.decryptPayloads(e.usesRootKey.items,e.usesRootKey.key);(0,s.extendArray)(t,r)}if(e.usesRootKeyWithKeyLookup){const r=yield this.rootKeyEncryption.decryptPayloadsWithKeyLookup(e.usesRootKeyWithKeyLookup.items);(0,s.extendArray)(t,r)}if(e.usesItemsKey){const r=yield this.itemsEncryption.decryptPayloads(e.usesItemsKey.items,e.usesItemsKey.key);(0,s.extendArray)(t,r)}if(e.usesItemsKeyWithKeyLookup){const r=yield this.itemsEncryption.decryptPayloadsWithKeyLookup(e.usesItemsKeyWithKeyLookup.items);(0,s.extendArray)(t,r)}return t.map((t=>{const r=(0,i.FindPayloadInDecryptionSplit)(t.uuid,e);return(0,i.isErrorDecryptingParameters)(t)?new o.EncryptedPayload(Object.assign(Object.assign({},r.ejected()),t)):new o.DecryptedPayload(Object.assign(Object.assign({},r.ejected()),t))}))}))}accountUpgradeAvailable(){const e=this.getUserVersion();return!!e&&e!==a.ProtocolVersionLatest}passcodeUpgradeAvailable(){return n(this,void 0,void 0,(function*(){return this.rootKeyEncryption.passcodeUpgradeAvailable()}))}platformSupportsKeyDerivation(e){return(0,a.compareVersions)(e.version,a.ProtocolVersion.V004)>=0||!!(0,s.isWebCryptoAvailable)()||(0,s.isReactNativeEnvironment)()}supportedVersions(){return[a.ProtocolVersion.V001,a.ProtocolVersion.V002,a.ProtocolVersion.V003,a.ProtocolVersion.V004]}isVersionNewerThanLibraryVersion(e){const t=a.ProtocolVersionLatest;return 1===(0,a.compareVersions)(e,t)}costMinimumForVersion(e){if((0,a.compareVersions)(e,a.ProtocolVersion.V003)>=0)throw\"Cost minimums only apply to versions <= 002\";if(e===a.ProtocolVersion.V001)return i.V001Algorithm.PbkdfMinCost;if(e===a.ProtocolVersion.V002)return i.V002Algorithm.PbkdfMinCost;throw\"Invalid version for cost minimum: \".concat(e)}computeRootKey(e,t){return n(this,void 0,void 0,(function*(){return this.rootKeyEncryption.computeRootKey(e,t)}))}createRootKey(e,t,r,i){return n(this,void 0,void 0,(function*(){return this.rootKeyEncryption.createRootKey(e,t,r,i)}))}decryptBackupFile(e,t){return n(this,void 0,void 0,(function*(){return yield(0,p.DecryptBackupFile)(e,this,t)}))}createKeyParams(e){return(0,i.CreateAnyKeyParams)(e)}createEncryptedBackupFile(){return n(this,void 0,void 0,(function*(){const e=this.itemManager.items.map((e=>e.payload)),t=(0,i.SplitPayloadsByEncryptionType)(e),r=(0,i.CreateEncryptionSplitWithKeyLookup)(t),n=(yield this.encryptSplit(r)).map((e=>(0,o.CreateEncryptedBackupFileContextPayload)(e))),s={version:a.ProtocolVersionLatest,items:n},c=yield this.getRootKeyParams();return s.keyParams=null==c?void 0:c.getPortableValue(),s}))}createDecryptedBackupFile(){const e=this.payloadManager.nonDeletedItems.filter((e=>e.content_type!==a.ContentType.ItemsKey));return{version:a.ProtocolVersionLatest,items:e.map((e=>(0,o.isDecryptedPayload)(e)?(0,o.CreateDecryptedBackupFileContextPayload)(e):(0,o.isEncryptedPayload)(e)?(0,o.CreateEncryptedBackupFileContextPayload)(e):void 0)).filter(s.isNotUndefined)}}hasPasscode(){return this.rootKeyEncryption.hasPasscode()}isPasscodeLocked(){return n(this,void 0,void 0,(function*(){return(yield this.rootKeyEncryption.hasRootKeyWrapper())&&null==this.rootKeyEncryption.getRootKey()}))}getRootKeyParams(){return n(this,void 0,void 0,(function*(){return this.rootKeyEncryption.getRootKeyParams()}))}getAccountKeyParams(){return this.rootKeyEncryption.memoizedRootKeyParams}computeWrappingKey(e){return n(this,void 0,void 0,(function*(){const t=yield this.rootKeyEncryption.getSureRootKeyWrapperKeyParams();return yield this.computeRootKey(e,t)}))}unwrapRootKey(e){return n(this,void 0,void 0,(function*(){return this.rootKeyEncryption.unwrapRootKey(e)}))}setNewRootKeyWrapper(e){return n(this,void 0,void 0,(function*(){return this.rootKeyEncryption.setNewRootKeyWrapper(e)}))}removePasscode(){return n(this,void 0,void 0,(function*(){yield this.rootKeyEncryption.removeRootKeyWrapper()}))}setRootKey(e,t){return n(this,void 0,void 0,(function*(){yield this.rootKeyEncryption.setRootKey(e,t)}))}getRootKey(){return this.rootKeyEncryption.getRootKey()}deleteWorkspaceSpecificKeyStateFromDevice(){return n(this,void 0,void 0,(function*(){yield this.rootKeyEncryption.deleteWorkspaceSpecificKeyStateFromDevice()}))}validateAccountPassword(e){return n(this,void 0,void 0,(function*(){return this.rootKeyEncryption.validateAccountPassword(e)}))}validatePasscode(e){return n(this,void 0,void 0,(function*(){return this.rootKeyEncryption.validatePasscode(e)}))}getEmbeddedPayloadAuthenticatedData(e){const t=e.version;if(t)return this.operatorManager.operatorForVersion(t).getPayloadAuthenticatedData((0,i.encryptedParametersFromPayload)(e))}getKeyEmbeddedKeyParams(e){const t=this.getEmbeddedPayloadAuthenticatedData(e);if(t){if((0,a.isVersionLessThanOrEqualTo)(e.version,a.ProtocolVersion.V003)){const e=t;return this.createKeyParams(e)}{const e=t.kp;return this.createKeyParams(e)}}}needsNewRootKeyBasedItemsKey(){if(!this.hasAccount())return!1;const e=this.rootKeyEncryption.getRootKey();if(!e)return!1;if((0,a.compareVersions)(e.keyVersion,a.ProtocolVersionLastNonrootItemsKey)>0)return!1;const t=(0,i.findDefaultItemsKey)(this.itemsEncryption.getItemsKeys());return!t||t.itemsKey!==e.itemsKey}createNewDefaultItemsKey(){return n(this,void 0,void 0,(function*(){return this.rootKeyEncryption.createNewDefaultItemsKey()}))}getPasswordCreatedDate(){const e=this.getRootKey();return e?e.keyParams.createdDate:void 0}onSyncEvent(e){return n(this,void 0,void 0,(function*(){e===u.SyncEvent.SyncCompletedWithAllItemsUploaded&&(yield this.handleFullSyncCompletion()),e===u.SyncEvent.DownloadFirstSyncCompleted&&(yield this.handleDownloadFirstSyncCompletion())}))}handleDownloadFirstSyncCompletion(){return n(this,void 0,void 0,(function*(){if(!this.hasAccount())return;const e=this.itemsEncryption.getItemsKeys(),t=e.filter((e=>e.neverSynced)),r=e.filter((e=>!e.neverSynced)).find((e=>e.isDefault));if((0,s.isNullOrUndefined)(r)){const e=yield this.getRootKeyParams();if(e){const r=t.filter((t=>t.keyVersion!==e.version));r.length>0&&(yield this.itemManager.setItemsToBeDeleted(r)),0===this.itemsEncryption.getItemsKeys().length&&(yield this.rootKeyEncryption.createNewDefaultItemsKey())}}else yield this.itemManager.setItemsToBeDeleted(t);const n=this.getUserVersion(),i=this.itemsEncryption.getItemsKeys().find((e=>e.keyVersion===n));(0,s.isNullOrUndefined)(i)&&(yield this.rootKeyEncryption.createNewDefaultItemsKey()),this.syncUnsyncedItemsKeys()}))}handleFullSyncCompletion(){return n(this,void 0,void 0,(function*(){if(!(0,i.findDefaultItemsKey)(this.itemsEncryption.getItemsKeys())&&(yield this.rootKeyEncryption.createNewDefaultItemsKey(),this.rootKeyEncryption.keyMode===i.KeyMode.WrapperOnly))return this.itemsEncryption.repersistAllItems()}))}syncUnsyncedItemsKeys(){if(!this.hasAccount())return;const e=this.itemsEncryption.getItemsKeys().filter((e=>e.neverSynced&&!e.dirty));e.length>0&&this.itemManager.setItemsDirty(e)}getDiagnostics(){return n(this,void 0,void 0,(function*(){return{encryption:Object.assign(Object.assign({getLatestVersion:this.getLatestVersion(),hasAccount:this.hasAccount(),hasRootKeyEncryptionSource:this.hasRootKeyEncryptionSource(),getUserVersion:this.getUserVersion(),upgradeAvailable:yield this.upgradeAvailable(),accountUpgradeAvailable:this.accountUpgradeAvailable(),passcodeUpgradeAvailable:yield this.passcodeUpgradeAvailable(),hasPasscode:this.hasPasscode(),isPasscodeLocked:yield this.isPasscodeLocked(),needsNewRootKeyBasedItemsKey:this.needsNewRootKeyBasedItemsKey()},yield this.itemsEncryption.getDiagnostics()),yield this.rootKeyEncryption.getDiagnostics())}}))}}t.EncryptionService=y},13744:(e,t)=>{Object.defineProperty(t,\"__esModule\",{value:!0}),t.EncryptionServiceEvent=void 0,(t.EncryptionServiceEvent||(t.EncryptionServiceEvent={})).RootKeyStatusChanged=\"RootKeyStatusChanged\"},12121:function(e,t,r){var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function s(e){try{c(n.next(e))}catch(e){o(e)}}function a(e){try{c(n.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,\"__esModule\",{value:!0}),t.DecryptItemsKeyByPromptingUser=t.DecryptItemsKeyWithUserFallback=void 0;const i=r(16418),o=r(75082),s=r(94224),a=r(34210),c=r(10162);function l(e,t,r,l){return n(this,void 0,void 0,(function*(){if(l||(l=t.getKeyEmbeddedKeyParams(e)),!l)return\"failed\";const n=r.createChallenge([new s.ChallengePrompt(c.ChallengeValidation.None,void 0,void 0,!0)],a.ChallengeReason.Custom,!0,o.KeyRecoveryStrings.KeyRecoveryLoginFlowPrompt(l),o.KeyRecoveryStrings.KeyRecoveryPasswordRequired),u=yield r.promptForChallengeResponse(n);if(!u)return\"aborted\";const d=u.values[0].value,p=yield t.computeRootKey(d,l),h=yield t.decryptSplitSingle({usesRootKey:{items:[e],key:p}});return r.completeChallenge(n),(0,i.isDecryptedPayload)(h)?{decryptedKey:h,rootKey:p}:\"failed\"}))}t.DecryptItemsKeyWithUserFallback=function(e,t,r){return n(this,void 0,void 0,(function*(){const n=yield t.decryptSplitSingle({usesRootKeyWithKeyLookup:{items:[e]}});if((0,i.isDecryptedPayload)(n))return n;const o=yield l(e,t,r);return\"aborted\"===o||\"failed\"===o?o:o.decryptedKey}))},t.DecryptItemsKeyByPromptingUser=l},41479:function(e,t,r){var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function s(e){try{c(n.next(e))}catch(e){o(e)}}function a(e){try{c(n.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,\"__esModule\",{value:!0}),t.ItemsEncryptionService=void 0;const i=r(10256),o=r(75082),s=r(16418),a=r(64657),c=r(10687);class l extends c.AbstractService{constructor(e,t,r,n,o){super(o),this.itemManager=e,this.payloadManager=t,this.storageService=r,this.operatorManager=n,this.internalEventBus=o,this.removeItemsObserver=this.itemManager.addObserver([i.ContentType.ItemsKey],(e=>{let{changed:t,inserted:r}=e;t.concat(r).length>0&&this.decryptErroredPayloads()}))}deinit(){this.itemManager=void 0,this.payloadManager=void 0,this.storageService=void 0,this.removeItemsObserver(),this.removeItemsObserver=void 0,super.deinit()}repersistAllItems(){return n(this,void 0,void 0,(function*(){const e=this.itemManager.items.map((e=>e.payload));return this.storageService.savePayloads(e)}))}getItemsKeys(){return this.itemManager.getDisplayableItemsKeys()}itemsKeyForPayload(e){return this.getItemsKeys().find((t=>t.uuid===e.items_key_id||t.duplicateOf===e.items_key_id))}getDefaultItemsKey(){return(0,o.findDefaultItemsKey)(this.getItemsKeys())}keyToUseForItemEncryption(){const e=this.getDefaultItemsKey();let t;return t=this.userVersion&&this.userVersion!==(null==e?void 0:e.keyVersion)?this.getItemsKeys().find((e=>e.keyVersion===this.userVersion)):e,t||new o.StandardException(\"Cannot find items key to use for encryption\")}keyToUseForDecryptionOfPayload(e){return e.items_key_id?this.itemsKeyForPayload(e):this.defaultItemsKeyForItemVersion(e.version)}encryptPayloadWithKeyLookup(e){return n(this,void 0,void 0,(function*(){const t=this.keyToUseForItemEncryption();if(t instanceof o.StandardException)throw Error(t.message);return this.encryptPayload(e,t)}))}encryptPayload(e,t){return n(this,void 0,void 0,(function*(){if((0,s.isEncryptedPayload)(e))throw Error(\"Attempting to encrypt already encrypted payload.\");if(!e.content)throw Error(\"Attempting to encrypt payload with no content.\");if(!e.uuid)throw Error(\"Attempting to encrypt payload with no UuidGenerator.\");return(0,o.encryptPayload)(e,t,this.operatorManager)}))}encryptPayloads(e,t){return n(this,void 0,void 0,(function*(){return Promise.all(e.map((e=>this.encryptPayload(e,t))))}))}encryptPayloadsWithKeyLookup(e){return n(this,void 0,void 0,(function*(){return Promise.all(e.map((e=>this.encryptPayloadWithKeyLookup(e))))}))}decryptPayloadWithKeyLookup(e){return n(this,void 0,void 0,(function*(){const t=this.keyToUseForDecryptionOfPayload(e);return null==t?{uuid:e.uuid,errorDecrypting:!0,waitingForKey:!0}:this.decryptPayload(e,t)}))}decryptPayload(e,t){return n(this,void 0,void 0,(function*(){return e.content?(0,o.decryptPayload)(e,t,this.operatorManager):{uuid:e.uuid,errorDecrypting:!0}}))}decryptPayloadsWithKeyLookup(e){return n(this,void 0,void 0,(function*(){return Promise.all(e.map((e=>this.decryptPayloadWithKeyLookup(e))))}))}decryptPayloads(e,t){return n(this,void 0,void 0,(function*(){return Promise.all(e.map((e=>this.decryptPayload(e,t))))}))}decryptErroredPayloads(){return n(this,void 0,void 0,(function*(){const e=this.payloadManager.invalidPayloads.filter((e=>e.content_type!==i.ContentType.ItemsKey));if(0===e.length)return;const t=(yield this.decryptPayloadsWithKeyLookup(e)).map((t=>{const r=(0,s.SureFindPayload)(e,t.uuid);return(0,o.isErrorDecryptingParameters)(t)?new s.EncryptedPayload(Object.assign(Object.assign({},r.ejected()),t)):new s.DecryptedPayload(Object.assign(Object.assign({},r.ejected()),t))}));yield this.payloadManager.emitPayloads(t,s.PayloadEmitSource.LocalChanged)}))}defaultItemsKeyForItemVersion(e,t){const r=t||this.getItemsKeys();return r.find((t=>t.isDefault&&t.keyVersion===e))||r.find((t=>t.keyVersion===e))}getDiagnostics(){var e;return n(this,void 0,void 0,(function*(){const t=this.keyToUseForItemEncryption();return{itemsEncryption:{itemsKeysIds:(0,a.Uuids)(this.getItemsKeys()),defaultItemsKeyId:null===(e=this.getDefaultItemsKey())||void 0===e?void 0:e.uuid,keyToUseForItemEncryptionId:t instanceof o.StandardException?void 0:t.uuid}}}))}}t.ItemsEncryptionService=l},49184:function(e,t,r){var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function s(e){try{c(n.next(e))}catch(e){o(e)}}function a(e){try{c(n.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,\"__esModule\",{value:!0}),t.RootKeyEncryptionService=void 0;const i=r(10256),o=r(75082),s=r(16418),a=r(64657),c=r(10687),l=r(96640),u=r(19288);class d extends c.AbstractService{constructor(e,t,r,n,i,s){super(s),this.itemManager=e,this.operatorManager=t,this.deviceInterface=r,this.storageService=n,this.identifier=i,this.internalEventBus=s,this.keyMode=o.KeyMode.RootKeyNone}deinit(){this.itemManager=void 0,this.rootKey=void 0,this.memoizedRootKeyParams=void 0,super.deinit()}initialize(){return n(this,void 0,void 0,(function*(){const e=this.getWrappedRootKey(),t=yield this.recomputeAccountKeyParams(),r=yield this.hasRootKeyWrapper(),n=null!=e||null!=t;if(r&&n)this.keyMode=o.KeyMode.RootKeyPlusWrapper;else if(r&&!n)this.keyMode=o.KeyMode.WrapperOnly;else if(!r&&n)this.keyMode=o.KeyMode.RootKeyOnly;else{if(r||n)throw\"Invalid key mode condition\";this.keyMode=o.KeyMode.RootKeyNone}this.keyMode===o.KeyMode.RootKeyOnly&&(this.setRootKeyInstance(yield this.getRootKeyFromKeychain()),yield this.handleKeyStatusChange())}))}handleKeyStatusChange(){return n(this,void 0,void 0,(function*(){yield this.recomputeAccountKeyParams(),this.notifyEvent(o.RootKeyServiceEvent.RootKeyStatusChanged)}))}passcodeUpgradeAvailable(){return n(this,void 0,void 0,(function*(){const e=yield this.getRootKeyWrapperKeyParams();return!!e&&e.version!==i.ProtocolVersionLatest}))}hasRootKeyWrapper(){return n(this,void 0,void 0,(function*(){return null!=(yield this.getRootKeyWrapperKeyParams())}))}hasAccount(){switch(this.keyMode){case o.KeyMode.RootKeyNone:case o.KeyMode.WrapperOnly:return!1;case o.KeyMode.RootKeyOnly:case o.KeyMode.RootKeyPlusWrapper:return!0;default:throw Error(\"Unhandled keyMode value '\".concat(this.keyMode,\"'.\"))}}hasRootKeyEncryptionSource(){return this.hasAccount()||this.hasPasscode()}hasPasscode(){return this.keyMode===o.KeyMode.WrapperOnly||this.keyMode===o.KeyMode.RootKeyPlusWrapper}getEncryptionSourceVersion(){return n(this,void 0,void 0,(function*(){if(this.hasAccount())return this.getSureUserVersion();if(this.hasPasscode())return(yield this.getSureRootKeyWrapperKeyParams()).version;throw Error(\"Attempting to access encryption source version without source\")}))}getUserVersion(){const e=this.memoizedRootKeyParams;return null==e?void 0:e.version}getSureUserVersion(){return this.memoizedRootKeyParams.version}getRootKeyFromKeychain(){return n(this,void 0,void 0,(function*(){const e=yield this.deviceInterface.getNamespacedKeychainValue(this.identifier);if(null==e)return;const t=yield this.getSureRootKeyParams();return(0,o.CreateNewRootKey)(Object.assign(Object.assign({},e),{keyParams:t.getPortableValue()}))}))}saveRootKeyToKeychain(){return n(this,void 0,void 0,(function*(){if(null==this.getRootKey())throw\"Attempting to non-existent root key to the keychain.\";if(this.keyMode!==o.KeyMode.RootKeyOnly)throw\"Should not be persisting wrapped key to keychain.\";const e=this.getSureRootKey().getKeychainValue();return this.executeCriticalFunction((()=>this.deviceInterface.setNamespacedKeychainValue(e,this.identifier)))}))}getRootKeyWrapperKeyParams(){return n(this,void 0,void 0,(function*(){const e=yield this.storageService.getValue(l.StorageKey.RootKeyWrapperKeyParams,u.StorageValueModes.Nonwrapped);if(e)return(0,o.CreateAnyKeyParams)(e)}))}getSureRootKeyWrapperKeyParams(){return n(this,void 0,void 0,(function*(){return this.getRootKeyWrapperKeyParams()}))}getRootKeyParams(){return n(this,void 0,void 0,(function*(){if(this.keyMode===o.KeyMode.WrapperOnly)return this.getRootKeyWrapperKeyParams();if(this.keyMode===o.KeyMode.RootKeyOnly||this.keyMode===o.KeyMode.RootKeyPlusWrapper)return this.recomputeAccountKeyParams();if(this.keyMode!==o.KeyMode.RootKeyNone)throw\"Unhandled key mode for getRootKeyParams \".concat(this.keyMode)}))}getSureRootKeyParams(){return n(this,void 0,void 0,(function*(){return this.getRootKeyParams()}))}computeRootKey(e,t){return n(this,void 0,void 0,(function*(){const r=t.version;return this.operatorManager.operatorForVersion(r).computeRootKey(e,t)}))}createRootKey(e,t,r,i){return n(this,void 0,void 0,(function*(){return(i?this.operatorManager.operatorForVersion(i):this.operatorManager.defaultOperator()).createRootKey(e,t,r)}))}getSureMemoizedRootKeyParams(){return this.memoizedRootKeyParams}validateAccountPassword(e){return n(this,void 0,void 0,(function*(){const t=yield this.computeRootKey(e,this.getSureMemoizedRootKeyParams()),r=this.getSureRootKey().compare(t);return r?{valid:r,artifacts:{rootKey:t}}:{valid:!1}}))}validatePasscode(e){return n(this,void 0,void 0,(function*(){const t=yield this.getSureRootKeyWrapperKeyParams(),r=yield this.computeRootKey(e,t),n=yield this.validateWrappingKey(r);return n?{valid:n,artifacts:{wrappingKey:r}}:{valid:!1}}))}validateWrappingKey(e){return n(this,void 0,void 0,(function*(){const t=this.getWrappedRootKey();if(this.keyMode===o.KeyMode.WrapperOnly)return this.storageService.canDecryptWithKey(e);if(this.keyMode===o.KeyMode.RootKeyOnly||this.keyMode===o.KeyMode.RootKeyPlusWrapper){const r=new s.EncryptedPayload(t),n=yield this.decryptPayload(r,e);return!(0,o.isErrorDecryptingParameters)(n)}throw\"Unhandled case in validateWrappingKey\"}))}recomputeAccountKeyParams(){return n(this,void 0,void 0,(function*(){const e=yield this.storageService.getValue(l.StorageKey.RootKeyParams,u.StorageValueModes.Nonwrapped);if(e)return this.memoizedRootKeyParams=(0,o.CreateAnyKeyParams)(e),this.memoizedRootKeyParams}))}wrapAndPersistRootKey(e){return n(this,void 0,void 0,(function*(){const t=this.getSureRootKey(),r=Object.assign(Object.assign({},t.payload.ejected()),{content:(0,s.FillItemContentSpecialized)(t.persistableValueWhenWrapping())}),n=new s.DecryptedPayload(r),i=yield this.encryptPayload(n,e),o=new s.EncryptedPayload(Object.assign(Object.assign(Object.assign({},n.ejected()),i),{errorDecrypting:!1,waitingForKey:!1}));this.storageService.setValue(l.StorageKey.WrappedRootKey,o.ejected(),u.StorageValueModes.Nonwrapped)}))}unwrapRootKey(e){return n(this,void 0,void 0,(function*(){if(this.keyMode===o.KeyMode.WrapperOnly)return void this.setRootKeyInstance(e);if(this.keyMode!==o.KeyMode.RootKeyPlusWrapper)throw\"Invalid key mode condition for unwrapping.\";const t=this.getWrappedRootKey(),r=new s.EncryptedPayload(t),n=yield this.decryptPayload(r,e);if((0,o.isErrorDecryptingParameters)(n))throw Error(\"Unable to decrypt root key with provided wrapping key.\");{const e=new s.DecryptedPayload(Object.assign(Object.assign({},r.ejected()),n));this.setRootKeyInstance(new o.SNRootKey(e)),yield this.handleKeyStatusChange()}}))}setNewRootKeyWrapper(e){return n(this,void 0,void 0,(function*(){if(this.keyMode===o.KeyMode.RootKeyNone)this.keyMode=o.KeyMode.WrapperOnly;else{if(this.keyMode!==o.KeyMode.RootKeyOnly)throw Error(\"Attempting to set wrapper on already wrapped key.\");this.keyMode=o.KeyMode.RootKeyPlusWrapper}if(yield this.deviceInterface.clearNamespacedKeychainValue(this.identifier),this.keyMode!==o.KeyMode.WrapperOnly&&this.keyMode!==o.KeyMode.RootKeyPlusWrapper)throw Error(\"Invalid keyMode on setNewRootKeyWrapper\");this.keyMode===o.KeyMode.WrapperOnly?(this.setRootKeyInstance(e),yield this.reencryptItemsKeys()):yield this.wrapAndPersistRootKey(e),this.storageService.setValue(l.StorageKey.RootKeyWrapperKeyParams,e.keyParams.getPortableValue(),u.StorageValueModes.Nonwrapped),yield this.handleKeyStatusChange()}))}removeRootKeyWrapper(){return n(this,void 0,void 0,(function*(){if(this.keyMode!==o.KeyMode.WrapperOnly&&this.keyMode!==o.KeyMode.RootKeyPlusWrapper)throw Error(\"Attempting to remove root key wrapper on unwrapped key.\");this.keyMode===o.KeyMode.WrapperOnly?(this.keyMode=o.KeyMode.RootKeyNone,this.setRootKeyInstance(void 0)):this.keyMode===o.KeyMode.RootKeyPlusWrapper&&(this.keyMode=o.KeyMode.RootKeyOnly),yield this.storageService.removeValue(l.StorageKey.WrappedRootKey,u.StorageValueModes.Nonwrapped),yield this.storageService.removeValue(l.StorageKey.RootKeyWrapperKeyParams,u.StorageValueModes.Nonwrapped),this.keyMode===o.KeyMode.RootKeyOnly&&(yield this.saveRootKeyToKeychain()),yield this.handleKeyStatusChange()}))}setRootKey(e,t){return n(this,void 0,void 0,(function*(){if(!e.keyParams)throw Error(\"keyParams must be supplied if setting root key.\");if(this.getRootKey()===e)throw Error(\"Attempting to set root key as same current value.\");if(this.keyMode===o.KeyMode.WrapperOnly)this.keyMode=o.KeyMode.RootKeyPlusWrapper;else if(this.keyMode===o.KeyMode.RootKeyNone)this.keyMode=o.KeyMode.RootKeyOnly;else if(this.keyMode!==o.KeyMode.RootKeyOnly&&this.keyMode!==o.KeyMode.RootKeyPlusWrapper)throw Error(\"Unhandled key mode for setNewRootKey \".concat(this.keyMode));if(this.setRootKeyInstance(e),this.storageService.setValue(l.StorageKey.RootKeyParams,e.keyParams.getPortableValue(),u.StorageValueModes.Nonwrapped),this.keyMode===o.KeyMode.RootKeyOnly)yield this.saveRootKeyToKeychain();else if(this.keyMode===o.KeyMode.RootKeyPlusWrapper){if(!t)throw Error(\"wrappingKey must be supplied\");yield this.wrapAndPersistRootKey(t)}yield this.handleKeyStatusChange()}))}deleteWorkspaceSpecificKeyStateFromDevice(){return n(this,void 0,void 0,(function*(){yield this.deviceInterface.clearNamespacedKeychainValue(this.identifier),yield this.storageService.removeValue(l.StorageKey.WrappedRootKey,u.StorageValueModes.Nonwrapped),yield this.storageService.removeValue(l.StorageKey.RootKeyWrapperKeyParams,u.StorageValueModes.Nonwrapped),yield this.storageService.removeValue(l.StorageKey.RootKeyParams,u.StorageValueModes.Nonwrapped),this.keyMode=o.KeyMode.RootKeyNone,this.setRootKeyInstance(void 0),yield this.handleKeyStatusChange()}))}getWrappedRootKey(){return this.storageService.getValue(l.StorageKey.WrappedRootKey,u.StorageValueModes.Nonwrapped)}setRootKeyInstance(e){this.rootKey=e}getRootKey(){return this.rootKey}getSureRootKey(){return this.rootKey}getItemsKeys(){return this.itemManager.getDisplayableItemsKeys()}encrypPayloadWithKeyLookup(e){return n(this,void 0,void 0,(function*(){const t=this.getRootKey();if(null==t)throw Error(\"Attempting root key encryption with no root key\");return this.encryptPayload(e,t)}))}encryptPayloadsWithKeyLookup(e){return n(this,void 0,void 0,(function*(){return Promise.all(e.map((e=>this.encrypPayloadWithKeyLookup(e))))}))}encryptPayload(e,t){return n(this,void 0,void 0,(function*(){return(0,o.encryptPayload)(e,t,this.operatorManager)}))}encryptPayloads(e,t){return n(this,void 0,void 0,(function*(){return Promise.all(e.map((e=>this.encryptPayload(e,t))))}))}decryptPayloadWithKeyLookup(e){return n(this,void 0,void 0,(function*(){const t=this.getRootKey();return null==t?{uuid:e.uuid,errorDecrypting:!0,waitingForKey:!0}:this.decryptPayload(e,t)}))}decryptPayload(e,t){return n(this,void 0,void 0,(function*(){return(0,o.decryptPayload)(e,t,this.operatorManager)}))}decryptPayloadsWithKeyLookup(e){return n(this,void 0,void 0,(function*(){return Promise.all(e.map((e=>this.decryptPayloadWithKeyLookup(e))))}))}decryptPayloads(e,t){return n(this,void 0,void 0,(function*(){return Promise.all(e.map((e=>this.decryptPayload(e,t))))}))}reencryptItemsKeys(){return n(this,void 0,void 0,(function*(){const e=this.getItemsKeys();e.length>0&&(yield this.itemManager.setItemsDirty(e))}))}createNewDefaultItemsKey(){return n(this,void 0,void 0,(function*(){const e=this.getSureRootKey(),t=e?e.keyVersion:i.ProtocolVersionLatest;let r;if((0,i.compareVersions)(t,i.ProtocolVersionLastNonrootItemsKey)<=0){const n=new s.DecryptedPayload(Object.assign({uuid:a.UuidGenerator.GenerateUuid(),content_type:i.ContentType.ItemsKey,content:(0,s.FillItemContentSpecialized)({itemsKey:e.masterKey,dataAuthenticationKey:e.dataAuthenticationKey,version:t})},(0,s.PayloadTimestampDefaults)()));r=(0,s.CreateDecryptedItemFromPayload)(n)}else r=this.operatorManager.operatorForVersion(t).createItemsKey();const n=this.getItemsKeys().filter((e=>e.isDefault));for(const e of n)yield this.itemManager.changeItemsKey(e,(e=>{e.isDefault=!1}));const o=yield this.itemManager.insertItem(r);return yield this.itemManager.changeItemsKey(o,(e=>{e.isDefault=!0})),o}))}createNewItemsKeyWithRollback(){return n(this,void 0,void 0,(function*(){const e=(0,o.findDefaultItemsKey)(this.getItemsKeys()),t=yield this.createNewDefaultItemsKey();return()=>n(this,void 0,void 0,(function*(){yield this.itemManager.setItemToBeDeleted(t),e&&(yield this.itemManager.changeItem(e,(e=>{e.isDefault=!0})))}))}))}getDiagnostics(){return n(this,void 0,void 0,(function*(){return{rootKeyEncryption:{hasRootKey:null!=this.rootKey,keyMode:o.KeyMode[this.keyMode],hasRootKeyWrapper:yield this.hasRootKeyWrapper(),hasAccount:this.hasAccount(),hasRootKeyEncryptionSource:this.hasRootKeyEncryptionSource(),hasPasscode:this.hasPasscode(),getEncryptionSourceVersion:this.hasRootKeyEncryptionSource()&&(yield this.getEncryptionSourceVersion()),getUserVersion:this.getUserVersion()}}}))}}t.RootKeyEncryptionService=d},52335:(e,t)=>{var r;Object.defineProperty(t,\"__esModule\",{value:!0}),t.ApplicationEvent=void 0,(r=t.ApplicationEvent||(t.ApplicationEvent={}))[r.SignedIn=2]=\"SignedIn\",r[r.SignedOut=3]=\"SignedOut\",r[r.CompletedFullSync=5]=\"CompletedFullSync\",r[r.FailedSync=6]=\"FailedSync\",r[r.HighLatencySync=7]=\"HighLatencySync\",r[r.EnteredOutOfSync=8]=\"EnteredOutOfSync\",r[r.ExitedOutOfSync=9]=\"ExitedOutOfSync\",r[r.Started=10]=\"Started\",r[r.Launched=11]=\"Launched\",r[r.LocalDataLoaded=12]=\"LocalDataLoaded\",r[r.KeyStatusChanged=13]=\"KeyStatusChanged\",r[r.MajorDataChange=14]=\"MajorDataChange\",r[r.CompletedRestart=15]=\"CompletedRestart\",r[r.LocalDataIncrementalLoad=16]=\"LocalDataIncrementalLoad\",r[r.SyncStatusChanged=17]=\"SyncStatusChanged\",r[r.WillSync=18]=\"WillSync\",r[r.InvalidSyncSession=19]=\"InvalidSyncSession\",r[r.LocalDatabaseReadError=20]=\"LocalDatabaseReadError\",r[r.LocalDatabaseWriteError=21]=\"LocalDatabaseWriteError\",r[r.CompletedIncrementalSync=22]=\"CompletedIncrementalSync\",r[r.MigrationsLoaded=23]=\"MigrationsLoaded\",r[r.StorageReady=24]=\"StorageReady\",r[r.PreferencesChanged=25]=\"PreferencesChanged\",r[r.UnprotectedSessionBegan=26]=\"UnprotectedSessionBegan\",r[r.UserRolesChanged=27]=\"UserRolesChanged\",r[r.FeaturesUpdated=28]=\"FeaturesUpdated\",r[r.UnprotectedSessionExpired=29]=\"UnprotectedSessionExpired\",r[r.CompletedInitialSync=30]=\"CompletedInitialSync\",r[r.BiometricsSoftLockEngaged=31]=\"BiometricsSoftLockEngaged\",r[r.BiometricsSoftLockDisengaged=32]=\"BiometricsSoftLockDisengaged\"},31714:(e,t)=>{Object.defineProperty(t,\"__esModule\",{value:!0})},88050:(e,t)=>{Object.defineProperty(t,\"__esModule\",{value:!0})},63706:(e,t)=>{var r;Object.defineProperty(t,\"__esModule\",{value:!0}),t.SyncEvent=void 0,(r=t.SyncEvent||(t.SyncEvent={})).SyncCompletedWithAllItemsUploaded=\"SyncCompletedWithAllItemsUploaded\",r.SyncCompletedWithAllItemsUploadedAndDownloaded=\"SyncCompletedWithAllItemsUploadedAndDownloaded\",r.SingleRoundTripSyncCompleted=\"SingleRoundTripSyncCompleted\",r.SyncWillBegin=\"sync:will-begin\",r.DownloadFirstSyncCompleted=\"sync:download-first-completed\",r.SyncTakingTooLong=\"sync:taking-too-long\",r.SyncError=\"sync:error\",r.InvalidSession=\"sync:invalid-session\",r.MajorDataChange=\"major-data-change\",r.LocalDataIncrementalLoad=\"local-data-incremental-load\",r.LocalDataLoaded=\"local-data-loaded\",r.EnterOutOfSync=\"enter-out-of-sync\",r.ExitOutOfSync=\"exit-out-of-sync\",r.StatusChanged=\"status-changed\",r.DatabaseWriteError=\"database-write-error\",r.DatabaseReadError=\"database-read-error\",r.SyncRequestsIntegrityCheck=\"sync:requests-integrity-check\"},354:(e,t)=>{Object.defineProperty(t,\"__esModule\",{value:!0})},43934:(e,t)=>{var r;Object.defineProperty(t,\"__esModule\",{value:!0}),t.WebAppEvent=void 0,(r=t.WebAppEvent||(t.WebAppEvent={})).NewUpdateAvailable=\"NewUpdateAvailable\",r.EditorFocused=\"EditorFocused\",r.BeganBackupDownload=\"BeganBackupDownload\",r.EndedBackupDownload=\"EndedBackupDownload\",r.PanelResized=\"PanelResized\",r.WindowDidFocus=\"WindowDidFocus\",r.WindowDidBlur=\"WindowDidBlur\",r.MobileKeyboardDidChangeFrame=\"MobileKeyboardDidChangeFrame\",r.MobileKeyboardWillChangeFrame=\"MobileKeyboardWillChangeFrame\"},24382:(e,t)=>{var r;Object.defineProperty(t,\"__esModule\",{value:!0}),t.FeatureStatus=void 0,(r=t.FeatureStatus||(t.FeatureStatus={})).NoUserSubscription=\"NoUserSubscription\",r.NotInCurrentPlan=\"NotInCurrentPlan\",r.InCurrentPlanButExpired=\"InCurrentPlanButExpired\",r.Entitled=\"Entitled\"},21400:(e,t)=>{Object.defineProperty(t,\"__esModule\",{value:!0})},35067:(e,t)=>{var r;Object.defineProperty(t,\"__esModule\",{value:!0}),t.FeaturesEvent=void 0,(r=t.FeaturesEvent||(t.FeaturesEvent={})).UserRolesChanged=\"UserRolesChanged\",r.FeaturesUpdated=\"FeaturesUpdated\"},54613:(e,t)=>{Object.defineProperty(t,\"__esModule\",{value:!0})},42176:(e,t)=>{Object.defineProperty(t,\"__esModule\",{value:!0})},39143:function(e,t,r){var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function s(e){try{c(n.next(e))}catch(e){o(e)}}function a(e){try{c(n.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,\"__esModule\",{value:!0}),t.FileService=void 0;const i=r(84945),o=r(10256),s=r(16418),a=r(64657),c=r(75082),l=r(14581),u=r(10687),d=r(12121);class p extends u.AbstractService{constructor(e,t,r,n,i,o,s,a){super(a),this.api=e,this.itemManager=t,this.syncService=r,this.encryptor=n,this.challengor=i,this.alertService=o,this.crypto=s,this.internalEventBus=a,this.encryptedCache=new l.FileMemoryCache(1e8)}deinit(){super.deinit(),this.encryptedCache.clear(),this.encryptedCache=void 0,this.api=void 0,this.itemManager=void 0,this.encryptor=void 0,this.syncService=void 0,this.alertService=void 0,this.challengor=void 0,this.crypto=void 0}minimumChunkSize(){return 5e6}beginNewFileUpload(e){return n(this,void 0,void 0,(function*(){const t=a.UuidGenerator.GenerateUuid(),r=yield this.api.createFileValetToken(t,\"write\",e);if(r instanceof i.ClientDisplayableError)return r;const n={key:this.crypto.generateRandomKey(s.FileProtocolV1Constants.KeySize),remoteIdentifier:t,decryptedSize:e},o=new l.EncryptAndUploadFileOperation(n,r,this.crypto,this.api);return(yield this.api.startUploadSession(r)).uploadId?o:new i.ClientDisplayableError(\"Could not start upload session\")}))}pushBytesForUpload(e,t,r,o){return n(this,void 0,void 0,(function*(){if(!(yield e.pushBytes(t,r,o)))return new i.ClientDisplayableError(\"Failed to push file bytes to server\")}))}finishUpload(e,t){return n(this,void 0,void 0,(function*(){if(!(yield this.api.closeUploadSession(e.getApiToken())))return new i.ClientDisplayableError(\"Could not close upload session\");const r=e.getResult(),n={decryptedSize:r.finalDecryptedSize,encryptedChunkSizes:e.encryptedChunkSizes,encryptionHeader:r.encryptionHeader,key:r.key,mimeType:t.mimeType,name:t.name,remoteIdentifier:r.remoteIdentifier},a=yield this.itemManager.createItem(o.ContentType.File,(0,s.FillItemContentSpecialized)(n),!0);return yield this.syncService.sync(),a}))}decryptCachedEntry(e,t){return n(this,void 0,void 0,(function*(){const r=new l.FileDecryptor(e,this.crypto);let i=new Uint8Array;const o=new l.OrderedByteChunker(e.encryptedChunkSizes,(e=>n(this,void 0,void 0,(function*(){const t=r.decryptBytes(e);t&&(i=new Uint8Array([...i,...t.decryptedBytes]))}))));return yield o.addBytes(t.encryptedBytes),{decryptedBytes:i}}))}downloadFile(e,t){return n(this,void 0,void 0,(function*(){const r=this.encryptedCache.get(e.uuid);if(r){const n=yield this.decryptCachedEntry(e,r);return void(yield t(n.decryptedBytes,void 0))}const i=e.encryptedSize<this.encryptedCache.maxSize;let o=new Uint8Array;const s=new l.DownloadAndDecryptFileOperation(e,this.crypto,this.api),a=yield s.run((e=>{let{decrypted:r,encrypted:s,progress:a}=e;return n(this,void 0,void 0,(function*(){return i&&(o=new Uint8Array([...o,...s.encryptedBytes])),t(r.decryptedBytes,a)}))}));return i&&this.encryptedCache.add(e.uuid,{encryptedBytes:o}),a.error}))}deleteFile(e){return n(this,void 0,void 0,(function*(){this.encryptedCache.remove(e.uuid);const t=yield this.api.createFileValetToken(e.remoteIdentifier,\"delete\");if(t instanceof i.ClientDisplayableError)return t;const r=yield this.api.deleteFile(t);if(r.error)return i.ClientDisplayableError.FromError(r.error);yield this.itemManager.setItemToBeDeleted(e),yield this.syncService.sync()}))}isFileNameFileBackupRelated(e){return e===l.FileBackupsConstantsV1.MetadataFileName?\"metadata\":e===l.FileBackupsConstantsV1.BinaryFileName&&\"binary\"}decryptBackupMetadataFile(e){return n(this,void 0,void 0,(function*(){const t=new s.EncryptedPayload(Object.assign(Object.assign({},e.itemsKey),{waitingForKey:!1,errorDecrypting:!1})),r=yield(0,d.DecryptItemsKeyWithUserFallback)(t,this.encryptor,this.challengor);if(\"failed\"===r||\"aborted\"===r)return;const n=new s.EncryptedPayload(Object.assign(Object.assign({},e.file),{waitingForKey:!1,errorDecrypting:!1})),i=new c.SNItemsKey(r),o=yield this.encryptor.decryptSplitSingle({usesItemsKey:{items:[n],key:i}});return(0,s.isEncryptedPayload)(o)?void 0:new s.FileItem(o)}))}selectFile(e){return n(this,void 0,void 0,(function*(){return yield e.selectFile()}))}readBackupFileAndSaveDecrypted(e,t,r){return n(this,void 0,void 0,(function*(){const i=yield r.selectDirectory();if(\"aborted\"===i||\"failed\"===i)return i;const o=yield r.createFile(i,t.name);if(\"aborted\"===o||\"failed\"===o)return o;const s=yield(0,l.readAndDecryptBackupFile)(e,t,r,this.crypto,(e=>n(this,void 0,void 0,(function*(){yield r.saveBytes(o,e)}))));return yield r.closeFileWriteStream(o),s}))}readBackupFileBytesDecrypted(e,t,r){return n(this,void 0,void 0,(function*(){let i=new Uint8Array;return yield(0,l.readAndDecryptBackupFile)(e,t,r,this.crypto,(e=>n(this,void 0,void 0,(function*(){i=new Uint8Array([...i,...e])})))),i}))}}t.FileService=p},81052:(e,t)=>{Object.defineProperty(t,\"__esModule\",{value:!0})},40829:(e,t)=>{Object.defineProperty(t,\"__esModule\",{value:!0}),t.IntegrityEvent=void 0,(t.IntegrityEvent||(t.IntegrityEvent={})).IntegrityCheckCompleted=\"IntegrityCheckCompleted\"},2901:(e,t)=>{Object.defineProperty(t,\"__esModule\",{value:!0})},40330:function(e,t,r){var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function s(e){try{c(n.next(e))}catch(e){o(e)}}function a(e){try{c(n.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,\"__esModule\",{value:!0}),t.IntegrityService=void 0;const i=r(40829),o=r(10687),s=r(63706);class a extends o.AbstractService{constructor(e,t,r,n){super(n),this.integrityApi=e,this.itemApi=t,this.payloadManager=r,this.internalEventBus=n}handleEvent(e){return n(this,void 0,void 0,(function*(){if(e.type!==s.SyncEvent.SyncRequestsIntegrityCheck)return;const t=yield this.integrityApi.checkIntegrity(this.payloadManager.integrityPayloads);if(void 0!==t.error)return void this.log(\"Could not obtain integrity check: \".concat(t.error));const r=[];for(const e of t.data.mismatches)r.push(this.itemApi.getSingleItem(e.uuid));const n=yield Promise.all(r),o=[];for(const e of n)void 0!==e.data&&!e.error&&\"item\"in e.data?o.push(e.data.item):this.log(\"Could not obtain item for integrity adjustments: \".concat(e.error));yield this.notifyEventSync(i.IntegrityEvent.IntegrityCheckCompleted,{rawPayloads:o,source:e.payload.source})}))}}t.IntegrityService=a},15689:function(e,t,r){var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function s(e){try{c(n.next(e))}catch(e){o(e)}}function a(e){try{c(n.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,\"__esModule\",{value:!0}),t.InternalEventBus=void 0;const i=r(61325);t.InternalEventBus=class{constructor(){this.eventHandlers=new Map}deinit(){this.eventHandlers=void 0}addEventHandler(e,t){let r=this.eventHandlers.get(t);void 0===r&&(r=[]),r.push(e),this.eventHandlers.set(t,r)}publish(e){const t=this.eventHandlers.get(e.type);if(void 0!==t)for(const r of t)r.handleEvent(e)}publishSync(e,t){return n(this,void 0,void 0,(function*(){const r=this.eventHandlers.get(e.type);if(void 0!==r){if(t===i.InternalEventPublishStrategy.SEQUENCE)for(const t of r)yield t.handleEvent(e);if(t===i.InternalEventPublishStrategy.ASYNC){const t=[];for(const n of r)t.push(n.handleEvent(e));yield Promise.all(t)}}}))}}},87143:(e,t)=>{Object.defineProperty(t,\"__esModule\",{value:!0})},14027:(e,t)=>{Object.defineProperty(t,\"__esModule\",{value:!0})},39239:(e,t)=>{Object.defineProperty(t,\"__esModule\",{value:!0})},61325:(e,t)=>{var r;Object.defineProperty(t,\"__esModule\",{value:!0}),t.InternalEventPublishStrategy=void 0,(r=t.InternalEventPublishStrategy||(t.InternalEventPublishStrategy={})).ASYNC=\"ASYNC\",r.SEQUENCE=\"SEQUENCE\"},13211:(e,t)=>{Object.defineProperty(t,\"__esModule\",{value:!0})},37830:(e,t,r)=>{Object.defineProperty(t,\"__esModule\",{value:!0}),t.ItemCounter=void 0;const n=r(10256);t.ItemCounter=class{countNotesAndTags(e){const t={notes:0,archived:0,deleted:0,tags:0};for(const r of e)r.trashed?t.deleted++:r.archived?t.archived++:r.content_type!==n.ContentType.Note?r.content_type!==n.ContentType.Tag||t.tags++:t.notes++;return t}}},94250:(e,t)=>{Object.defineProperty(t,\"__esModule\",{value:!0})},99463:(e,t)=>{Object.defineProperty(t,\"__esModule\",{value:!0})},23479:(e,t)=>{var r;Object.defineProperty(t,\"__esModule\",{value:!0}),t.ItemRelationshipDirection=void 0,(r=t.ItemRelationshipDirection||(t.ItemRelationshipDirection={}))[r.AReferencesB=0]=\"AReferencesB\",r[r.BReferencesA=1]=\"BReferencesA\",r[r.NoRelationship=2]=\"NoRelationship\"},83990:(e,t)=>{Object.defineProperty(t,\"__esModule\",{value:!0})},81098:(e,t)=>{Object.defineProperty(t,\"__esModule\",{value:!0})},69991:(e,t)=>{Object.defineProperty(t,\"__esModule\",{value:!0})},83387:(e,t)=>{Object.defineProperty(t,\"__esModule\",{value:!0})},76473:(e,t)=>{Object.defineProperty(t,\"__esModule\",{value:!0}),t.PreferencesServiceEvent=void 0,(t.PreferencesServiceEvent||(t.PreferencesServiceEvent={})).PreferencesChanged=\"PreferencesChanged\"},10147:(e,t)=>{var r;Object.defineProperty(t,\"__esModule\",{value:!0}),t.MobileUnlockTiming=void 0,(r=t.MobileUnlockTiming||(t.MobileUnlockTiming={})).Immediately=\"immediately\",r.OnQuit=\"on-quit\"},26353:(e,t)=>{Object.defineProperty(t,\"__esModule\",{value:!0})},71835:(e,t)=>{Object.defineProperty(t,\"__esModule\",{value:!0})},10687:function(e,t,r){var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function s(e){try{c(n.next(e))}catch(e){o(e)}}function a(e){try{c(n.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,\"__esModule\",{value:!0}),t.AbstractService=void 0;const i=r(64657),o=r(61325);t.AbstractService=class{constructor(e){this.internalEventBus=e,this.eventObservers=[],this.loggingEnabled=!1,this.criticalPromises=[]}addEventObserver(e){this.eventObservers.push(e);const t=this.eventObservers;return()=>{(0,i.removeFromArray)(t,e)}}notifyEvent(e,t){var r;return n(this,void 0,void 0,(function*(){for(const r of this.eventObservers)yield r(e,t);null===(r=this.internalEventBus)||void 0===r||r.publish({type:e,payload:t})}))}notifyEventSync(e,t){var r;return n(this,void 0,void 0,(function*(){for(const r of this.eventObservers)yield r(e,t);yield null===(r=this.internalEventBus)||void 0===r?void 0:r.publishSync({type:e,payload:t},o.InternalEventPublishStrategy.SEQUENCE)}))}getDiagnostics(){return Promise.resolve(void 0)}blockDeinit(){return n(this,void 0,void 0,(function*(){yield Promise.all(this.criticalPromises)}))}deinit(){this.eventObservers.length=0,this.internalEventBus=void 0,this.criticalPromises=void 0}executeCriticalFunction(e){return n(this,void 0,void 0,(function*(){const t=e();return this.criticalPromises.push(t),t}))}handleApplicationStage(e){return n(this,void 0,void 0,(function*(){}))}getServiceName(){return this.constructor.name}log(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];this.loggingEnabled&&(0,i.log)(this.getServiceName(),...arguments)}}},19032:(e,t)=>{Object.defineProperty(t,\"__esModule\",{value:!0})},15328:(e,t)=>{Object.defineProperty(t,\"__esModule\",{value:!0})},4194:(e,t)=>{Object.defineProperty(t,\"__esModule\",{value:!0})},60106:(e,t,r)=>{Object.defineProperty(t,\"__esModule\",{value:!0}),t.StatusService=void 0;const n=r(64657),i=r(10687),o=r(24825);class s extends i.AbstractService{constructor(){super(...arguments),this._message=\"\",this.dynamicMessages=[]}get message(){return this._message}setMessage(e){this.directSetMessage=e,this.recomputeMessage()}addMessage(e){return this.dynamicMessages.push(e),this.recomputeMessage(),e}removeMessage(e){(0,n.removeFromArray)(this.dynamicMessages,e),this.recomputeMessage()}recomputeMessage(){const e=[...this.dynamicMessages];this.directSetMessage&&e.unshift(this.directSetMessage),this._message=this.messageFromArray(e),this.notifyEvent(o.StatusServiceEvent.MessageChanged,this._message)}messageFromArray(e){let t=\"\";return e.forEach(((r,n)=>{const i=n===e.length-1;t+=r,i||(t+=\", \")})),t}}t.StatusService=s},24825:(e,t)=>{Object.defineProperty(t,\"__esModule\",{value:!0}),t.StatusServiceEvent=void 0,(t.StatusServiceEvent||(t.StatusServiceEvent={})).MessageChanged=\"MessageChanged\"},14753:(e,t)=>{Object.defineProperty(t,\"__esModule\",{value:!0}),t.InMemoryStore=void 0,t.InMemoryStore=class{constructor(){this.values=new Map}setValue(e,t){this.values.set(e,t)}getValue(e){return this.values.get(e)}removeValue(e){this.values.delete(e)}}},13066:(e,t)=>{Object.defineProperty(t,\"__esModule\",{value:!0})},96640:(e,t)=>{var r,n;Object.defineProperty(t,\"__esModule\",{value:!0}),t.LegacyKeys1_0_0=t.namespacedKey=t.NonwrappedStorageKey=t.StorageKey=t.RawStorageKey=void 0,(n=t.RawStorageKey||(t.RawStorageKey={})).StorageObject=\"storage\",n.DescriptorRecord=\"descriptors\",n.SnjsVersion=\"snjs_version\",(r=t.StorageKey||(t.StorageKey={})).RootKeyParams=\"ROOT_KEY_PARAMS\",r.WrappedRootKey=\"WRAPPED_ROOT_KEY\",r.RootKeyWrapperKeyParams=\"ROOT_KEY_WRAPPER_KEY_PARAMS\",r.Session=\"session\",r.User=\"user\",r.ServerHost=\"server\",r.LegacyUuid=\"uuid\",r.LastSyncToken=\"syncToken\",r.PaginationToken=\"cursorToken\",r.BiometricsState=\"biometrics_state\",r.MobilePasscodeTiming=\"passcode_timing\",r.MobileBiometricsTiming=\"biometrics_timing\",r.MobilePasscodeKeyboardType=\"passcodeKeyboardType\",r.MobilePreferences=\"preferences\",r.MobileScreenshotPrivacyEnabled=\"screenshotPrivacy_enabled\",r.ProtectionExpirey=\"SessionExpiresAtKey\",r.ProtectionSessionLength=\"SessionLengthKey\",r.KeyRecoveryUndecryptableItems=\"key_recovery_undecryptable\",r.StorageEncryptionPolicy=\"storage_policy\",r.WebSocketUrl=\"webSocket_url\",r.UserRoles=\"user_roles\",r.UserFeatures=\"user_features\",r.ExperimentalFeatures=\"experimental_features\",r.DeinitMode=\"deinit_mode\",r.CodeVerifier=\"code_verifier\",r.LaunchPriorityUuids=\"launch_priority_uuids\",(t.NonwrappedStorageKey||(t.NonwrappedStorageKey={})).MobileFirstRun=\"first_run\",t.namespacedKey=function(e,t){return\"\".concat(e,\"-\").concat(t)},t.LegacyKeys1_0_0={WebPasscodeParamsKey:\"offlineParams\",MobilePasscodeParamsKey:\"pc_params\",AllAccountKeyParamsKey:\"auth_params\",WebEncryptedStorageKey:\"encryptedStorage\",MobileWrappedRootKeyKey:\"encrypted_account_keys\",MobileBiometricsPrefs:\"biometrics_prefs\",AllMigrations:\"migrations\",MobileThemesCache:\"ThemePreferencesKey\",MobileLightTheme:\"lightTheme\",MobileDarkTheme:\"darkTheme\",MobileLastExportDate:\"LastExportDateKey\",MobileDoNotWarnUnsupportedEditors:\"DoNotShowAgainUnsupportedEditorsKey\",MobileOptionsState:\"options\",MobilePasscodeKeyboardType:\"passcodeKeyboardType\"}},89057:(e,t)=>{Object.defineProperty(t,\"__esModule\",{value:!0})},19288:(e,t)=>{var r,n,i,o;Object.defineProperty(t,\"__esModule\",{value:!0}),t.ValueModesKeys=t.StorageValueModes=t.StorageEncryptionPolicy=t.StoragePersistencePolicies=void 0,(o=t.StoragePersistencePolicies||(t.StoragePersistencePolicies={}))[o.Default=1]=\"Default\",o[o.Ephemeral=2]=\"Ephemeral\",(i=t.StorageEncryptionPolicy||(t.StorageEncryptionPolicy={}))[i.Default=1]=\"Default\",i[i.Disabled=2]=\"Disabled\",(n=t.StorageValueModes||(t.StorageValueModes={}))[n.Default=1]=\"Default\",n[n.Nonwrapped=2]=\"Nonwrapped\",(r=t.ValueModesKeys||(t.ValueModesKeys={})).Wrapped=\"wrapped\",r.Unwrapped=\"unwrapped\",r.Nonwrapped=\"nonwrapped\"},45272:(e,t)=>{Object.defineProperty(t,\"__esModule\",{value:!0}),t.InfoStrings=void 0,t.InfoStrings={AccountDeleted:\"Your account has been successfully deleted.\",UnsupportedBackupFileVersion:\"This backup file was created using a newer version of the application and cannot be imported here. Please update your application and try again.\",BackupFileMoreRecentThanAccount:\"This backup file was created using a newer encryption version than your account's. Please run the available encryption upgrade and try again.\",SavingWhileDocumentHidden:\"Attempting to save an item while the application is hidden. To protect data integrity, please refresh the application window and try again.\",InvalidNote:\"The note you are attempting to save can not be found or has been deleted. Changes you make will not be synced. Please copy this note's text and start a new note.\"}},58325:(e,t)=>{Object.defineProperty(t,\"__esModule\",{value:!0}),t.KeychainRecoveryStrings=t.ErrorAlertStrings=t.ChallengeStrings=t.SessionStrings=t.ChallengeModalTitle=t.ProtocolUpgradeStrings=t.SignInStrings=t.RegisterStrings=t.CredentialsChangeStrings=t.StrictSignInFailed=t.InsufficientPasswordMessage=t.UNKNOWN_ERROR=t.DO_NOT_CLOSE_APPLICATION=t.REMOVING_PASSCODE=t.CHANGING_PASSCODE=t.SETTING_PASSCODE=t.UPGRADING_ENCRYPTION=t.OUTDATED_PROTOCOL_ALERT_IGNORE=t.INVALID_PASSWORD=t.INVALID_PASSWORD_COST=t.UNSUPPORTED_KEY_DERIVATION=t.EXPIRED_PROTOCOL_VERSION=t.UNSUPPORTED_PROTOCOL_VERSION=t.INVALID_EXTENSION_URL=t.API_MESSAGE_FAILED_OFFLINE_ACTIVATION=t.API_MESSAGE_FAILED_DOWNLOADING_EXTENSION=t.API_MESSAGE_UNTRUSTED_EXTENSIONS_WARNING=t.API_MESSAGE_FAILED_OFFLINE_FEATURES=t.API_MESSAGE_FAILED_DELETE_REVISION=t.API_MESSAGE_FAILED_ACCESS_PURCHASE=t.API_MESSAGE_FAILED_SUBSCRIPTION_INFO=t.API_MESSAGE_FAILED_CREATE_FILE_TOKEN=t.API_MESSAGE_FAILED_LISTED_REGISTRATION=t.API_MESSAGE_FAILED_UPDATE_SETTINGS=t.API_MESSAGE_FAILED_GET_SETTINGS=t.API_MESSAGE_INVALID_SESSION=t.API_MESSAGE_RATE_LIMITED=t.API_MESSAGE_TOKEN_REFRESH_IN_PROGRESS=t.API_MESSAGE_GENERIC_TOKEN_REFRESH_FAIL=t.API_MESSAGE_FALLBACK_LOGIN_FAIL=t.API_MESSAGE_CHANGE_CREDENTIALS_IN_PROGRESS=t.API_MESSAGE_LOGIN_IN_PROGRESS=t.API_MESSAGE_REGISTRATION_IN_PROGRESS=t.API_MESSAGE_GENERIC_SINGLE_ITEM_SYNC_FAIL=t.API_MESSAGE_GENERIC_INTEGRITY_CHECK_FAIL=t.ServerErrorStrings=t.API_MESSAGE_GENERIC_SYNC_FAIL=t.API_MESSAGE_GENERIC_CHANGE_CREDENTIALS_FAIL=t.API_MESSAGE_GENERIC_REGISTRATION_FAIL=t.API_MESSAGE_GENERIC_INVALID_LOGIN=void 0,t.API_MESSAGE_GENERIC_INVALID_LOGIN=\"A server error occurred while trying to sign in. Please try again.\",t.API_MESSAGE_GENERIC_REGISTRATION_FAIL=\"A server error occurred while trying to register. Please try again.\",t.API_MESSAGE_GENERIC_CHANGE_CREDENTIALS_FAIL=\"Something went wrong while changing your credentials. Your credentials were not changed. Please try again.\",t.API_MESSAGE_GENERIC_SYNC_FAIL=\"Could not connect to server.\",t.ServerErrorStrings={DeleteAccountError:\"Your account was unable to be deleted due to an error. Please try your request again.\"},t.API_MESSAGE_GENERIC_INTEGRITY_CHECK_FAIL=\"Could not check your data integrity with the server.\",t.API_MESSAGE_GENERIC_SINGLE_ITEM_SYNC_FAIL=\"Could not retrieve item.\",t.API_MESSAGE_REGISTRATION_IN_PROGRESS=\"An existing registration request is already in progress.\",t.API_MESSAGE_LOGIN_IN_PROGRESS=\"An existing sign in request is already in progress.\",t.API_MESSAGE_CHANGE_CREDENTIALS_IN_PROGRESS=\"An existing change credentials request is already in progress.\",t.API_MESSAGE_FALLBACK_LOGIN_FAIL=\"Invalid email or password.\",t.API_MESSAGE_GENERIC_TOKEN_REFRESH_FAIL=\"A server error occurred while trying to refresh your session. Please try again.\",t.API_MESSAGE_TOKEN_REFRESH_IN_PROGRESS=\"Your account session is being renewed with the server. Please try your request again.\",t.API_MESSAGE_RATE_LIMITED=\"Too many successive server requests. Please wait a few minutes and try again.\",t.API_MESSAGE_INVALID_SESSION=\"Please sign in to an account in order to continue with your request.\",t.API_MESSAGE_FAILED_GET_SETTINGS=\"Failed to get settings.\",t.API_MESSAGE_FAILED_UPDATE_SETTINGS=\"Failed to update settings.\",t.API_MESSAGE_FAILED_LISTED_REGISTRATION=\"Unable to register for Listed. Please try again later.\",t.API_MESSAGE_FAILED_CREATE_FILE_TOKEN=\"Failed to create file token.\",t.API_MESSAGE_FAILED_SUBSCRIPTION_INFO=\"Failed to get subscription's information.\",t.API_MESSAGE_FAILED_ACCESS_PURCHASE=\"Failed to access purchase flow.\",t.API_MESSAGE_FAILED_DELETE_REVISION=\"Failed to delete revision.\",t.API_MESSAGE_FAILED_OFFLINE_FEATURES=\"Failed to get offline features.\",t.API_MESSAGE_UNTRUSTED_EXTENSIONS_WARNING=\"The extension you are attempting to install comes from an\\n  untrusted source. Untrusted extensions may lower the security of your data. Do you want to continue?\",t.API_MESSAGE_FAILED_DOWNLOADING_EXTENSION=\"Error downloading package details. Please check the\\n  extension link and try again.\",t.API_MESSAGE_FAILED_OFFLINE_ACTIVATION=\"An unknown issue occurred during offline activation. Please try again.\",t.INVALID_EXTENSION_URL=\"Invalid extension URL.\",t.UNSUPPORTED_PROTOCOL_VERSION=\"This version of the application does not support your newer account type. Please upgrade to the latest version of Standard Notes to sign in.\",t.EXPIRED_PROTOCOL_VERSION=\"The protocol version associated with your account is outdated and no longer supported by this application. Please visit standardnotes.com/help/security for more information.\",t.UNSUPPORTED_KEY_DERIVATION=\"Your account was created on a platform with higher security capabilities than this browser supports. If we attempted to generate your login keys here, it would take hours. Please use a browser with more up to date security capabilities, like Google Chrome or Firefox, to log in.\",t.INVALID_PASSWORD_COST=\"Unable to sign in due to insecure password parameters. Please visit standardnotes.com/help/security for more information.\",t.INVALID_PASSWORD=\"Invalid password.\",t.OUTDATED_PROTOCOL_ALERT_IGNORE=\"Sign In\",t.UPGRADING_ENCRYPTION=\"Upgrading your account's encryption version\",t.SETTING_PASSCODE=\"Setting passcode\",t.CHANGING_PASSCODE=\"Changing passcode\",t.REMOVING_PASSCODE=\"Removing passcode\",t.DO_NOT_CLOSE_APPLICATION=\"Do not close the application until this process completes.\",t.UNKNOWN_ERROR=\"Unknown error.\",t.InsufficientPasswordMessage=function(e){return\"Your password must be at least \".concat(e,\" characters in length. For your security, please choose a longer password or, ideally, a passphrase, and try again.\")},t.StrictSignInFailed=function(e,t){return\"Strict Sign In has refused the server's sign-in parameters. The latest account version is \".concat(t,\", but the server is reporting a version of \").concat(e,\" for your account. If you'd like to proceed with sign in anyway, please disable Strict Sign In and try again.\")},t.CredentialsChangeStrings={PasscodeRequired:\"Your passcode is required to process your credentials change.\",Failed:\"Unable to change your credentials due to a sync error. Please try again.\"},t.RegisterStrings={PasscodeRequired:\"Your passcode is required in order to register for an account.\"},t.SignInStrings={PasscodeRequired:\"Your passcode is required in order to sign in to your account.\",IncorrectMfa:\"Incorrect two-factor authentication code. Please try again.\",SignInCanceledMissingMfa:\"Your sign in request has been canceled.\"},t.ProtocolUpgradeStrings={SuccessAccount:\"Your encryption version has been successfully upgraded. You may be asked to enter your credentials again on other devices you're signed into.\",SuccessPasscodeOnly:\"Your encryption version has been successfully upgraded.\",Fail:\"Unable to upgrade encryption version. Please try again.\",UpgradingPasscode:\"Upgrading local encryption...\"},t.ChallengeModalTitle={Generic:\"Authentication Required\",Migration:\"Storage Update\"},t.SessionStrings={EnterEmailAndPassword:\"Please enter your account email and password.\",RecoverSession:e=>e?\"Your credentials are needed for \".concat(e,\" to refresh your session with the server.\"):\"Your credentials are needed to refresh your session with the server.\",SessionRestored:\"Your session has been successfully restored.\",EnterMfa:\"Please enter your two-factor authentication code.\",MfaInputPlaceholder:\"Two-factor authentication code\",EmailInputPlaceholder:\"Email\",PasswordInputPlaceholder:\"Password\",KeychainRecoveryErrorTitle:\"Invalid Credentials\",KeychainRecoveryError:\"The email or password you entered is incorrect.\\n\\nPlease note that this sign-in request is made against the default server. If you are using a custom server, you must uninstall the app then reinstall, and sign back into your account.\",RevokeTitle:\"Revoke this session?\",RevokeConfirmButton:\"Revoke\",RevokeCancelButton:\"Cancel\",RevokeText:\"The associated app will be signed out and all data removed from the device when it is next launched. You can sign back in on that device at any time.\",CurrentSessionRevoked:\"Your session has been revoked and all local data has been removed from this device.\"},t.ChallengeStrings={UnlockApplication:\"Authentication is required to unlock the application\",NoteAccess:\"Authentication is required to view this note\",FileAccess:\"Authentication is required to access this file\",ImportFile:\"Authentication is required to import a backup file\",AddPasscode:\"Authentication is required to add a passcode\",RemovePasscode:\"Authentication is required to remove your passcode\",ChangePasscode:\"Authentication is required to change your passcode\",ChangeAutolockInterval:\"Authentication is required to change autolock timer duration\",RevokeSession:\"Authentication is required to revoke a session\",EnterAccountPassword:\"Enter your account password\",EnterLocalPasscode:\"Enter your application passcode\",EnterPasscodeForMigration:\"Your application passcode is required to perform an upgrade of your local data storage structure.\",EnterPasscodeForRootResave:\"Enter your application passcode to continue\",EnterCredentialsForProtocolUpgrade:\"Enter your credentials to perform encryption upgrade\",EnterCredentialsForDecryptedBackupDownload:\"Enter your credentials to download a decrypted backup\",AccountPasswordPlaceholder:\"Account Password\",LocalPasscodePlaceholder:\"Application Passcode\",DecryptEncryptedFile:\"Enter the account password associated with the import file\",ExportBackup:\"Authentication is required to export a backup\",DisableBiometrics:\"Authentication is required to disable biometrics\",UnprotectNote:\"Authentication is required to unprotect a note\",UnprotectFile:\"Authentication is required to unprotect a file\",SearchProtectedNotesText:\"Authentication is required to search protected contents\",SelectProtectedNote:\"Authentication is required to select a protected note\",DisableMfa:\"Authentication is required to disable two-factor authentication\",DeleteAccount:\"Authentication is required to delete your account\",ListedAuthorization:\"Authentication is required to approve this note for Listed\"},t.ErrorAlertStrings={MissingSessionTitle:\"Missing Session\",MissingSessionBody:\"We were unable to load your server session. This represents an inconsistency with your application state. Please take an opportunity to backup your data, then sign out and sign back in to resolve this issue.\",StorageDecryptErrorTitle:\"Storage Error\",StorageDecryptErrorBody:\"We were unable to decrypt your local storage. Please restart the app and try again. If you're unable to resolve this issue, and you have an account, you may try uninstalling the app then reinstalling, then signing back into your account. Otherwise, please contact help@standardnotes.org for support.\"},t.KeychainRecoveryStrings={Title:\"Restore Keychain\",Text:\"We've detected that your keychain has been wiped. This can happen when restoring your device from a backup. Please enter your account password to restore your account keys.\"}},85835:(e,t)=>{Object.defineProperty(t,\"__esModule\",{value:!0})},76727:function(e,t,r){var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function s(e){try{c(n.next(e))}catch(e){o(e)}}function a(e){try{c(n.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,\"__esModule\",{value:!0}),t.SubscriptionManager=void 0;const i=r(10687);class o extends i.AbstractService{constructor(e,t){super(t),this.subscriptionApiService=e,this.internalEventBus=t}acceptInvitation(e){return n(this,void 0,void 0,(function*(){try{const t=yield this.subscriptionApiService.acceptInvite(e);return t.data.error?{success:!1,message:t.data.error.message}:t.data}catch(e){return{success:!1,message:\"Could not accept invitation.\"}}}))}listSubscriptionInvitations(){var e;return n(this,void 0,void 0,(function*(){try{const t=yield this.subscriptionApiService.listInvites();return null!==(e=t.data.invitations)&&void 0!==e?e:[]}catch(e){return[]}}))}inviteToSubscription(e){return n(this,void 0,void 0,(function*(){try{return!0===(yield this.subscriptionApiService.invite(e)).data.success}catch(e){return!1}}))}cancelInvitation(e){return n(this,void 0,void 0,(function*(){try{return!0===(yield this.subscriptionApiService.cancelInvite(e)).data.success}catch(e){return!1}}))}}t.SubscriptionManager=o},34089:(e,t)=>{var r;Object.defineProperty(t,\"__esModule\",{value:!0}),t.SyncMode=void 0,(r=t.SyncMode||(t.SyncMode={}))[r.Default=1]=\"Default\",r[r.DownloadFirst=2]=\"DownloadFirst\"},35255:(e,t)=>{Object.defineProperty(t,\"__esModule\",{value:!0})},31883:(e,t)=>{var r;Object.defineProperty(t,\"__esModule\",{value:!0}),t.SyncQueueStrategy=void 0,(r=t.SyncQueueStrategy||(t.SyncQueueStrategy={}))[r.ResolveOnNext=1]=\"ResolveOnNext\",r[r.ForceSpawnNew=2]=\"ForceSpawnNew\"},21027:(e,t)=>{Object.defineProperty(t,\"__esModule\",{value:!0})},8762:(e,t)=>{var r;Object.defineProperty(t,\"__esModule\",{value:!0}),t.SyncSource=void 0,(r=t.SyncSource||(t.SyncSource={}))[r.External=1]=\"External\",r[r.SpawnQueue=2]=\"SpawnQueue\",r[r.ResolveQueue=3]=\"ResolveQueue\",r[r.MoreDirtyItems=4]=\"MoreDirtyItems\",r[r.AfterDownloadFirst=5]=\"AfterDownloadFirst\",r[r.IntegrityCheck=6]=\"IntegrityCheck\",r[r.ResolveOutOfSync=7]=\"ResolveOutOfSync\"},4394:(e,t)=>{Object.defineProperty(t,\"__esModule\",{value:!0})},15922:function(e,t,r){var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function s(e){try{c(n.next(e))}catch(e){o(e)}}function a(e){try{c(n.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,\"__esModule\",{value:!0}),t.UserService=t.AccountEvent=void 0;const i=r(10256),o=r(64657),s=r(58325),a=r(45272),c=r(30306),l=r(10687),u=r(63840),d=r(19288);var p;!function(e){e.SignedInOrRegistered=\"SignedInOrRegistered\",e.SignedOut=\"SignedOut\"}(p=t.AccountEvent||(t.AccountEvent={}));class h extends l.AbstractService{constructor(e,t,r,n,i,o,s,a,c,l){super(l),this.sessionManager=e,this.syncService=t,this.storageService=r,this.itemManager=n,this.protocolService=i,this.alertService=o,this.challengeService=s,this.protectionService=a,this.userApiService=c,this.internalEventBus=l,this.signingIn=!1,this.registering=!1,this.MINIMUM_PASSCODE_LENGTH=1,this.MINIMUM_PASSWORD_LENGTH=8}deinit(){super.deinit(),this.sessionManager=void 0,this.syncService=void 0,this.storageService=void 0,this.itemManager=void 0,this.protocolService=void 0,this.alertService=void 0,this.challengeService=void 0,this.protectionService=void 0,this.userApiService=void 0}register(e,t){let r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];return n(this,void 0,void 0,(function*(){if(this.protocolService.hasAccount())throw Error(\"Tried to register when an account already exists.\");if(this.registering)throw Error(\"Already registering.\");this.registering=!0;try{this.lockSyncing();const n=yield this.sessionManager.register(e,t,r);return this.syncService.resetSyncState(),yield this.storageService.setPersistencePolicy(r?d.StoragePersistencePolicies.Ephemeral:d.StoragePersistencePolicies.Default),i?yield this.syncService.markAllItemsAsNeedingSyncAndPersist():(yield this.itemManager.removeAllItemsFromMemory(),yield this.clearDatabase()),yield this.notifyEvent(p.SignedInOrRegistered),this.unlockSyncing(),this.registering=!1,yield this.syncService.downloadFirstSync(300),this.protocolService.decryptErroredPayloads(),n}catch(e){throw this.unlockSyncing(),this.registering=!1,e}}))}signIn(e,t){let r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],s=arguments.length>5&&void 0!==arguments[5]&&arguments[5];return n(this,void 0,void 0,(function*(){if(this.protocolService.hasAccount())throw Error(\"Tried to sign in when an account already exists.\");if(this.signingIn)throw Error(\"Already signing in.\");this.signingIn=!0;try{this.lockSyncing();const n=yield this.sessionManager.signIn(e,t,r,i);if(n.response.error)this.unlockSyncing();else{this.syncService.resetSyncState(),yield this.storageService.setPersistencePolicy(i?d.StoragePersistencePolicies.Ephemeral:d.StoragePersistencePolicies.Default),o?yield this.syncService.markAllItemsAsNeedingSyncAndPersist():(this.itemManager.removeAllItemsFromMemory(),yield this.clearDatabase()),yield this.notifyEvent(p.SignedInOrRegistered),this.unlockSyncing();const e=this.syncService.downloadFirstSync(1e3,{checkIntegrity:!0,awaitAll:s}).then((()=>{s||this.protocolService.decryptErroredPayloads()}));s&&(yield e,yield this.protocolService.decryptErroredPayloads())}return n.response}finally{this.signingIn=!1}}))}deleteAccount(){return n(this,void 0,void 0,(function*(){if(!(yield this.protectionService.authorizeAction(c.ChallengeReason.DeleteAccount,{fallBackToAccountPassword:!0,requireAccountPassword:!0,forcePrompt:!1})))return{error:!0,message:s.INVALID_PASSWORD};const e=this.sessionManager.getSureUser().uuid,t=yield this.userApiService.deleteAccount(e);return t.data.error?{error:!0,message:t.data.error.message}:(yield this.signOut(!0),this.alertService.alert(a.InfoStrings.AccountDeleted),{error:!1})}))}submitUserRequest(e){return n(this,void 0,void 0,(function*(){const t=this.sessionManager.getSureUser().uuid;try{const r=yield this.userApiService.submitUserRequest({userUuid:t,requestType:e});return!r.data.error&&r.data.success}catch(e){return!1}}))}correctiveSignIn(e){return n(this,void 0,void 0,(function*(){this.lockSyncing();const t=yield this.sessionManager.bypassChecksAndSignInWithRootKey(e.keyParams.identifier,e,!1);return t.error||(yield this.notifyEvent(p.SignedInOrRegistered),this.unlockSyncing(),this.syncService.downloadFirstSync(1e3,{checkIntegrity:!0}),this.protocolService.decryptErroredPayloads()),this.unlockSyncing(),t}))}changeCredentials(e){return n(this,void 0,void 0,(function*(){const t=yield this.performCredentialsChange(e);return t.error&&this.alertService.alert(t.error.message),t}))}signOut(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:u.DeinitSource.SignOut;return n(this,void 0,void 0,(function*(){const r=()=>n(this,void 0,void 0,(function*(){yield this.sessionManager.signOut(),yield this.protocolService.deleteWorkspaceSpecificKeyStateFromDevice(),yield this.storageService.clearAllData(),yield this.notifyEvent(p.SignedOut,{source:t})}));if(e)return void(yield r());const i=this.itemManager.getDirtyItems();if(i.length>0){const e=1===i.length;(yield this.alertService.confirm(\"There \".concat(e?\"is\":\"are\",\" \").concat(i.length,\" \").concat(e?\"item\":\"items\",\" with unsynced changes. If you sign out, these changes will be lost forever. Are you sure you want to sign out?\")))&&(yield r())}else yield r()}))}performProtocolUpgrade(){return n(this,void 0,void 0,(function*(){const e=this.protocolService.hasPasscode(),t=this.protocolService.hasAccount(),r=[];e&&r.push(new c.ChallengePrompt(c.ChallengeValidation.LocalPasscode,void 0,s.ChallengeStrings.LocalPasscodePlaceholder)),t&&r.push(new c.ChallengePrompt(c.ChallengeValidation.AccountPassword,void 0,s.ChallengeStrings.AccountPasswordPlaceholder));const n=new c.Challenge(r,c.ChallengeReason.ProtocolUpgrade,!0),o=yield this.challengeService.promptForChallengeResponse(n);if(!o)return{canceled:!0};const a=yield this.alertService.blockingDialog(s.DO_NOT_CLOSE_APPLICATION,s.UPGRADING_ENCRYPTION);try{let r;if(e&&(r=o.getValueForType(c.ChallengeValidation.LocalPasscode).value),t){const e=o.getValueForType(c.ChallengeValidation.AccountPassword).value,t=yield this.changeCredentials({currentPassword:e,newPassword:e,passcode:r,origination:i.KeyParamsOrigination.ProtocolUpgrade,validateNewPasswordStrength:!1});if(null==t?void 0:t.error)return{error:t.error}}return e&&(yield this.removePasscodeWithoutWarning(),yield this.setPasscodeWithoutWarning(r,i.KeyParamsOrigination.ProtocolUpgrade)),{success:!0}}catch(e){return{error:e}}finally{a()}}))}addPasscode(e){return n(this,void 0,void 0,(function*(){if(e.length<this.MINIMUM_PASSCODE_LENGTH)return!1;if(!(yield this.protectionService.authorizeAddingPasscode()))return!1;const t=yield this.alertService.blockingDialog(s.DO_NOT_CLOSE_APPLICATION,s.SETTING_PASSCODE);try{return yield this.setPasscodeWithoutWarning(e,i.KeyParamsOrigination.PasscodeCreate),!0}finally{t()}}))}removePasscode(){return n(this,void 0,void 0,(function*(){if(!(yield this.protectionService.authorizeRemovingPasscode()))return!1;const e=yield this.alertService.blockingDialog(s.DO_NOT_CLOSE_APPLICATION,s.REMOVING_PASSCODE);try{return yield this.removePasscodeWithoutWarning(),!0}finally{e()}}))}changePasscode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i.KeyParamsOrigination.PasscodeChange;return n(this,void 0,void 0,(function*(){if(e.length<this.MINIMUM_PASSCODE_LENGTH)return!1;if(!(yield this.protectionService.authorizeChangingPasscode()))return!1;const r=yield this.alertService.blockingDialog(s.DO_NOT_CLOSE_APPLICATION,t===i.KeyParamsOrigination.ProtocolUpgrade?s.ProtocolUpgradeStrings.UpgradingPasscode:s.CHANGING_PASSCODE);try{return yield this.removePasscodeWithoutWarning(),yield this.setPasscodeWithoutWarning(e,t),!0}finally{r()}}))}setPasscodeWithoutWarning(e,t){return n(this,void 0,void 0,(function*(){const r=o.UuidGenerator.GenerateUuid(),n=yield this.protocolService.createRootKey(r,e,t);yield this.protocolService.setNewRootKeyWrapper(n),yield this.rewriteItemsKeys(),yield this.syncService.sync()}))}removePasscodeWithoutWarning(){return n(this,void 0,void 0,(function*(){yield this.protocolService.removePasscode(),yield this.rewriteItemsKeys()}))}rewriteItemsKeys(){return n(this,void 0,void 0,(function*(){const e=this.itemManager.getDisplayableItemsKeys().map((e=>e.payloadRepresentation()));yield this.storageService.forceDeletePayloads(e),yield this.syncService.persistPayloads(e)}))}lockSyncing(){this.syncService.lockSyncing()}unlockSyncing(){this.syncService.unlockSyncing()}clearDatabase(){return this.storageService.clearAllPayloads()}performCredentialsChange(e){return n(this,void 0,void 0,(function*(){const{wrappingKey:t,canceled:r}=yield this.challengeService.getWrappingKeyIfApplicable(e.passcode);if(r)return{error:Error(s.CredentialsChangeStrings.PasscodeRequired)};if(void 0!==e.newPassword&&e.validateNewPasswordStrength&&e.newPassword.length<this.MINIMUM_PASSWORD_LENGTH)return{error:Error(s.InsufficientPasswordMessage(this.MINIMUM_PASSWORD_LENGTH))};if(!(yield this.protocolService.validateAccountPassword(e.currentPassword)).valid)return{error:Error(s.INVALID_PASSWORD)};const n=this.sessionManager.getUser().email,i=yield this.recomputeRootKeysForCredentialChange({currentPassword:e.currentPassword,currentEmail:n,origination:e.origination,newEmail:e.newEmail,newPassword:e.newPassword});this.lockSyncing();const o=yield this.sessionManager.changeCredentials({currentServerPassword:i.currentRootKey.serverPassword,newRootKey:i.newRootKey,wrappingKey:t,newEmail:e.newEmail});if(this.unlockSyncing(),!o.response.error){const e=yield this.protocolService.createNewItemsKeyWithRollback();if(yield this.protocolService.reencryptItemsKeys(),yield this.syncService.sync({awaitAll:!0}),this.protocolService.getSureDefaultItemsKey().neverSynced)return yield this.sessionManager.changeCredentials({currentServerPassword:i.newRootKey.serverPassword,newRootKey:i.currentRootKey,wrappingKey:t}),yield this.protocolService.reencryptItemsKeys(),yield e(),yield this.syncService.sync({awaitAll:!0}),{error:Error(s.CredentialsChangeStrings.Failed)}}return o.response}))}recomputeRootKeysForCredentialChange(e){var t,r;return n(this,void 0,void 0,(function*(){return{currentRootKey:yield this.protocolService.computeRootKey(e.currentPassword,yield this.protocolService.getRootKeyParams()),newRootKey:yield this.protocolService.createRootKey(null!==(t=e.newEmail)&&void 0!==t?t:e.currentEmail,null!==(r=e.newPassword)&&void 0!==r?r:e.currentPassword,e.origination)}}))}}t.UserService=h},84333:(e,t)=>{Object.defineProperty(t,\"__esModule\",{value:!0})},18165:function(e,t,r){var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function s(e){try{c(n.next(e))}catch(e){o(e)}}function a(e){try{c(n.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,\"__esModule\",{value:!0}),t.WorkspaceManager=void 0;const i=r(10687);class o extends i.AbstractService{constructor(e,t){super(t),this.workspaceApiService=e,this.internalEventBus=t}initiateKeyshare(e){return n(this,void 0,void 0,(function*(){try{const t=yield this.workspaceApiService.initiateKeyshare(e);return void 0!==t.data.error?{success:!1}:t.data}catch(e){return{success:!1}}}))}listWorkspaceUsers(e){return n(this,void 0,void 0,(function*(){try{const t=yield this.workspaceApiService.listWorkspaceUsers(e);return void 0!==t.data.error?{users:[]}:t.data}catch(e){return{users:[]}}}))}listWorkspaces(){return n(this,void 0,void 0,(function*(){try{const e=yield this.workspaceApiService.listWorkspaces();return void 0!==e.data.error?{ownedWorkspaces:[],joinedWorkspaces:[]}:e.data}catch(e){return{ownedWorkspaces:[],joinedWorkspaces:[]}}}))}acceptInvite(e){return n(this,void 0,void 0,(function*(){try{const t=yield this.workspaceApiService.acceptInvite(e);return void 0!==t.data.error?{success:!1}:t.data}catch(e){return{success:!1}}}))}inviteToWorkspace(e){return n(this,void 0,void 0,(function*(){try{const t=yield this.workspaceApiService.inviteToWorkspace(e);return void 0!==t.data.error?null:t.data}catch(e){return null}}))}createWorkspace(e){return n(this,void 0,void 0,(function*(){try{const t=yield this.workspaceApiService.createWorkspace(e);return void 0!==t.data.error?null:t.data}catch(e){return null}}))}}t.WorkspaceManager=o},29966:function(e,t,r){var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!(\"get\"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)\"default\"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,\"__esModule\",{value:!0}),i(r(17656),t),i(r(69207),t),i(r(58864),t),i(r(54943),t),i(r(80091),t),i(r(87941),t),i(r(63840),t),i(r(27555),t),i(r(4394),t),i(r(85788),t),i(r(30935),t),i(r(30306),t),i(r(47205),t),i(r(38796),t),i(r(96040),t),i(r(18908),t),i(r(48531),t),i(r(61235),t),i(r(42101),t),i(r(92820),t),i(r(84136),t),i(r(6113),t),i(r(76081),t),i(r(47084),t),i(r(52567),t),i(r(13744),t),i(r(12121),t),i(r(41479),t),i(r(49184),t),i(r(52335),t),i(r(31714),t),i(r(88050),t),i(r(63706),t),i(r(354),t),i(r(43934),t),i(r(24382),t),i(r(21400),t),i(r(35067),t),i(r(54613),t),i(r(42176),t),i(r(39143),t),i(r(81052),t),i(r(40829),t),i(r(2901),t),i(r(40330),t),i(r(15689),t),i(r(87143),t),i(r(14027),t),i(r(39239),t),i(r(61325),t),i(r(13211),t),i(r(37830),t),i(r(94250),t),i(r(99463),t),i(r(83990),t),i(r(81098),t),i(r(23479),t),i(r(69991),t),i(r(83387),t),i(r(76473),t),i(r(10147),t),i(r(26353),t),i(r(71835),t),i(r(10687),t),i(r(19032),t),i(r(15328),t),i(r(4194),t),i(r(60106),t),i(r(24825),t),i(r(96640),t),i(r(14753),t),i(r(13066),t),i(r(89057),t),i(r(19288),t),i(r(45272),t),i(r(58325),t),i(r(85835),t),i(r(76727),t),i(r(34089),t),i(r(35255),t),i(r(31883),t),i(r(21027),t),i(r(8762),t),i(r(4394),t),i(r(15922),t),i(r(84333),t),i(r(18165),t)},20819:function(e,t,r){var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!(\"get\"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)\"default\"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,\"__esModule\",{value:!0}),i(r(29966),t)},29686:(e,t)=>{Object.defineProperty(t,\"__esModule\",{value:!0})},91606:(e,t)=>{Object.defineProperty(t,\"__esModule\",{value:!0})},38331:(e,t)=>{Object.defineProperty(t,\"__esModule\",{value:!0})},7624:function(e,t,r){var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!(\"get\"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)\"default\"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,\"__esModule\",{value:!0}),i(r(29686),t),i(r(91606),t),i(r(38331),t)},23111:(e,t)=>{Object.defineProperty(t,\"__esModule\",{value:!0})},38644:function(e,t,r){var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!(\"get\"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)\"default\"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,\"__esModule\",{value:!0}),i(r(23111),t)},20876:(e,t)=>{Object.defineProperty(t,\"__esModule\",{value:!0})},67790:(e,t)=>{Object.defineProperty(t,\"__esModule\",{value:!0}),t.timingSafeEqual=void 0,t.timingSafeEqual=function(e,t){const r=String(e);let n=String(t);const i=r.length;let o=0;i!==n.length&&(n=r,o=1);for(let e=0;e<i;e++)o|=r.charCodeAt(e)^n.charCodeAt(e);return 0===o}},70097:function(e,t,r){var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!(\"get\"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)\"default\"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,\"__esModule\",{value:!0}),i(r(20876),t),i(r(67790),t)},20830:(e,t)=>{Object.defineProperty(t,\"__esModule\",{value:!0})},43438:function(e,t,r){var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!(\"get\"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)\"default\"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,\"__esModule\",{value:!0}),i(r(20830),t)},64025:(e,t)=>{Object.defineProperty(t,\"__esModule\",{value:!0})},57756:(e,t)=>{Object.defineProperty(t,\"__esModule\",{value:!0})},84948:(e,t)=>{Object.defineProperty(t,\"__esModule\",{value:!0})},7747:(e,t)=>{Object.defineProperty(t,\"__esModule\",{value:!0})},13795:(e,t)=>{var r;Object.defineProperty(t,\"__esModule\",{value:!0}),t.SodiumConstant=void 0,(r=t.SodiumConstant||(t.SodiumConstant={}))[r.CRYPTO_SECRETSTREAM_XCHACHA20POLY1305_STATEBYTES=52]=\"CRYPTO_SECRETSTREAM_XCHACHA20POLY1305_STATEBYTES\",r[r.CRYPTO_SECRETSTREAM_XCHACHA20POLY1305_ABYTES=17]=\"CRYPTO_SECRETSTREAM_XCHACHA20POLY1305_ABYTES\",r[r.CRYPTO_SECRETSTREAM_XCHACHA20POLY1305_HEADERBYTES=24]=\"CRYPTO_SECRETSTREAM_XCHACHA20POLY1305_HEADERBYTES\",r[r.CRYPTO_SECRETSTREAM_XCHACHA20POLY1305_KEYBYTES=32]=\"CRYPTO_SECRETSTREAM_XCHACHA20POLY1305_KEYBYTES\",r[r.CRYPTO_SECRETSTREAM_XCHACHA20POLY1305_TAG_PUSH=0]=\"CRYPTO_SECRETSTREAM_XCHACHA20POLY1305_TAG_PUSH\",r[r.CRYPTO_SECRETSTREAM_XCHACHA20POLY1305_TAG_PULL=1]=\"CRYPTO_SECRETSTREAM_XCHACHA20POLY1305_TAG_PULL\",r[r.CRYPTO_SECRETSTREAM_XCHACHA20POLY1305_TAG_REKEY=2]=\"CRYPTO_SECRETSTREAM_XCHACHA20POLY1305_TAG_REKEY\",r[r.CRYPTO_SECRETSTREAM_XCHACHA20POLY1305_TAG_FINAL=3]=\"CRYPTO_SECRETSTREAM_XCHACHA20POLY1305_TAG_FINAL\",r[r.CRYPTO_SECRETSTREAM_XCHACHA20POLY1305_MESSAGEBYTES_MAX=274877906816]=\"CRYPTO_SECRETSTREAM_XCHACHA20POLY1305_MESSAGEBYTES_MAX\"},74078:(e,t)=>{Object.defineProperty(t,\"__esModule\",{value:!0})},4044:(e,t)=>{Object.defineProperty(t,\"__esModule\",{value:!0})},25786:(e,t)=>{Object.defineProperty(t,\"__esModule\",{value:!0})},54373:(e,t)=>{Object.defineProperty(t,\"__esModule\",{value:!0})},47349:(e,t)=>{Object.defineProperty(t,\"__esModule\",{value:!0})},91921:(e,t)=>{Object.defineProperty(t,\"__esModule\",{value:!0})},86976:function(e,t,r){var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!(\"get\"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)\"default\"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,\"__esModule\",{value:!0}),i(r(64025),t),i(r(57756),t),i(r(84948),t),i(r(13795),t),i(r(74078),t),i(r(4044),t),i(r(25786),t),i(r(54373),t),i(r(47349),t),i(r(91921),t),i(r(7747),t)},86553:function(e,t,r){var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!(\"get\"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)\"default\"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,\"__esModule\",{value:!0}),i(r(7624),t),i(r(38644),t),i(r(70097),t),i(r(43438),t),i(r(86976),t)},49148:(e,t,r)=>{r.d(t,{Ak:()=>a,FB:()=>i,Im:()=>c,_e:()=>o,g:()=>s});var n=r(16418);function i(e){return{\"mac-web\":n.Platform.MacWeb,\"mac-desktop\":n.Platform.MacDesktop,\"linux-web\":n.Platform.LinuxWeb,\"linux-desktop\":n.Platform.LinuxDesktop,\"windows-web\":n.Platform.WindowsWeb,\"windows-desktop\":n.Platform.WindowsDesktop,ios:n.Platform.Ios,android:n.Platform.Android}[e]}function o(e){return{[n.Platform.MacWeb]:\"mac-web\",[n.Platform.MacDesktop]:\"mac-desktop\",[n.Platform.LinuxWeb]:\"linux-web\",[n.Platform.LinuxDesktop]:\"linux-desktop\",[n.Platform.WindowsWeb]:\"windows-web\",[n.Platform.WindowsDesktop]:\"windows-desktop\",[n.Platform.Ios]:\"ios\",[n.Platform.Android]:\"android\"}[e]}function s(e){return{[n.Environment.Web]:\"web\",[n.Environment.Desktop]:\"desktop\",[n.Environment.Mobile]:\"native-mobile-web\"}[e]}function a(e){return e===n.Environment.Web||e===n.Environment.Desktop}function c(e){return e===n.Environment.Mobile}},58364:(e,t,r)=>{r.d(t,{J5:()=>S,UC:()=>g,wM:()=>o.SyncEvent,ie:()=>l,g:()=>b.g,Im:()=>b.Im,Ak:()=>b.Ak,FB:()=>b.FB,_e:()=>b._e});var n=r(70297),i=r(10256),o=r(20819),s=r(16418),a=r(65432),c=r(64657);function l(e){return{[o.SyncEvent.SyncCompletedWithAllItemsUploaded]:o.ApplicationEvent.CompletedFullSync,[o.SyncEvent.SingleRoundTripSyncCompleted]:o.ApplicationEvent.CompletedIncrementalSync,[o.SyncEvent.SyncError]:o.ApplicationEvent.FailedSync,[o.SyncEvent.SyncTakingTooLong]:o.ApplicationEvent.HighLatencySync,[o.SyncEvent.EnterOutOfSync]:o.ApplicationEvent.EnteredOutOfSync,[o.SyncEvent.ExitOutOfSync]:o.ApplicationEvent.ExitedOutOfSync,[o.SyncEvent.LocalDataLoaded]:o.ApplicationEvent.LocalDataLoaded,[o.SyncEvent.MajorDataChange]:o.ApplicationEvent.MajorDataChange,[o.SyncEvent.LocalDataIncrementalLoad]:o.ApplicationEvent.LocalDataIncrementalLoad,[o.SyncEvent.StatusChanged]:o.ApplicationEvent.SyncStatusChanged,[o.SyncEvent.SyncWillBegin]:o.ApplicationEvent.WillSync,[o.SyncEvent.InvalidSession]:o.ApplicationEvent.InvalidSyncSession,[o.SyncEvent.DatabaseReadError]:o.ApplicationEvent.LocalDatabaseReadError,[o.SyncEvent.DatabaseWriteError]:o.ApplicationEvent.LocalDatabaseWriteError,[o.SyncEvent.DownloadFirstSyncCompleted]:o.ApplicationEvent.CompletedInitialSync}[e]}var u=r(75082),d=r(10715),p=r(44412);const h={loadBatchSize:700,supportsFileNavigation:!1};function y(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function v(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?y(Object(r),!0).forEach((function(t){f(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):y(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function f(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class g{constructor(e){f(this,\"onDeinit\",void 0),f(this,\"ephemeralIdentifier\",c.nonSecureRandomIdentifier()),f(this,\"migrationService\",void 0),f(this,\"deprecatedHttpService\",void 0),f(this,\"payloadManager\",void 0),f(this,\"protocolService\",void 0),f(this,\"diskStorageService\",void 0),f(this,\"inMemoryStore\",void 0),f(this,\"apiService\",void 0),f(this,\"sessionManager\",void 0),f(this,\"syncService\",void 0),f(this,\"challengeService\",void 0),f(this,\"singletonManager\",void 0),f(this,\"componentManagerService\",void 0),f(this,\"protectionService\",void 0),f(this,\"actionsManager\",void 0),f(this,\"historyManager\",void 0),f(this,\"itemManager\",void 0),f(this,\"keyRecoveryService\",void 0),f(this,\"preferencesService\",void 0),f(this,\"featuresService\",void 0),f(this,\"userService\",void 0),f(this,\"webSocketsService\",void 0),f(this,\"settingsService\",void 0),f(this,\"mfaService\",void 0),f(this,\"listedService\",void 0),f(this,\"fileService\",void 0),f(this,\"mutatorService\",void 0),f(this,\"integrityService\",void 0),f(this,\"statusService\",void 0),f(this,\"filesBackupService\",void 0),f(this,\"internalEventBus\",void 0),f(this,\"eventHandlers\",[]),f(this,\"services\",[]),f(this,\"streamRemovers\",[]),f(this,\"serviceObservers\",[]),f(this,\"managedSubscribers\",[]),f(this,\"autoSyncInterval\",void 0),f(this,\"createdNewDatabase\",!1),f(this,\"started\",!1),f(this,\"launched\",!1),f(this,\"dealloced\",!1),f(this,\"revokingSession\",!1),f(this,\"handledFullSyncStage\",!1),f(this,\"environment\",void 0),f(this,\"platform\",void 0),f(this,\"deviceInterface\",void 0),f(this,\"alertService\",void 0),f(this,\"identifier\",void 0),f(this,\"options\",void 0);const t=v(v({},h),e);if(!p.W.onLog)throw Error(\"SNLog.onLog must be set.\");if(!p.W.onError)throw Error(\"SNLog.onError must be set.\");const r=[\"deviceInterface\",\"environment\",\"platform\",\"crypto\",\"alertService\",\"identifier\",\"defaultHost\",\"appVersion\"];for(const e of r)if(!t[e])throw Error(\"\".concat(e,\" must be supplied when creating an application.\"));this.environment=e.environment,this.platform=e.platform,this.deviceInterface=e.deviceInterface,this.alertService=e.alertService,this.identifier=e.identifier,this.options=Object.freeze(t),this.constructInternalEventBus(),this.constructServices(),this.defineInternalEventHandlers()}get subscriptions(){return this.subscriptionManager}get workspaces(){return this.workspaceManager}get files(){return this.fileService}get features(){return this.featuresService}get items(){return this.itemManager}get protections(){return this.protectionService}get sync(){return this.syncService}get user(){return this.userService}get settings(){return this.settingsService}get mutator(){return this.mutatorService}get sessions(){return this.sessionManager}get status(){return this.statusService}get fileBackups(){return this.filesBackupService}get componentManager(){return this.componentManagerService}get listed(){return this.listedService}computePrivateUsername(e){return(0,u.ComputePrivateUsername)(this.options.crypto,e)}async prepareForLaunch(e){if(this.launched)throw new Error(\"Attempting to prelaunch already launched application\");await this.options.crypto.initialize(),this.setLaunchCallback(e);const t=await this.deviceInterface.openDatabase(this.identifier).catch((e=>{this.notifyEvent(o.ApplicationEvent.LocalDatabaseReadError,e)}));this.createdNewDatabase=(0,c.useBoolean)(null==t?void 0:t.isNewDatabase,!1),await this.migrationService.initialize(),await this.notifyEvent(o.ApplicationEvent.MigrationsLoaded),await this.handleStage(o.ApplicationStage.PreparingForLaunch_0),await this.diskStorageService.initializeFromDisk(),await this.notifyEvent(o.ApplicationEvent.StorageReady),await this.protocolService.initialize(),await this.handleStage(o.ApplicationStage.ReadyForLaunch_05),this.started=!0,await this.notifyEvent(o.ApplicationEvent.Started)}setLaunchCallback(e){this.challengeService.sendChallenge=e.receiveChallenge}async launch(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.launched)throw new Error(\"Attempting to launch already launched application\");this.launched=!1;const t=this.getLaunchChallenge();if(t){const e=await this.challengeService.promptForChallengeResponse(t);if(!e)throw Error(\"Launch challenge was cancelled.\");await this.handleLaunchChallengeResponse(e)}if(this.diskStorageService.isStorageWrapped())try{await this.diskStorageService.decryptStorage()}catch(e){this.alertService.alert(o.ErrorAlertStrings.StorageDecryptErrorBody,o.ErrorAlertStrings.StorageDecryptErrorTitle)}await this.handleStage(o.ApplicationStage.StorageDecrypted_09),this.apiService.loadHost(),this.webSocketsService.loadWebSocketUrl(),await this.sessionManager.initializeFromDisk(),this.settingsService.initializeFromDisk(),this.featuresService.initializeFromDisk(),this.launched=!0,await this.notifyEvent(o.ApplicationEvent.Launched),await this.handleStage(o.ApplicationStage.Launched_10);const r=await this.syncService.getDatabasePayloads();await this.handleStage(o.ApplicationStage.LoadingDatabase_11),this.createdNewDatabase&&await this.syncService.onNewDatabaseCreated();const n=this.syncService.loadDatabasePayloads(r).then((async()=>{if(this.dealloced)throw\"Application has been destroyed.\";await this.handleStage(o.ApplicationStage.LoadedDatabase_12),this.beginAutoSyncTimer(),await this.syncService.sync({mode:o.SyncMode.DownloadFirst,source:o.SyncSource.External})}));e&&await n}onStart(){}onLaunch(){}getLaunchChallenge(){return this.protectionService.createLaunchChallenge()}async handleLaunchChallengeResponse(e){if(e.challenge.hasPromptForValidationType(o.ChallengeValidation.LocalPasscode)){var t;let r=null===(t=e.artifacts)||void 0===t?void 0:t.wrappingKey;if(!r){const t=e.getValueForType(o.ChallengeValidation.LocalPasscode);r=await this.protocolService.computeWrappingKey(t.value)}await this.protocolService.unwrapRootKey(r)}}beginAutoSyncTimer(){this.autoSyncInterval=setInterval((()=>{this.syncService.log(\"Syncing from autosync\"),this.sync.sync()}),3e4)}async handleStage(e){for(const t of this.services)await t.handleApplicationStage(e)}addEventObserver(e,t){const r={callback:e,singleEvent:t};return this.eventHandlers.push(r),()=>{c.removeFromArray(this.eventHandlers,r)}}addSingleEventObserver(e,t){return this.addEventObserver((async r=>{r===e&&t(e)}),e)}async getDiagnostics(){let e={application:{snjsVersion:d.in,appVersion:this.options.appVersion,environment:this.options.environment,platform:this.options.platform}};for(const t of this.services){const r=await t.getDiagnostics();r&&(e=v(v({},e),r))}return e}async notifyEvent(e,t){e===o.ApplicationEvent.Started?this.onStart():e===o.ApplicationEvent.Launched&&this.onLaunch();for(const r of this.eventHandlers.slice())(r.singleEvent&&r.singleEvent===e||!r.singleEvent)&&await r.callback(e,t||{});this.migrationService.handleApplicationEvent(e)}isDatabaseLoaded(){return this.syncService.isDatabaseLoaded()}getSessions(){return this.sessionManager.getSessionsList()}async revokeSession(e){if(await this.protectionService.authorizeSessionRevoking())return this.sessionManager.revokeSession(e)}async revokeAllOtherSessions(){return this.sessionManager.revokeAllOtherSessions()}userCanManageSessions(){const e=this.getUserVersion();return!c.isNullOrUndefined(e)&&i.compareVersions(e,i.ProtocolVersion.V004)>=0}async getUserSubscription(){return this.sessionManager.getSubscription()}async getAvailableSubscriptions(){return this.sessionManager.getAvailableSubscriptions()}streamItems(e,t){const r=this.itemManager.addObserver(e,(e=>{let{changed:r,inserted:n,removed:i,source:o}=e;t({changed:r,inserted:n,removed:i,source:o})})),n=this.itemManager.getItems(e);return t({inserted:n,changed:[],removed:[],source:s.PayloadEmitSource.InitialObserverRegistrationPush}),this.streamRemovers.push(r),()=>{r(),c.removeFromArray(this.streamRemovers,r)}}async setHost(e){this.httpService.setHost(e),await this.apiService.setHost(e)}getHost(){return this.apiService.getHost()}async setCustomHost(e){await this.setHost(e),this.webSocketsService.setWebSocketUrl(void 0)}getUser(){if(!this.launched)throw Error(\"Attempting to access user before application unlocked\");return this.sessionManager.getUser()}getUserPasswordCreationDate(){return this.protocolService.getPasswordCreatedDate()}getProtocolEncryptionDisplayName(){return this.protocolService.getEncryptionDisplayName()}getUserVersion(){return this.protocolService.getUserVersion()}protocolUpgradeAvailable(){return this.protocolService.upgradeAvailable()}isEncryptionAvailable(){return this.hasAccount()||this.hasPasscode()}async upgradeProtocolVersion(){const e=await this.userService.performProtocolUpgrade();return e.success?this.hasAccount()?this.alertService.alert(o.ProtocolUpgradeStrings.SuccessAccount):this.alertService.alert(o.ProtocolUpgradeStrings.SuccessPasscodeOnly):e.error&&this.alertService.alert(o.ProtocolUpgradeStrings.Fail),e}noAccount(){return!this.hasAccount()}hasAccount(){return this.protocolService.hasAccount()}hasProtectionSources(){return this.protectionService.hasProtectionSources()}hasUnprotectedAccessSession(){return this.protectionService.hasUnprotectedAccessSession()}getProtectionSessionExpiryDate(){return this.protectionService.getSessionExpiryDate()}clearProtectionSession(){return this.protectionService.clearSession()}async authorizeProtectedActionForNotes(e,t){return await this.protectionService.authorizeProtectedActionForItems(e,t)}authorizeNoteAccess(e){return this.protectionService.authorizeItemAccess(e)}authorizeAutolockIntervalChange(){return this.protectionService.authorizeAutolockIntervalChange()}authorizeSearchingProtectedNotesText(){return this.protectionService.authorizeSearchingProtectedNotesText()}async createEncryptedBackupFileForAutomatedDesktopBackups(){return this.protocolService.createEncryptedBackupFile()}async createEncryptedBackupFile(){if(await this.protectionService.authorizeBackupCreation())return this.protocolService.createEncryptedBackupFile()}async createDecryptedBackupFile(){if(await this.protectionService.authorizeBackupCreation())return this.protocolService.createDecryptedBackupFile()}isEphemeralSession(){return this.diskStorageService.isEphemeralSession()}setValue(e,t,r){return this.diskStorageService.setValue(e,t,r)}getValue(e,t){return this.diskStorageService.getValue(e,t)}async removeValue(e,t){return this.diskStorageService.removeValue(e,t)}getPreference(e,t){return this.preferencesService.getValue(e,t)}async setPreference(e,t){return this.preferencesService.setValue(e,t)}async prepareForDeinit(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;const t=Promise.all(this.services.map((e=>e.blockDeinit())));0===e?await t:await Promise.race([t,c.sleep(e)])}promptForCustomChallenge(e){var t;return null===(t=this.challengeService)||void 0===t?void 0:t.promptForChallengeResponse(e)}addChallengeObserver(e,t){return this.challengeService.addChallengeObserver(e,t)}submitValuesForChallenge(e,t){return this.challengeService.submitValuesForChallenge(e,t)}cancelChallenge(e){this.challengeService.cancelChallenge(e)}setOnDeinit(e){this.onDeinit=e}deinit(e,t){var r;this.dealloced=!0,clearInterval(this.autoSyncInterval),this.autoSyncInterval=void 0;for(const e of this.serviceObservers)e();for(const e of this.managedSubscribers)e();for(const e of this.services)e.deinit();this.options.crypto.deinit(),this.options=void 0,this.createdNewDatabase=!1,this.services.length=0,this.serviceObservers.length=0,this.managedSubscribers.length=0,this.streamRemovers.length=0,this.clearInternalEventBus(),this.clearServices(),this.started=!1,null===(r=this.onDeinit)||void 0===r||r.call(this,this,e,t),this.onDeinit=void 0}async register(e,t){let r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];return this.userService.register(e,t,r,n)}async signIn(e,t){let r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],o=arguments.length>5&&void 0!==arguments[5]&&arguments[5];return this.userService.signIn(e,t,r,n,i,o)}async changeEmail(e,t,r){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:i.KeyParamsOrigination.EmailChange;return this.userService.changeCredentials({currentPassword:t,newEmail:e,passcode:r,origination:n,validateNewPasswordStrength:!1})}async changePassword(e,t,r){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:i.KeyParamsOrigination.PasswordChange,o=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];return this.userService.changeCredentials({currentPassword:e,newPassword:t,passcode:r,origination:n,validateNewPasswordStrength:o})}async handleRevokedSession(){if(this.revokingSession)return;this.revokingSession=!0;const e=this.alertService;await this.user.signOut(!0),e.alert(o.SessionStrings.CurrentSessionRevoked)}async validateAccountPassword(e){const{valid:t}=await this.protocolService.validateAccountPassword(e);return t}isStarted(){return this.started}isLaunched(){return this.launched}hasPasscode(){return this.protocolService.hasPasscode()}isLocked(){return this.started?this.challengeService.isPasscodeLocked():Promise.resolve(!0)}async lock(){return await this.prepareForDeinit(500),this.deinit(this.getDeinitMode(),o.DeinitSource.Lock)}softLockBiometrics(){const e=new o.Challenge([new o.ChallengePrompt(o.ChallengeValidation.Biometric)],o.ChallengeReason.ApplicationUnlock,!1);this.promptForCustomChallenge(e),this.notifyEvent(o.ApplicationEvent.BiometricsSoftLockEngaged),this.addChallengeObserver(e,{onComplete:()=>{this.notifyEvent(o.ApplicationEvent.BiometricsSoftLockDisengaged)}})}isNativeMobileWeb(){return this.environment===s.Environment.Mobile}getDeinitMode(){return\"hard\"===this.getValue(o.StorageKey.DeinitMode)?o.DeinitMode.Hard:o.DeinitMode.Soft}addPasscode(e){return this.userService.addPasscode(e)}async removePasscode(){return this.userService.removePasscode()}async changePasscode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i.KeyParamsOrigination.PasscodeChange;return this.userService.changePasscode(e,t)}getStorageEncryptionPolicy(){return this.diskStorageService.getStorageEncryptionPolicy()}setStorageEncryptionPolicy(e){return this.diskStorageService.setEncryptionPolicy(e),this.protocolService.repersistAllItems()}enableEphemeralPersistencePolicy(){return this.diskStorageService.setPersistencePolicy(o.StoragePersistencePolicies.Ephemeral)}hasPendingMigrations(){return this.migrationService.hasPendingMigrations()}generateUuid(){return c.UuidGenerator.GenerateUuid()}presentKeyRecoveryWizard(){return this.keyRecoveryService.presentKeyRecoveryWizard()}canAttemptDecryptionOfItem(e){return this.keyRecoveryService.canAttemptDecryptionOfItem(e)}changeDeviceInterface(e){this.deviceInterface=e;for(const t of this.services)\"deviceInterface\"in t&&(t.deviceInterface=e)}isMfaFeatureAvailable(){return this.mfaService.isMfaFeatureAvailable()}async isMfaActivated(){return this.mfaService.isMfaActivated()}async generateMfaSecret(){return this.mfaService.generateMfaSecret()}async getOtpToken(e){return this.mfaService.getOtpToken(e)}async enableMfa(e,t){return this.mfaService.enableMfa(e,t)}async disableMfa(){if(await this.protectionService.authorizeMfaDisable())return this.mfaService.disableMfa()}getNewSubscriptionToken(){return this.apiService.getNewSubscriptionToken()}isThirdPartyHostUsed(){return this.apiService.isThirdPartyHostUsed()}getCloudProviderIntegrationUrl(e,t){return this.settingsService.getCloudProviderIntegrationUrl(e,t)}constructServices(){this.createPayloadManager(),this.createItemManager(),this.createDiskStorageManager(),this.createInMemoryStorageManager(),this.createProtocolService(),this.diskStorageService.provideEncryptionProvider(this.protocolService),this.createChallengeService(),this.createHttpManager(),this.createApiService(),this.createHttpService(),this.createUserServer(),this.createUserRequestServer(),this.createUserApiService(),this.createSubscriptionServer(),this.createSubscriptionApiService(),this.createWebSocketServer(),this.createWebSocketApiService(),this.createSubscriptionManager(),this.createWorkspaceServer(),this.createWorkspaceApiService(),this.createWorkspaceManager(),this.createWebSocketsService(),this.createSessionManager(),this.createHistoryManager(),this.createSyncManager(),this.createProtectionService(),this.createUserService(),this.createKeyRecoveryService(),this.createSingletonManager(),this.createPreferencesService(),this.createSettingsService(),this.createFeaturesService(),this.createComponentManager(),this.createMigrationService(),this.createMfaService(),this.createFileService(),this.createIntegrityService(),this.createMutatorService(),this.createListedService(),this.createActionsManager(),this.createStatusService(),(0,o.isDesktopDevice)(this.deviceInterface)&&this.createFilesBackupService(this.deviceInterface)}clearServices(){this.migrationService=void 0,this.alertService=void 0,this.deprecatedHttpService=void 0,this.httpService=void 0,this.payloadManager=void 0,this.protocolService=void 0,this.diskStorageService=void 0,this.inMemoryStore=void 0,this.apiService=void 0,this.userApiService=void 0,this.userServer=void 0,this.userRequestServer=void 0,this.subscriptionApiService=void 0,this.subscriptionServer=void 0,this.subscriptionManager=void 0,this.workspaceApiService=void 0,this.workspaceServer=void 0,this.workspaceManager=void 0,this.webSocketApiService=void 0,this.webSocketServer=void 0,this.sessionManager=void 0,this.syncService=void 0,this.challengeService=void 0,this.singletonManager=void 0,this.componentManagerService=void 0,this.protectionService=void 0,this.actionsManager=void 0,this.historyManager=void 0,this.itemManager=void 0,this.keyRecoveryService=void 0,this.preferencesService=void 0,this.featuresService=void 0,this.userService=void 0,this.webSocketsService=void 0,this.settingsService=void 0,this.mfaService=void 0,this.listedService=void 0,this.fileService=void 0,this.integrityService=void 0,this.mutatorService=void 0,this.filesBackupService=void 0,this.statusService=void 0,this.services=[]}constructInternalEventBus(){this.internalEventBus=new o.InternalEventBus}defineInternalEventHandlers(){this.internalEventBus.addEventHandler(this.featuresService,o.ApiServiceEvent.MetaReceived),this.internalEventBus.addEventHandler(this.integrityService,o.SyncEvent.SyncRequestsIntegrityCheck),this.internalEventBus.addEventHandler(this.syncService,o.IntegrityEvent.IntegrityCheckCompleted)}clearInternalEventBus(){this.internalEventBus.deinit(),this.internalEventBus=void 0}createListedService(){this.listedService=new a.o8(this.apiService,this.itemManager,this.settingsService,this.deprecatedHttpService,this.protectionService,this.mutator,this.internalEventBus),this.services.push(this.listedService)}createFileService(){this.fileService=new o.FileService(this.apiService,this.itemManager,this.syncService,this.protocolService,this.challengeService,this.alertService,this.options.crypto,this.internalEventBus),this.services.push(this.fileService)}createIntegrityService(){this.integrityService=new o.IntegrityService(this.apiService,this.apiService,this.payloadManager,this.internalEventBus),this.services.push(this.integrityService)}createFeaturesService(){this.featuresService=new a.sX(this.diskStorageService,this.apiService,this.itemManager,this.webSocketsService,this.settingsService,this.userService,this.syncService,this.alertService,this.sessionManager,this.options.crypto,this.internalEventBus),this.serviceObservers.push(this.featuresService.addEventObserver((e=>{switch(e){case o.FeaturesEvent.UserRolesChanged:this.notifyEvent(o.ApplicationEvent.UserRolesChanged);break;case o.FeaturesEvent.FeaturesUpdated:this.notifyEvent(o.ApplicationEvent.FeaturesUpdated);break;default:c.assertUnreachable(e)}}))),this.services.push(this.featuresService)}createWebSocketsService(){this.webSocketsService=new a.g7(this.diskStorageService,this.options.webSocketUrl,this.webSocketApiService,this.internalEventBus),this.services.push(this.webSocketsService)}createMigrationService(){this.migrationService=new a.FR({protocolService:this.protocolService,deviceInterface:this.deviceInterface,storageService:this.diskStorageService,sessionManager:this.sessionManager,challengeService:this.challengeService,itemManager:this.itemManager,singletonManager:this.singletonManager,featuresService:this.featuresService,environment:this.environment,identifier:this.identifier,internalEventBus:this.internalEventBus}),this.services.push(this.migrationService)}createUserService(){this.userService=new o.UserService(this.sessionManager,this.syncService,this.diskStorageService,this.itemManager,this.protocolService,this.alertService,this.challengeService,this.protectionService,this.userApiService,this.internalEventBus),this.serviceObservers.push(this.userService.addEventObserver((async(e,t)=>{switch(e){case o.AccountEvent.SignedInOrRegistered:this.notifyEvent(o.ApplicationEvent.SignedIn);break;case o.AccountEvent.SignedOut:await this.notifyEvent(o.ApplicationEvent.SignedOut),await this.prepareForDeinit(),this.deinit(this.getDeinitMode(),(null==t?void 0:t.source)||o.DeinitSource.SignOut);break;default:c.assertUnreachable(e)}}))),this.services.push(this.userService)}createApiService(){this.apiService=new a.QL(this.deprecatedHttpService,this.diskStorageService,this.options.defaultHost,this.inMemoryStore,this.options.crypto,this.internalEventBus),this.services.push(this.apiService)}createUserApiService(){this.userApiService=new n.UserApiService(this.userServer,this.userRequestServer)}createUserServer(){this.userServer=new n.UserServer(this.httpService)}createUserRequestServer(){this.userRequestServer=new n.UserRequestServer(this.httpService)}createSubscriptionApiService(){this.subscriptionApiService=new n.SubscriptionApiService(this.subscriptionServer)}createSubscriptionServer(){this.subscriptionServer=new n.SubscriptionServer(this.httpService)}createWebSocketApiService(){this.webSocketApiService=new n.WebSocketApiService(this.webSocketServer)}createWebSocketServer(){this.webSocketServer=new n.WebSocketServer(this.httpService)}createSubscriptionManager(){this.subscriptionManager=new o.SubscriptionManager(this.subscriptionApiService,this.internalEventBus)}createWorkspaceServer(){this.workspaceServer=new n.WorkspaceServer(this.httpService)}createWorkspaceApiService(){this.workspaceApiService=new n.WorkspaceApiService(this.workspaceServer)}createWorkspaceManager(){this.workspaceManager=new o.WorkspaceManager(this.workspaceApiService,this.internalEventBus)}createItemManager(){this.itemManager=new a.A(this.payloadManager,this.options,this.internalEventBus),this.services.push(this.itemManager)}createComponentManager(){this.componentManagerService=new a.bJ(this.itemManager,this.syncService,this.featuresService,this.preferencesService,this.alertService,this.environment,this.platform,this.internalEventBus,this.deviceInterface),this.services.push(this.componentManagerService)}createHttpManager(){this.deprecatedHttpService=new a.aJ(this.environment,this.options.appVersion,this.internalEventBus),this.services.push(this.deprecatedHttpService)}createHttpService(){this.httpService=new n.HttpService(this.environment,this.options.appVersion,d.in,this.options.defaultHost,this.apiService.processMetaObject.bind(this.apiService))}createPayloadManager(){this.payloadManager=new a.Ot(this.internalEventBus),this.services.push(this.payloadManager)}createSingletonManager(){this.singletonManager=new a.c5(this.itemManager,this.payloadManager,this.syncService,this.internalEventBus),this.services.push(this.singletonManager)}createDiskStorageManager(){this.diskStorageService=new a.e5(this.deviceInterface,this.identifier,this.environment,this.internalEventBus),this.services.push(this.diskStorageService)}createInMemoryStorageManager(){this.inMemoryStore=new o.InMemoryStore}createProtocolService(){this.protocolService=new o.EncryptionService(this.itemManager,this.payloadManager,this.deviceInterface,this.diskStorageService,this.identifier,this.options.crypto,this.internalEventBus),this.serviceObservers.push(this.protocolService.addEventObserver((async e=>{e===o.EncryptionServiceEvent.RootKeyStatusChanged&&await this.notifyEvent(o.ApplicationEvent.KeyStatusChanged)}))),this.services.push(this.protocolService)}createKeyRecoveryService(){this.keyRecoveryService=new a.Mj(this.itemManager,this.payloadManager,this.apiService,this.protocolService,this.challengeService,this.alertService,this.diskStorageService,this.syncService,this.userService,this.internalEventBus),this.services.push(this.keyRecoveryService)}createSessionManager(){this.sessionManager=new a.Lb(this.diskStorageService,this.apiService,this.userApiService,this.alertService,this.protocolService,this.challengeService,this.webSocketsService,this.httpService,this.internalEventBus),this.serviceObservers.push(this.sessionManager.addEventObserver((async e=>{switch(e){case a.Px.Restored:(async()=>{await this.sync.sync(),this.protocolService.needsNewRootKeyBasedItemsKey()&&this.protocolService.createNewDefaultItemsKey().then((()=>{this.sync.sync()}))})();break;case a.Px.Revoked:await this.handleRevokedSession();break;default:c.assertUnreachable(e)}}))),this.services.push(this.sessionManager)}createSyncManager(){this.syncService=new a.xu(this.itemManager,this.sessionManager,this.protocolService,this.diskStorageService,this.payloadManager,this.apiService,this.historyManager,{loadBatchSize:this.options.loadBatchSize},this.internalEventBus);const e=this.syncService.addEventObserver((async e=>{const t=l(e);t&&(await this.protocolService.onSyncEvent(e),await this.notifyEvent(t),t===o.ApplicationEvent.CompletedFullSync&&(this.handledFullSyncStage||(this.handledFullSyncStage=!0,await this.handleStage(o.ApplicationStage.FullSyncCompleted_13))))}));this.serviceObservers.push(e),this.services.push(this.syncService)}createChallengeService(){this.challengeService=new a.PJ(this.diskStorageService,this.protocolService,this.internalEventBus),this.services.push(this.challengeService)}createProtectionService(){this.protectionService=new a.Xr(this.protocolService,this.challengeService,this.diskStorageService,this.internalEventBus),this.serviceObservers.push(this.protectionService.addEventObserver((e=>{e===a.Hh.UnprotectedSessionBegan?this.notifyEvent(o.ApplicationEvent.UnprotectedSessionBegan):e===a.Hh.UnprotectedSessionExpired&&this.notifyEvent(o.ApplicationEvent.UnprotectedSessionExpired)}))),this.services.push(this.protectionService)}createHistoryManager(){this.historyManager=new a.Cv(this.itemManager,this.diskStorageService,this.apiService,this.protocolService,this.deviceInterface,this.internalEventBus),this.services.push(this.historyManager)}createActionsManager(){this.actionsManager=new a.UP(this.itemManager,this.alertService,this.deviceInterface,this.deprecatedHttpService,this.payloadManager,this.protocolService,this.syncService,this.challengeService,this.listedService,this.internalEventBus),this.services.push(this.actionsManager)}createPreferencesService(){this.preferencesService=new a.J_(this.singletonManager,this.itemManager,this.syncService,this.internalEventBus),this.serviceObservers.push(this.preferencesService.addEventObserver((()=>{this.notifyEvent(o.ApplicationEvent.PreferencesChanged)}))),this.services.push(this.preferencesService)}createSettingsService(){this.settingsService=new a.kf(this.sessionManager,this.apiService,this.internalEventBus),this.services.push(this.settingsService)}createMfaService(){this.mfaService=new a.P$(this.settingsService,this.options.crypto,this.featuresService,this.internalEventBus),this.services.push(this.mfaService)}createMutatorService(){this.mutatorService=new a.Vu(this.itemManager,this.syncService,this.protectionService,this.protocolService,this.payloadManager,this.challengeService,this.componentManagerService,this.historyManager,this.internalEventBus),this.services.push(this.mutatorService)}createFilesBackupService(e){this.filesBackupService=new o.FilesBackupService(this.itemManager,this.apiService,this.protocolService,e,this.statusService,this.internalEventBus),this.services.push(this.filesBackupService)}createStatusService(){this.statusService=new o.StatusService(this.internalEventBus),this.services.push(this.statusService)}}function m(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class S{constructor(e,t,r){m(this,\"item\",void 0),m(this,\"removeObserver\",void 0),this.item=t.items.findSureItem(e),r&&r(this.item),this.removeObserver=t.streamItems(this.item.content_type,(t=>{let{changed:n,inserted:i}=t;const o=[...n,...i].find((t=>t.uuid===e));o&&(this.item=o,r&&r(this.item))}))}deinit(){this.removeObserver?(this.removeObserver(),this.removeObserver=void 0):console.error(\"A LiveItem is attempting to be deinited more than once.\")}}var b=r(49148)},82698:(e,t,r)=>{r.d(t,{$:()=>n,R:()=>a});var n,i=r(20819),o=r(64657);function s(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}!function(e){e.PrimaryApplicationSet=\"PrimaryApplicationSet\",e.DescriptorsDataChanged=\"DescriptorsDataChanged\",e.DeviceWillRestart=\"DeviceWillRestart\"}(n||(n={}));class a extends i.AbstractService{constructor(e,t){void 0===t&&(t=new i.InternalEventBus),super(t),s(this,\"device\",void 0),s(this,\"primaryApplication\",void 0),s(this,\"descriptorRecord\",void 0),s(this,\"callback\",void 0),s(this,\"onApplicationDeinit\",((e,t,r)=>{this.primaryApplication===e&&(this.primaryApplication=void 0),(async()=>{r===i.DeinitSource.SignOut&&this.removeDescriptor(this.descriptorForApplication(e));const o=this.getDescriptors();if(0===o.length||r===i.DeinitSource.SignOutAll){const e=o.map((e=>e.identifier));this.descriptorRecord={};const{killsApplication:t}=await this.device.clearAllDataFromDevice(e);if(t)return}const s=this.device;this.notifyEvent(n.DeviceWillRestart,{source:r,mode:t}),this.deinit(),t===i.DeinitMode.Hard?s.performHardReset():s.performSoftReset()})()})),this.device=e}deinit(){super.deinit(),this.device.deinit(),this.device=void 0,this.callback=void 0,this.primaryApplication=void 0,this.onApplicationDeinit=void 0}async initialize(e){if(this.device.isDeviceDestroyed())throw\"Attempting to initialize new application while device is destroyed.\";this.callback=e,this.descriptorRecord=await this.device.getJsonParsedRawStorageValue(i.RawStorageKey.DescriptorRecord),this.descriptorRecord||await this.createNewDescriptorRecord();let t=this.findPrimaryDescriptor();t||(console.error(\"No primary application descriptor found. Ensure migrations have been run.\"),t=this.getDescriptors()[0],this.setDescriptorAsPrimary(t),await this.persistDescriptors());const r=await this.buildApplication(t);this.primaryApplication=r,await this.notifyEvent(n.PrimaryApplicationSet,{application:r})}async createNewDescriptorRecord(){const e=\"standardnotes\",t={[e]:{identifier:e,label:\"Main Workspace\",primary:!0}};this.device.setRawStorageValue(i.RawStorageKey.DescriptorRecord,JSON.stringify(t)),this.descriptorRecord=t,await this.persistDescriptors()}getDescriptors(){return Object.values(this.descriptorRecord)}findPrimaryDescriptor(){for(const e of this.getDescriptors())if(e.primary)return e}async signOutAllWorkspaces(){await this.primaryApplication.user.signOut(!1,i.DeinitSource.SignOutAll)}setDescriptorAsPrimary(e){for(const t of this.getDescriptors())t.primary=t===e}async persistDescriptors(){await this.device.setRawStorageValue(i.RawStorageKey.DescriptorRecord,JSON.stringify(this.descriptorRecord)),this.notifyEvent(n.DescriptorsDataChanged,{descriptors:this.descriptorRecord})}renameDescriptor(e,t){e.label=t,this.persistDescriptors()}removeDescriptor(e){delete this.descriptorRecord[e.identifier];const t=this.getDescriptors();return e.primary&&t.length>0&&this.setDescriptorAsPrimary(t[0]),this.persistDescriptors()}removeAllDescriptors(){return this.descriptorRecord={},this.persistDescriptors()}descriptorForApplication(e){return this.descriptorRecord[e.identifier]}createNewApplicationDescriptor(e){const t=o.UuidGenerator.GenerateUuid(),r=this.getDescriptors().length+1;return{identifier:t,label:e||\"Workspace \".concat(r),primary:!1}}async createNewPrimaryDescriptor(e){const t=this.createNewApplicationDescriptor(e);this.descriptorRecord[t.identifier]=t,this.setDescriptorAsPrimary(t),await this.persistDescriptors()}async unloadCurrentAndCreateNewDescriptor(e){await this.createNewPrimaryDescriptor(e),this.primaryApplication&&this.primaryApplication.deinit(this.primaryApplication.getDeinitMode(),i.DeinitSource.SwitchWorkspace)}async unloadCurrentAndActivateDescriptor(e){this.setDescriptorAsPrimary(e),await this.persistDescriptors(),this.primaryApplication&&this.primaryApplication.deinit(this.primaryApplication.getDeinitMode(),i.DeinitSource.SwitchWorkspace)}async buildApplication(e){const t=await this.callback.applicationCreator(e,this.device);return t.setOnDeinit(this.onApplicationDeinit),t}}},78338:(e,t,r)=>{r.d(t,{rp:()=>p,iB:()=>i,Jj:()=>y,_p:()=>u,Zw:()=>v});var n=r(70295);class i{getIconForFileType(e){let t=\"file-other\";return\"application/pdf\"===e&&(t=\"file-pdf\"),/word/.test(e)&&(t=\"file-doc\"),/powerpoint|presentation/.test(e)&&(t=\"file-ppt\"),/excel|spreadsheet/.test(e)&&(t=\"file-xls\"),/^image\\//.test(e)&&(t=\"file-image\"),/^video\\//.test(e)&&(t=\"file-mov\"),/^audio\\//.test(e)&&(t=\"file-music\"),/(zip)|([tr]ar)|(7z)/.test(e)&&(t=\"file-zip\"),t}getIconAndTintForNoteType(e){switch(e){case n.NoteType.RichText:return[\"rich-text\",1];case n.NoteType.Markdown:return[\"markdown\",2];case n.NoteType.Authentication:return[\"authenticator\",6];case n.NoteType.Spreadsheet:return[\"spreadsheets\",5];case n.NoteType.Task:return[\"tasks\",3];case n.NoteType.Code:return[\"code\",4];default:return[\"plain-text\",1]}}}var o=r(20819),s=r(16418),a=r(64657),c=r(10256);function l(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class u{constructor(e,t,r){l(this,\"application\",void 0),l(this,\"templateNoteOptions\",void 0),l(this,\"item\",void 0),l(this,\"dealloced\",!1),l(this,\"innerValueChangeObservers\",[]),l(this,\"removeStreamObserver\",void 0),l(this,\"isTemplateNote\",!1),l(this,\"saveTimeout\",void 0),l(this,\"defaultTagUuid\",void 0),l(this,\"defaultTag\",void 0),l(this,\"runtimeId\",\"\".concat(Math.random())),this.application=e,this.templateNoteOptions=r,t&&(this.item=t),r&&(this.defaultTagUuid=r.tag),this.defaultTagUuid&&(this.defaultTag=this.application.items.findItem(this.defaultTagUuid))}deinit(){var e;this.dealloced=!0,null===(e=this.removeStreamObserver)||void 0===e||e.call(this),this.removeStreamObserver=void 0,this.application=void 0,this.item=void 0,this.innerValueChangeObservers.length=0,this.saveTimeout=void 0}async initialize(e){if(!this.item){var t,r,i,o,a;const l=(null===(t=this.defaultTag)||void 0===t||null===(r=t.preferences)||void 0===r?void 0:r.editorIdentifier)||(null===(i=this.application.componentManager.getDefaultEditor())||void 0===i?void 0:i.identifier),u=l?this.application.componentManager.componentWithIdentifier(l):void 0,d=this.application.mutator.createTemplateItem(c.ContentType.Note,{text:\"\",title:(null===(o=this.templateNoteOptions)||void 0===o?void 0:o.title)||\"\",noteType:(null==u?void 0:u.noteType)||n.NoteType.Plain,editorIdentifier:l,references:[]},{created_at:(null===(a=this.templateNoteOptions)||void 0===a?void 0:a.createdAt)||new Date});if(this.isTemplateNote=!0,this.item=d,this.defaultTagUuid){const t=this.application.items.findItem(this.defaultTagUuid);await this.application.items.addTagToNote(d,t,e)}this.notifyObservers(this.item,s.PayloadEmitSource.InitialObserverRegistrationPush)}this.streamItems()}notifyObservers(e,t){for(const r of this.innerValueChangeObservers)r(e,t)}streamItems(){this.dealloced||(this.removeStreamObserver=this.application.streamItems(c.ContentType.Note,(e=>{let{changed:t,inserted:r,source:n}=e;if(this.dealloced)return;const i=t.concat(r).find((e=>e.uuid===this.item.uuid));i&&(this.isTemplateNote=!1,this.item=i,this.notifyObservers(i,n))})))}insertTemplatedNote(){return this.isTemplateNote=!1,this.application.mutator.insertItem(this.item)}addNoteInnerValueChangeObserver(e){this.innerValueChangeObservers.push(e),this.item&&e(this.item,s.PayloadEmitSource.InitialObserverRegistrationPush);const t=this.innerValueChangeObservers;return()=>{(0,a.removeFromArray)(t,e)}}async save(e){const t=e.editorValues.title,r=e.editorValues.text,n=this.isTemplateNote;if(\"undefined\"!=typeof document&&document.hidden)return void this.application.alertService.alert(o.InfoStrings.SavingWhileDocumentHidden);if(n&&await this.insertTemplatedNote(),!this.application.items.findItem(this.item.uuid))return void this.application.alertService.alert(o.InfoStrings.InvalidNote);await this.application.mutator.changeItem(this.item,(n=>{const i=n;if(e.customMutate&&e.customMutate(i),i.title=t,i.text=r,!e.dontUpdatePreviews){const e=r||\"\",t=e.length>160,n=e.substring(0,160)+(t?\"...\":\"\");i.preview_plain=n,i.preview_html=void 0}}),e.isUserModified),this.saveTimeout&&clearTimeout(this.saveTimeout);const i=e.bypassDebouncer||this.application.noAccount()?100:this.application.isNativeMobileWeb()?700:350;this.saveTimeout=setTimeout((()=>{this.application.sync.sync()}),i)}}function d(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class p{constructor(e,t){d(this,\"application\",void 0),d(this,\"item\",void 0),d(this,\"dealloced\",!1),d(this,\"removeStreamObserver\",void 0),d(this,\"runtimeId\",\"\".concat(Math.random())),this.application=e,this.item=t}deinit(){var e;this.dealloced=!0,null===(e=this.removeStreamObserver)||void 0===e||e.call(this),this.removeStreamObserver=void 0,this.application=void 0,this.item=void 0}async initialize(){this.streamItems()}streamItems(){this.removeStreamObserver=this.application.streamItems(c.ContentType.File,(e=>{let{changed:t,inserted:r}=e;if(this.dealloced)return;const n=t.concat(r).find((e=>e.uuid===this.item.uuid));n&&(this.item=n)}))}}function h(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class y{constructor(e){h(this,\"application\",void 0),h(this,\"itemControllers\",[]),h(this,\"addTagHierarchy\",void 0),h(this,\"changeObservers\",[]),h(this,\"eventObservers\",[]),this.application=e,this.addTagHierarchy=e.getPreference(s.PrefKey.NoteAddToParentFolders,!0),this.eventObservers.push(e.addSingleEventObserver(o.ApplicationEvent.PreferencesChanged,(async()=>{this.addTagHierarchy=e.getPreference(s.PrefKey.NoteAddToParentFolders,!0)})))}deinit(){this.application=void 0,this.eventObservers.forEach((e=>{e()})),this.changeObservers.length=0;for(const e of this.itemControllers)this.closeItemController(e,{notify:!1});this.itemControllers.length=0}async createItemController(e){let t;if(this.activeItemViewController&&this.closeItemController(this.activeItemViewController,{notify:!1}),e instanceof s.FileItem){const r=e;t=new p(this.application,r)}else if(e instanceof s.SNNote){const r=e;t=new u(this.application,r)}else t=new u(this.application,void 0,e);return this.itemControllers.push(t),await t.initialize(this.addTagHierarchy),this.notifyObservers(),t}closeItemController(e){let{notify:t=!0}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{notify:!0};e.deinit(),(0,a.removeFromArray)(this.itemControllers,e),t&&this.notifyObservers()}closeActiveItemController(){const e=this.activeItemViewController;e&&this.closeItemController(e,{notify:!0})}closeAllItemControllers(){for(const e of this.itemControllers)this.closeItemController(e,{notify:!1});this.notifyObservers()}get activeItemViewController(){return this.itemControllers[0]}addActiveControllerChangeObserver(e){this.changeObservers.push(e),this.activeItemViewController&&e(this.activeItemViewController);const t=this.changeObservers;return()=>{(0,a.removeFromArray)(t,e)}}notifyObservers(){for(const e of this.changeObservers)e(this.activeItemViewController)}}var v;!function(e){e.EnteringBackground=\"EnteringBackground\",e.ResumingFromBackground=\"ResumingFromBackground\",e.GainingFocus=\"GainingFocus\",e.LosingFocus=\"LosingFocus\",e.AndroidBackButtonPressed=\"AndroidBackButtonPressed\",e.ColorSchemeChanged=\"ColorSchemeChanged\",e.KeyboardFrameWillChange=\"KeyboardFrameWillChange\",e.KeyboardFrameDidChange=\"KeyboardFrameDidChange\"}(v||(v={}))},44412:(e,t,r)=>{function n(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}r.d(t,{W:()=>i});class i{static log(){this.onLog(...arguments)}static error(e){return this.onError(e),e}}n(i,\"onLog\",void 0),n(i,\"onError\",void 0)},72186:(e,t,r)=>{r.d(t,{_:()=>f});var n={};r.r(n),r.d(n,{StorageReader1_0_0:()=>p.a,StorageReader2_0_0:()=>d});var i=r(44412),o=r(16418),s=r(10715),a=r(9907),c=r(20819),l=r(64657),u=r(34988);class d extends u.V{static version(){return s.Oq}async getStorage(){const e=(0,c.namespacedKey)(this.identifier,c.RawStorageKey.StorageObject),t=await this.deviceInterface.getRawStorageValue(e);return t?JSON.parse(t):void 0}async getNonWrappedValue(e){var t;const r=await this.getStorage();if(r)return null===(t=r[c.ValueModesKeys.Nonwrapped])||void 0===t?void 0:t[e]}async getAccountKeyParams(){return this.getNonWrappedValue(c.StorageKey.RootKeyParams)}async hasNonWrappedAccountKeys(){const e=await this.deviceInterface.getNamespacedKeychainValue(this.identifier);return!(0,l.isNullOrUndefined)(e)}async hasPasscode(){const e=await this.getNonWrappedValue(c.StorageKey.WrappedRootKey);return!(0,l.isNullOrUndefined)(e)}usesKeychain(){return!0}}var p=r(61733);var h=r(75082);function y(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const v=\"last_migration_timestamp\";class f extends a.U{constructor(){super(...arguments),y(this,\"reader\",void 0),y(this,\"didPreRun\",!1),y(this,\"memoizedNeedsKeychainRepair\",void 0)}async preRun(){await this.storeVersionNumber(),this.didPreRun=!0}registerStageHandlers(){this.registerStageHandler(c.ApplicationStage.PreparingForLaunch_0,(async()=>{await this.needsKeychainRepair()&&await this.repairMissingKeychain(),this.markDone()}))}getStoredVersion(){const e=(0,c.namespacedKey)(this.services.identifier,c.RawStorageKey.SnjsVersion);return this.services.deviceInterface.getRawStorageValue(e)}async storeVersionNumber(){const e=(0,c.namespacedKey)(this.services.identifier,c.RawStorageKey.SnjsVersion);if(!await this.getStoredVersion()){const t=[\"migrations\",\"ephemeral\",\"user\",\"cachedThemes\",\"syncToken\",\"encryptedStorage\"];let r=!1;for(const e of t)if(await this.services.deviceInterface.getRawStorageValue(e)){r=!0;break}if(r)await this.services.deviceInterface.setRawStorageValue(e,s.DU);else{const t=(0,c.namespacedKey)(this.services.identifier,v),r=await this.services.deviceInterface.getRawStorageValue(t);(0,l.isNullOrUndefined)(r)?await this.services.deviceInterface.setRawStorageValue(e,s.in):(await this.services.deviceInterface.setRawStorageValue(e,s.Oq),await this.services.deviceInterface.removeRawStorageValue(v))}}}async loadReader(){if(this.reader)return;const e=await this.getStoredVersion();this.reader=function(e,t,r,i){const o=function(e){const t=Object.values(n).sort(((e,t)=>-1*(0,s.D8)(e.version(),t.version())));for(const r of t){if(r.version()===e)return r;if((0,s.jV)(r.version(),e))return r}throw Error(\"Cannot find reader for version \".concat(e))}(e);return new o(t,r,i)}(e,this.services.deviceInterface,this.services.identifier,this.services.environment)}async needsKeychainRepair(){if(null!=this.memoizedNeedsKeychainRepair)return this.memoizedNeedsKeychainRepair;if(!this.didPreRun)throw Error(\"Attempting to access specialized function before prerun\");if(this.reader||await this.loadReader(),!this.reader.usesKeychain)return this.memoizedNeedsKeychainRepair=!1,this.memoizedNeedsKeychainRepair;const e=await this.reader.getAccountKeyParams();return(0,l.isNullOrUndefined)(e)||await this.reader.hasPasscode()||await this.reader.hasNonWrappedAccountKeys()?(this.memoizedNeedsKeychainRepair=!1,this.memoizedNeedsKeychainRepair):(this.memoizedNeedsKeychainRepair=!0,this.memoizedNeedsKeychainRepair)}async repairMissingKeychain(){const e=await this.getStoredVersion(),t=await this.reader.getAccountKeyParams(),r=new c.Challenge([new c.ChallengePrompt(c.ChallengeValidation.None,void 0,c.SessionStrings.PasswordInputPlaceholder,!0)],c.ChallengeReason.Custom,!1,c.KeychainRecoveryStrings.Title,c.KeychainRecoveryStrings.Text);return new Promise((n=>{this.services.challengeService.addChallengeObserver(r,{onNonvalidatedSubmit:async a=>{const c=a.values[0].value,l=this.services.protocolService.createKeyParams(t),u=await this.services.protocolService.computeRootKey(c,l),d=(await this.services.deviceInterface.getAllRawDatabasePayloads(this.services.identifier)).map((e=>new o.EncryptedPayload(e)));let p=d.find((e=>(0,h.ContentTypeUsesRootKeyEncryption)(e.content_type)));if(p||(p=d[0]),!p)throw i.W.error(Error(\"Attempting keychain recovery validation but no items present.\"));const y=await this.services.protocolService.decryptSplitSingle({usesRootKey:{items:[p],key:u}});if((0,o.isErrorDecryptingPayload)(y))this.services.challengeService.setValidationStatusForChallenge(r,a.values[0],!1);else{if(e===s.DU)await this.services.deviceInterface.setLegacyRawKeychainValue({mk:u.masterKey,ak:u.dataAuthenticationKey,version:l.version});else{const e=u.getKeychainValue();await this.services.deviceInterface.setNamespacedKeychainValue(e,this.services.identifier)}n(!0),this.services.challengeService.completeChallenge(r)}}}),this.services.challengeService.promptForChallengeResponse(r)}))}}},9907:(e,t,r)=>{r.d(t,{U:()=>o});var n=r(20819);function i(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class o{constructor(e){i(this,\"services\",void 0),i(this,\"stageHandlers\",{}),i(this,\"onDoneHandler\",void 0),this.services=e,this.registerStageHandlers()}static version(){throw\"Must override migration version\"}registerStageHandler(e,t){this.stageHandlers[e]=t}markDone(){var e;null===(e=this.onDoneHandler)||void 0===e||e.call(this),this.onDoneHandler=void 0}async promptForPasscodeUntilCorrect(e){const t=new n.Challenge([new n.ChallengePrompt(n.ChallengeValidation.None)],n.ChallengeReason.Migration,!1);return new Promise((r=>{this.services.challengeService.addChallengeObserver(t,{onNonvalidatedSubmit:async n=>{const i=n.values[0],o=i.value;await e(o)?(this.services.challengeService.completeChallenge(t),r(o)):this.services.challengeService.setValidationStatusForChallenge(t,i,!1)}}),this.services.challengeService.promptForChallengeResponse(t)}))}onDone(e){this.onDoneHandler=e}async handleStage(e){const t=this.stageHandlers[e];t&&await t()}}},34988:(e,t,r)=>{function n(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}r.d(t,{V:()=>i});class i{constructor(e,t,r){n(this,\"deviceInterface\",void 0),n(this,\"identifier\",void 0),n(this,\"environment\",void 0),this.deviceInterface=e,this.identifier=t,this.environment=r}static version(){throw Error(\"Must override\")}}},61733:(e,t,r)=>{r.d(t,{a:()=>c});var n=r(64657),i=r(49148),o=r(10715),s=r(20819),a=r(34988);class c extends a.V{static version(){return o.DU}async getAccountKeyParams(){return this.deviceInterface.getJsonParsedRawStorageValue(s.LegacyKeys1_0_0.AllAccountKeyParamsKey)}async hasNonWrappedAccountKeys(){if((0,s.isMobileDevice)(this.deviceInterface)){const e=await this.deviceInterface.getRawKeychainValue();return!(0,n.isNullOrUndefined)(e)}{const e=await this.deviceInterface.getRawStorageValue(\"mk\");return!(0,n.isNullOrUndefined)(e)}}async hasPasscode(){if((0,i.Im)(this.environment)){const e=await this.deviceInterface.getJsonParsedRawStorageValue(s.LegacyKeys1_0_0.MobilePasscodeParamsKey);return!(0,n.isNullOrUndefined)(e)}{const e=await this.deviceInterface.getJsonParsedRawStorageValue(s.LegacyKeys1_0_0.WebEncryptedStorageKey);return!(0,n.isNullOrUndefined)(e)}}usesKeychain(){return!!(0,i.Im)(this.environment)}}},79437:(e,t,r)=>{r.d(t,{ce:()=>m,ly:()=>S,kK:()=>P,qW:()=>_,Ni:()=>w,pI:()=>b,R_:()=>E});var n=r(10256),i=r(91260),o=r(9907),s=r(10715),a=r(75082),c=r(70008),l=r(61733),u=r(16418),d=r(20819),p=r(64657),h=r(49148);function y(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function v(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?y(Object(r),!0).forEach((function(t){f(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):y(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function f(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const g=\"jwt\";class m extends o.U{constructor(e){super(e),f(this,\"legacyReader\",void 0),this.legacyReader=new l.a(this.services.deviceInterface,this.services.identifier,this.services.environment)}static version(){return s.Oq}registerStageHandlers(){this.registerStageHandler(d.ApplicationStage.PreparingForLaunch_0,(async()=>{(0,h.Ak)(this.services.environment)?await this.migrateStorageStructureForWebDesktop():(0,h.Im)(this.services.environment)&&await this.migrateStorageStructureForMobile()})),this.registerStageHandler(d.ApplicationStage.StorageDecrypted_09,(async()=>{await this.migrateArbitraryRawStorageToManagedStorageAllPlatforms(),(0,h.Im)(this.services.environment)&&await this.migrateMobilePreferences(),await this.migrateSessionStorage(),await this.deleteLegacyStorageValues()})),this.registerStageHandler(d.ApplicationStage.LoadingDatabase_11,(async()=>{await this.createDefaultItemsKeyForAllPlatforms(),this.markDone()}))}async migrateStorageStructureForWebDesktop(){const e=this.services.deviceInterface,t={[d.ValueModesKeys.Wrapped]:{},[d.ValueModesKeys.Unwrapped]:{},[d.ValueModesKeys.Nonwrapped]:{}},r=await this.legacyReader.getAccountKeyParams();r&&(t.nonwrapped[d.StorageKey.RootKeyParams]=r);const n=await e.getJsonParsedRawStorageValue(d.LegacyKeys1_0_0.WebEncryptedStorageKey);if(n){const e=new u.EncryptedPayload(n),r=await this.webDesktopHelperGetPasscodeKeyAndDecryptEncryptedStorage(e),i=r.key,o=r.decryptedStoragePayload,s=r.keyParams;t.nonwrapped[d.StorageKey.RootKeyWrapperKeyParams]=s.getPortableValue();const a=p.Copy(o.content.storage),c=p.jsonParseEmbeddedKeys(a),l=c[d.LegacyKeys1_0_0.AllAccountKeyParamsKey];t.nonwrapped[d.StorageKey.RootKeyParams]=l;let h=i;if(!p.isNullOrUndefined(c.mk)){const{accountKey:e,wrappedKey:r}=await this.webDesktopHelperExtractAndWrapAccountKeysFromValueStore(i,l,c);h=e,t.nonwrapped[d.StorageKey.WrappedRootKey]=r}t.wrapped=await this.webDesktopHelperEncryptStorage(h,o,c)}else{const e=await this.services.deviceInterface.getRawStorageValue(\"ak\"),t=await this.services.deviceInterface.getRawStorageValue(\"mk\");if(e||t){const n=r.version||await this.getFallbackRootKeyVersion(),i=(0,a.CreateNewRootKey)({masterKey:t,dataAuthenticationKey:e,version:n,keyParams:r});await this.services.deviceInterface.setNamespacedKeychainValue(i.getKeychainValue(),this.services.identifier)}}await this.allPlatformHelperSetStorageStructure(t)}async allPlatformHelperSetStorageStructure(e){const t=c.e.DefaultValuesObject(e.wrapped,e.unwrapped,e.nonwrapped);t[d.ValueModesKeys.Unwrapped]=void 0,await this.services.deviceInterface.setRawStorageValue(d.namespacedKey(this.services.identifier,d.RawStorageKey.StorageObject),JSON.stringify(t))}async webDesktopHelperGetPasscodeKeyAndDecryptEncryptedStorage(e){const t=await this.services.deviceInterface.getJsonParsedRawStorageValue(d.LegacyKeys1_0_0.WebPasscodeParamsKey),r=this.services.protocolService.createKeyParams(t);let n,i=e;return await this.promptForPasscodeUntilCorrect((async t=>(n=await this.services.protocolService.computeRootKey(t,r),i=await this.services.protocolService.decryptSplitSingle({usesRootKey:{items:[e],key:n}}),!u.isErrorDecryptingPayload(i)))),{decryptedStoragePayload:i,key:n,keyParams:r}}async webDesktopHelperExtractAndWrapAccountKeysFromValueStore(e,t,r){const n=(null==t?void 0:t.version)||await this.getFallbackRootKeyVersion(),i=(0,a.CreateNewRootKey)({masterKey:r.mk,dataAuthenticationKey:r.ak,version:n,keyParams:t});delete r.mk,delete r.pw,delete r.ak;const o=i.payload,s=await this.services.protocolService.encryptSplitSingle({usesRootKey:{items:[o],key:e}});return{accountKey:i,wrappedKey:u.CreateEncryptedLocalStorageContextPayload(s)}}async webDesktopHelperEncryptStorage(e,t,r){const i=await this.services.protocolService.encryptSplitSingle({usesRootKey:{items:[t.copy({content_type:n.ContentType.EncryptedStorage,content:r})],key:e}});return u.CreateEncryptedLocalStorageContextPayload(i)}async migrateStorageStructureForMobile(){p.assert((0,d.isMobileDevice)(this.services.deviceInterface));const e=await this.services.deviceInterface.getRawKeychainValue(),t=await this.services.deviceInterface.getJsonParsedRawStorageValue(d.LegacyKeys1_0_0.MobileWrappedRootKeyKey)||(null==e?void 0:e.encryptedAccountKeys),r=await this.legacyReader.getAccountKeyParams(),i=await this.services.deviceInterface.getJsonParsedRawStorageValue(d.LegacyKeys1_0_0.MobilePasscodeParamsKey),o=await this.services.deviceInterface.getJsonParsedRawStorageValue(d.NonwrappedStorageKey.MobileFirstRun),s={[d.ValueModesKeys.Nonwrapped]:{[d.StorageKey.WrappedRootKey]:t,[d.StorageKey.RootKeyWrapperKeyParams]:p.omitByCopy(i,[\"hash\"]),[d.StorageKey.RootKeyParams]:r,[d.NonwrappedStorageKey.MobileFirstRun]:o},[d.ValueModesKeys.Unwrapped]:{},[d.ValueModesKeys.Wrapped]:{}},c=await this.services.deviceInterface.getJsonParsedRawStorageValue(d.LegacyKeys1_0_0.MobileBiometricsPrefs);c&&(s.nonwrapped[d.StorageKey.BiometricsState]=c.enabled,s.nonwrapped[d.StorageKey.MobileBiometricsTiming]=c.timing);const l=await this.services.deviceInterface.getRawStorageValue(d.LegacyKeys1_0_0.MobilePasscodeKeyboardType);if(l&&(s.nonwrapped[d.StorageKey.MobilePasscodeKeyboardType]=l),i){var h;const o=this.services.protocolService.createKeyParams(i),a=async()=>{let r;return await this.promptForPasscodeUntilCorrect((async n=>{var i;r=await this.services.protocolService.computeRootKey(n,o);const s=null==e||null===(i=e.offline)||void 0===i?void 0:i.pw;if(s)return r.serverPassword===s;if(t){const e=await this.services.protocolService.decryptSplitSingle({usesRootKey:{items:[new u.EncryptedPayload(t)],key:r}});return!u.isErrorDecryptingPayload(e)}{const e=(await this.services.deviceInterface.getAllRawDatabasePayloads(this.services.identifier))[0];if(!e)throw Error(\"Passcode only migration aborting due to missing keychain.offline.pw\");const t=await this.services.protocolService.decryptSplitSingle({usesRootKey:{items:[new u.EncryptedPayload(e)],key:r}});return!u.isErrorDecryptingPayload(t)}})),r};if(s.nonwrapped[d.StorageKey.MobilePasscodeTiming]=null==e||null===(h=e.offline)||void 0===h?void 0:h.timing,t){const e=await a(),n=new u.EncryptedPayload(t),i=await this.services.protocolService.decryptSplitSingle({usesRootKey:{items:[n],key:e}});if(u.isErrorDecryptingPayload(i))return;const o=i.content.accountKeys,c=o.version||(null==r?void 0:r.version)||await this.getFallbackRootKeyVersion(),l=i.copy({content:u.FillItemContent({masterKey:o.mk,dataAuthenticationKey:o.ak,version:c,keyParams:r,accountKeys:void 0})}),p=await this.services.protocolService.encryptSplitSingle({usesRootKey:{items:[l],key:e}});s.nonwrapped[d.StorageKey.WrappedRootKey]=u.CreateEncryptedLocalStorageContextPayload(p),o.jwt&&this.services.deviceInterface.setRawStorageValue(g,o.jwt),await this.services.deviceInterface.clearRawKeychainValue()}else if(!t){const e=await a(),t=new u.DecryptedPayload(v({uuid:p.UuidGenerator.GenerateUuid(),content:u.FillItemContent(s.unwrapped),content_type:n.ContentType.EncryptedStorage},(0,u.PayloadTimestampDefaults)())),r=await this.services.protocolService.encryptSplitSingle({usesRootKey:{items:[t],key:e}});s.wrapped=u.CreateEncryptedLocalStorageContextPayload(r),await this.services.deviceInterface.clearRawKeychainValue()}}else if(!p.isNullOrUndefined(null==e?void 0:e.mk)){const t=e.version||(null==r?void 0:r.version)||await this.getFallbackRootKeyVersion(),n=(0,a.CreateNewRootKey)({masterKey:e.mk,dataAuthenticationKey:e.ak,version:t,keyParams:r});await this.services.deviceInterface.setNamespacedKeychainValue(n.getKeychainValue(),this.services.identifier),e.jwt&&this.services.deviceInterface.setRawStorageValue(g,e.jwt)}await this.allPlatformHelperSetStorageStructure(s)}async getFallbackRootKeyVersion(){const e=(await this.services.deviceInterface.getAllRawDatabasePayloads(this.services.identifier))[0];return e&&new u.EncryptedPayload(e).version||n.ProtocolVersion.V002}async migrateArbitraryRawStorageToManagedStorageAllPlatforms(){const e=await this.services.deviceInterface.getAllRawStorageKeyValues(),t=p.objectToValueArray(d.LegacyKeys1_0_0),r=e=>{try{return JSON.parse(e)}catch(t){return e}},n=this.services.identifier;for(const i of e){const e=i.key,o=i.value,s=n&&n.length>0&&e.startsWith(n);if(!t.includes(e)&&!s&&!p.isNullOrUndefined(o)){const t=r(o);this.services.storageService.setValue(e,t)}}}async deleteLegacyStorageValues(){const e=[...p.objectToValueArray(d.StorageKey),...p.objectToValueArray(d.LegacyKeys1_0_0),\"mk\",\"ak\",\"pw\",\"encryptionKey\",\"authKey\",\"jwt\",\"ephemeral\",\"cachedThemes\"];for(const t of e)await this.services.deviceInterface.removeRawStorageValue(t)}async migrateMobilePreferences(){const e=await this.services.deviceInterface.getJsonParsedRawStorageValue(d.LegacyKeys1_0_0.MobileLastExportDate),t=await this.services.deviceInterface.getJsonParsedRawStorageValue(d.LegacyKeys1_0_0.MobileDoNotWarnUnsupportedEditors),r=await this.services.deviceInterface.getJsonParsedRawStorageValue(d.LegacyKeys1_0_0.MobileOptionsState);let n={};if(r){var i,o,s,a;const e=r.sortBy;n={sortBy:\"updated_at\"===e||\"client_updated_at\"===e?u.CollectionSort.UpdatedAt:e,sortReverse:null!==(i=r.sortReverse)&&void 0!==i&&i,hideNotePreview:null!==(o=r.hidePreviews)&&void 0!==o&&o,hideDate:null!==(s=r.hideDates)&&void 0!==s&&s,hideTags:null!==(a=r.hideTags)&&void 0!==a&&a}}const c=v(v({},n),{},{lastExportDate:null!=e?e:void 0,doNotShowAgainUnsupportedEditors:null!=t&&t});await this.services.storageService.setValue(d.StorageKey.MobilePreferences,c)}migrateSessionStorage(){let e=this.services.storageService.getValue(g);const t=this.services.storageService.getValue(\"user\");if(e||t&&(e=t.jwt),!e){if(p.isNullOrUndefined(t))return;e=\"junk-value\"}const r=new i.j(e);this.services.storageService.setValue(d.StorageKey.Session,r),(0,h.Im)(this.services.environment)&&t&&t.server&&this.services.storageService.setValue(d.StorageKey.ServerHost,t.server)}async createDefaultItemsKeyForAllPlatforms(){const e=this.services.protocolService.getRootKey();if(e){const t=await this.services.protocolService.getRootKeyParams(),r=n.ProtocolVersion.V001,i=new u.DecryptedPayload(v({uuid:p.UuidGenerator.GenerateUuid(),content_type:n.ContentType.ItemsKey,content:u.FillItemContentSpecialized({itemsKey:e.masterKey,dataAuthenticationKey:e.dataAuthenticationKey,version:(null==t?void 0:t.version)||r}),dirty:!0,dirtyIndex:(0,u.getIncrementedDirtyIndex)()},(0,u.PayloadTimestampDefaults)())),o=u.CreateDecryptedItemFromPayload(i);await this.services.itemManager.emitItemFromPayload(o.payloadRepresentation(),u.PayloadEmitSource.LocalChanged)}}}class S extends o.U{static version(){return\"2.0.15\"}registerStageHandlers(){this.registerStageHandler(d.ApplicationStage.LoadedDatabase_12,(async()=>{await this.createNewDefaultItemsKeyIfNecessary(),this.markDone()}))}async createNewDefaultItemsKeyIfNecessary(){this.services.protocolService.needsNewRootKeyBasedItemsKey()&&await this.services.protocolService.createNewDefaultItemsKey()}}class b extends o.U{static version(){return\"2.7.0\"}registerStageHandlers(){this.registerStageHandler(d.ApplicationStage.FullSyncCompleted_13,(async()=>{await this.deleteBatchManagerSingleton(),this.markDone()}))}async deleteBatchManagerSingleton(){const e=new u.CompoundPredicate(\"and\",[new u.Predicate(\"content_type\",\"=\",n.ContentType.Component),new u.Predicate(\"identifier\",\"=\",\"org.standardnotes.batch-manager\")]),t=this.services.singletonManager.findSingleton(n.ContentType.Component,e);t&&await this.services.itemManager.setItemToBeDeleted(t)}}class P extends o.U{static version(){return\"2.20.0\"}registerStageHandlers(){this.registerStageHandler(d.ApplicationStage.LoadedDatabase_12,(async()=>{await this.deleteMfaItems(),this.markDone()}))}async deleteMfaItems(){const e=this.services.itemManager.getItems(\"SF|MFA\");for(const t of e)this.services.itemManager.removeItemLocally(t),await this.services.storageService.deletePayloadWithId(t.uuid)}}class _ extends o.U{static version(){return\"2.36.0\"}registerStageHandlers(){this.registerStageHandler(d.ApplicationStage.LoadedDatabase_12,(async()=>{await this.removeServerExtensionsLocally(),this.markDone()}))}async removeServerExtensionsLocally(){const e=this.services.itemManager.getItems(\"SF|Extension\");for(const t of e)this.services.itemManager.removeItemLocally(t),await this.services.storageService.deletePayloadWithId(t.uuid)}}class w extends o.U{static version(){return\"2.42.0\"}registerStageHandlers(){this.registerStageHandler(d.ApplicationStage.FullSyncCompleted_13,(async()=>{await this.deleteNoDistraction(),this.markDone()}))}async deleteNoDistraction(){const e=this.services.itemManager.getItems(n.ContentType.Theme).filter((e=>\"org.standardnotes.theme-no-distraction\"===e.identifier));for(const t of e)await this.services.itemManager.setItemToBeDeleted(t)}}const E=[m,S,b,P,_,w]},24431:(e,t,r)=>{r.d(t,{Ni:()=>i.Ni,R_:()=>i.R_,_r:()=>n._,ce:()=>i.ce,kK:()=>i.kK,ly:()=>i.ly,pI:()=>i.pI,qW:()=>i.qW});var n=r(72186),i=r(79437)},91260:(e,t,r)=>{r.d(t,{j:()=>i});var n=r(24630);class i extends n.z{constructor(e){var t;super(),t=void 0,\"jwt\"in this?Object.defineProperty(this,\"jwt\",{value:t,enumerable:!0,configurable:!0,writable:!0}):this.jwt=t,this.jwt=e}get authorizationValue(){return this.jwt}canExpire(){return!1}}},24630:(e,t,r)=>{r.d(t,{z:()=>n});class n{}},70008:(e,t,r)=>{r.d(t,{e:()=>p});var n=r(10256),i=r(64657),o=r(44412),s=r(75082),a=r(20819),c=r(16418);function l(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function u(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?l(Object(r),!0).forEach((function(t){d(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function d(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class p extends a.AbstractService{constructor(e,t,r,n){super(n),d(this,\"deviceInterface\",void 0),d(this,\"identifier\",void 0),d(this,\"environment\",void 0),d(this,\"internalEventBus\",void 0),d(this,\"encryptionProvider\",void 0),d(this,\"storagePersistable\",!1),d(this,\"persistencePolicy\",void 0),d(this,\"encryptionPolicy\",void 0),d(this,\"needsPersist\",!1),d(this,\"currentPersistPromise\",void 0),d(this,\"values\",void 0),this.deviceInterface=e,this.identifier=t,this.environment=r,this.internalEventBus=n,this.setPersistencePolicy(a.StoragePersistencePolicies.Default),this.setEncryptionPolicy(a.StorageEncryptionPolicy.Default,!1)}provideEncryptionProvider(e){this.encryptionProvider=e}deinit(){this.deviceInterface=void 0,this.encryptionProvider=void 0,this.storagePersistable=!1,super.deinit()}async handleApplicationStage(e){if(await super.handleApplicationStage(e),e===a.ApplicationStage.Launched_10)this.storagePersistable=!0,this.needsPersist&&this.persistValuesToDisk();else if(e===a.ApplicationStage.StorageDecrypted_09){const e=await this.getValue(a.StorageKey.StorageEncryptionPolicy);e&&this.setEncryptionPolicy(e,!1)}}async setPersistencePolicy(e){this.persistencePolicy=e,this.persistencePolicy===a.StoragePersistencePolicies.Ephemeral&&(await this.deviceInterface.removeAllRawStorageValues(),await this.clearAllPayloads())}setEncryptionPolicy(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(e===a.StorageEncryptionPolicy.Disabled&&![c.Environment.Mobile].includes(this.environment))throw Error(\"Disabling storage encryption is only available on mobile.\");this.encryptionPolicy=e,t&&this.setValue(a.StorageKey.StorageEncryptionPolicy,e)}isEphemeralSession(){return this.persistencePolicy===a.StoragePersistencePolicies.Ephemeral}async initializeFromDisk(){const e=await this.deviceInterface.getRawStorageValue(this.getPersistenceKey()),t=e?JSON.parse(e):void 0;await this.setInitialValues(t)}async setInitialValues(e){const t=e||this.defaultValuesObject();t[a.ValueModesKeys.Unwrapped]||(t[a.ValueModesKeys.Unwrapped]={}),this.values=t,this.isStorageWrapped()||(this.values[a.ValueModesKeys.Unwrapped]=u(u({},this.values[a.ValueModesKeys.Wrapped].content),this.values[a.ValueModesKeys.Unwrapped]))}isStorageWrapped(){const e=this.values[a.ValueModesKeys.Wrapped];return null!=e&&(0,c.isEncryptedLocalStoragePayload)(e)}async canDecryptWithKey(e){const t=this.values[a.ValueModesKeys.Wrapped];if(!(0,c.isEncryptedLocalStoragePayload)(t))throw Error(\"Attempting to decrypt non decrypted storage value\");const r=await this.decryptWrappedValue(t,e);return!(0,s.isErrorDecryptingParameters)(r)}async decryptWrappedValue(e,t){if(null==e||!e.content_type)throw Error(\"Attempting to decrypt nonexistent wrapped value\");const r=new c.EncryptedPayload(u(u(u({},e),(0,c.PayloadTimestampDefaults)()),{},{content_type:n.ContentType.EncryptedStorage})),i=t?{usesRootKey:{items:[r],key:t}}:{usesRootKeyWithKeyLookup:{items:[r]}};return await this.encryptionProvider.decryptSplitSingle(i)}async decryptStorage(){const e=this.values[a.ValueModesKeys.Wrapped];if(!(0,c.isEncryptedLocalStoragePayload)(e))throw Error(\"Attempting to decrypt already decrypted storage\");const t=await this.decryptWrappedValue(e);if((0,s.isErrorDecryptingParameters)(t))throw o.W.error(Error(\"Unable to decrypt storage.\"));this.values[a.ValueModesKeys.Unwrapped]=(0,i.Copy)(t.content)}async persistValuesToDisk(){if(!this.storagePersistable)return void(this.needsPersist=!0);if(this.persistencePolicy===a.StoragePersistencePolicies.Ephemeral)return;await this.currentPersistPromise,this.needsPersist=!1;const e=await this.immediatelyPersistValuesToDisk();this.values[a.ValueModesKeys.Wrapped]=e[a.ValueModesKeys.Wrapped]}async awaitPersist(){await this.currentPersistPromise}async immediatelyPersistValuesToDisk(){return this.currentPersistPromise=this.executeCriticalFunction((async()=>{var e;const t=await this.generatePersistableValues();return this.persistencePolicy===a.StoragePersistencePolicies.Ephemeral||await(null===(e=this.deviceInterface)||void 0===e?void 0:e.setRawStorageValue(this.getPersistenceKey(),JSON.stringify(t))),t})),this.currentPersistPromise}async generatePersistableValues(){const e=(0,i.Copy)(this.values),t=e[a.ValueModesKeys.Unwrapped];e[a.ValueModesKeys.Unwrapped]=void 0;const r=new c.DecryptedPayload(u({uuid:i.UuidGenerator.GenerateUuid(),content:t,content_type:n.ContentType.EncryptedStorage},(0,c.PayloadTimestampDefaults)()));if(this.encryptionProvider.hasRootKeyEncryptionSource()){const t={usesRootKeyWithKeyLookup:{items:[r]}},n=await this.encryptionProvider.encryptSplitSingle(t);e[a.ValueModesKeys.Wrapped]=(0,c.CreateEncryptedLocalStorageContextPayload)(n)}else e[a.ValueModesKeys.Wrapped]=(0,c.CreateDecryptedLocalStorageContextPayload)(r);return e}setValue(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:a.StorageValueModes.Default;this.setValueWithNoPersist(e,t,r),this.persistValuesToDisk()}async setValueAndAwaitPersist(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:a.StorageValueModes.Default;this.setValueWithNoPersist(e,t,r),await this.persistValuesToDisk()}setValueWithNoPersist(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:a.StorageValueModes.Default;if(!this.values)throw Error(\"Attempting to set storage key \".concat(e,\" before loading local storage.\"));const n=this.domainKeyForMode(r);this.values[n][e]=t}getValue(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:a.StorageValueModes.Default,r=arguments.length>2?arguments[2]:void 0;if(!this.values)throw Error(\"Attempting to get storage key \".concat(e,\" before loading local storage.\"));if(!this.values[this.domainKeyForMode(t)])throw Error(\"Storage domain mode not available \".concat(t,\" for key \").concat(e));const n=this.values[this.domainKeyForMode(t)][e];return null!=n?n:r}async removeValue(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:a.StorageValueModes.Default;if(!this.values)throw Error(\"Attempting to remove storage key \".concat(e,\" before loading local storage.\"));const r=this.values[this.domainKeyForMode(t)];if(null!=r&&r[e])return delete r[e],this.persistValuesToDisk()}getStorageEncryptionPolicy(){return this.encryptionPolicy}getPersistenceKey(){return a.namespacedKey(this.identifier,a.RawStorageKey.StorageObject)}defaultValuesObject(e,t,r){return p.DefaultValuesObject(e,t,r)}static DefaultValuesObject(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return{[a.ValueModesKeys.Wrapped]:e,[a.ValueModesKeys.Unwrapped]:t,[a.ValueModesKeys.Nonwrapped]:r}}domainKeyForMode(e){if(e===a.StorageValueModes.Default)return a.ValueModesKeys.Unwrapped;if(e===a.StorageValueModes.Nonwrapped)return a.ValueModesKeys.Nonwrapped;throw Error(\"Invalid mode\")}async clearValues(){await this.setInitialValues(),await this.immediatelyPersistValuesToDisk()}async getAllRawPayloads(){return this.deviceInterface.getAllRawDatabasePayloads(this.identifier)}async savePayload(e){return this.savePayloads([e])}async savePayloads(e){if(this.persistencePolicy===a.StoragePersistencePolicies.Ephemeral)return;const{encrypted:t,decrypted:r,deleted:n,discardable:o}=(0,c.CreatePayloadSplitWithDiscardables)(e),l=this.encryptionPolicy===a.StorageEncryptionPolicy.Default,u=this.encryptionProvider.hasRootKeyEncryptionSource(),d=[],p=[];if(l){const e=s.SplitPayloadsByEncryptionType(r);e.itemsKeyEncryption&&(0,i.extendArray)(d,e.itemsKeyEncryption),e.rootKeyEncryption&&(u?(0,i.extendArray)(d,e.rootKeyEncryption):(0,i.extendArray)(p,e.rootKeyEncryption))}else(0,i.extendArray)(p,d),(0,i.extendArray)(p,r);await this.deletePayloads(o);const h=s.SplitPayloadsByEncryptionType(d),y=s.CreateEncryptionSplitWithKeyLookup(h),v=[...t,...await this.encryptionProvider.encryptSplit(y)].map(c.CreateEncryptedLocalStorageContextPayload),f=p.map(c.CreateDecryptedLocalStorageContextPayload),g=n.map(c.CreateDeletedLocalStorageContextPayload);return this.executeCriticalFunction((async()=>{var e;return null===(e=this.deviceInterface)||void 0===e?void 0:e.saveRawDatabasePayloads([...v,...f,...g],this.identifier)}))}async deletePayloads(e){await Promise.all(e.map((e=>this.deletePayloadWithId(e.uuid))))}async forceDeletePayloads(e){await Promise.all(e.map((e=>this.deletePayloadWithId(e.uuid))))}async deletePayloadWithId(e){return this.executeCriticalFunction((async()=>this.deviceInterface.removeRawDatabasePayloadWithId(e,this.identifier)))}async clearAllPayloads(){return this.executeCriticalFunction((async()=>this.deviceInterface.removeAllRawDatabasePayloads(this.identifier)))}clearAllData(){return this.executeCriticalFunction((async()=>{await this.clearValues(),await this.clearAllPayloads(),await this.deviceInterface.removeRawStorageValue(a.namespacedKey(this.identifier,a.RawStorageKey.SnjsVersion)),await this.deviceInterface.removeRawStorageValue(this.getPersistenceKey())}))}async getDiagnostics(){return{storage:{storagePersistable:this.storagePersistable,persistencePolicy:a.StoragePersistencePolicies[this.persistencePolicy],encryptionPolicy:a.StorageEncryptionPolicy[this.encryptionPolicy],needsPersist:this.needsPersist,currentPersistPromise:null!=this.currentPersistPromise,isStorageWrapped:this.isStorageWrapped(),allRawPayloadsCount:(await this.getAllRawPayloads()).length,databaseKeys:await this.deviceInterface.getDatabaseKeys()}}}}},65432:(e,t,r)=>{r.d(t,{U8:()=>Ct,Jg:()=>ve,h6:()=>ye,IX:()=>X,ne:()=>te,ap:()=>Z,PJ:()=>pe,VG:()=>De,SV:()=>Ce,e5:()=>_t.e,xO:()=>kt,FH:()=>u,A:()=>Ge,jW:()=>F.j,o8:()=>$e,aM:()=>B,Sn:()=>W,Vu:()=>st,Bi:()=>Dt,nB:()=>E,Ot:()=>ut,Ps:()=>oe,Hh:()=>re,jg:()=>ce,UP:()=>l,QL:()=>N,bJ:()=>Te,sX:()=>Fe,Cv:()=>Le,aJ:()=>v,Mj:()=>Qe,P$:()=>et,FR:()=>it,J_:()=>pt,Xr:()=>le,Lb:()=>q,kf:()=>gt,c5:()=>bt,xu:()=>Ht,g7:()=>J,Fi:()=>Et,y0:()=>Kt,z_:()=>O.z,Px:()=>H,d6:()=>K,BU:()=>Ft,jH:()=>It,NA:()=>C,Fr:()=>se,fA:()=>z,z4:()=>ae});var n=r(10256),i=r(16418),o=r(20819);function s(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function a(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?s(Object(r),!0).forEach((function(t){c(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function c(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class l extends o.AbstractService{constructor(e,t,r,n,i,o,s,a,l,u){super(u),c(this,\"itemManager\",void 0),c(this,\"alertService\",void 0),c(this,\"deviceInterface\",void 0),c(this,\"httpService\",void 0),c(this,\"payloadManager\",void 0),c(this,\"protocolService\",void 0),c(this,\"syncService\",void 0),c(this,\"challengeService\",void 0),c(this,\"listedService\",void 0),c(this,\"internalEventBus\",void 0),c(this,\"previousPasswords\",[]),this.itemManager=e,this.alertService=t,this.deviceInterface=r,this.httpService=n,this.payloadManager=i,this.protocolService=o,this.syncService=s,this.challengeService=a,this.listedService=l,this.internalEventBus=u,this.previousPasswords=[]}deinit(){this.itemManager=void 0,this.alertService=void 0,this.deviceInterface=void 0,this.httpService=void 0,this.payloadManager=void 0,this.listedService=void 0,this.challengeService=void 0,this.protocolService=void 0,this.syncService=void 0,this.previousPasswords.length=0,super.deinit()}getExtensions(){return this.itemManager.getItems(n.ContentType.ActionsExtension).filter((e=>!e.isListedExtension))}extensionsInContextOfItem(e){return this.getExtensions().filter((t=>t.supported_types.includes(e.content_type)||t.actionsWithContextForItem(e).length>0))}async loadExtensionInContextOfItem(e,t){const r={content_type:t.content_type,item_uuid:t.uuid},n=await this.httpService.getAbsolute(e.url,r).catch((e=>{console.error(\"Error loading extension\",e)}));if(!n)return;const o=n.description||e.description,s=n.supported_types||e.supported_types,a=n.actions||[],c=new i.ActionsExtensionMutator(e,i.MutationType.UpdateUserTimestamps);c.deprecation=n.deprecation,c.description=o,c.supported_types=s,c.actions=a;const l=c.getResult();return(0,i.CreateDecryptedItemFromPayload)(l)}async runAction(e,t){let r;switch(e.verb){case\"render\":r=await this.handleRenderAction(e);break;case\"show\":r=this.handleShowAction(e);break;case\"post\":r=await this.handlePostAction(e,t)}return r}async handleRenderAction(e){return await this.httpService.getAbsolute(e.url).then((async e=>{const t=await this.payloadByDecryptingResponse(e);if(t){const r=(0,i.CreateDecryptedItemFromPayload)(t);return a(a({},e),{},{item:r})}})).catch((e=>{const t=e&&e.error||{message:\"An issue occurred while processing this action. Please try again.\"};return this.alertService.alert(t.message),{error:t}}))}async payloadByDecryptingResponse(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];if(!e.item||e.item.deleted||null==e.item.content)return;const n=new i.EncryptedPayload(e.item);if(!n.enc_item_key)return void this.alertService.alert(\"This revision is missing its key and cannot be recovered.\");let o=await this.protocolService.decryptSplitSingle({usesItemsKeyWithKeyLookup:{items:[n]}});if(!(0,i.isErrorDecryptingPayload)(o))return o;if(t&&(o=await this.protocolService.decryptSplitSingle({usesRootKey:{items:[n],key:t}}),!(0,i.isErrorDecryptingPayload)(o)))return o;for(const e of this.itemManager.getDisplayableItemsKeys()){const t=await this.protocolService.decryptSplitSingle({usesItemsKey:{items:[n],key:e}});if(!(0,i.isErrorDecryptingPayload)(t))return t}const s=e.keyParams||e.auth_params;if(!s)return void this.alertService.alert(\"We were unable to decrypt this revision using your current keys, and this revision is missing metadata that would allow us to try different keys to decrypt it. This can likely be fixed with some manual intervention. Please email help@standardnotes.com for assistance.\");const a=this.protocolService.createKeyParams(s);for(const t of this.previousPasswords){if(r.includes(t))continue;r.push(t);const n=await this.protocolService.computeRootKey(t,a);if(!n)continue;const i=await this.payloadByDecryptingResponse(e,n,r);if(i)return i}const c=await this.promptForLegacyPassword();return c&&!this.previousPasswords.includes(c)?(this.previousPasswords.push(c),this.payloadByDecryptingResponse(e,t)):void 0}async promptForLegacyPassword(){const e=new o.Challenge([new o.ChallengePrompt(o.ChallengeValidation.None,\"Previous Password\",void 0,!0)],o.ChallengeReason.Custom,!0,\"Unable to find key for revision. Please enter the account password you may have used at the time of the revision.\"),t=await this.challengeService.promptForChallengeResponse(e);return null==t?void 0:t.getDefaultValue().value}async handlePostAction(e,t){const r=e.access_type===i.ActionAccessType.Decrypted,n={items:[await this.outgoingPayloadForItem(t,r)]};return this.httpService.postAbsolute(e.url,n).then((e=>e)).catch((e=>(console.error(\"Action error response:\",e),this.alertService.alert(\"An issue occurred while processing this action. Please try again.\"),e)))}handleShowAction(e){return this.deviceInterface.openUrl(e.url),{}}async outgoingPayloadForItem(e){if(arguments.length>1&&void 0!==arguments[1]&&arguments[1])return e.payload.ejected();const t=await this.protocolService.encryptSplitSingle({usesItemsKeyWithKeyLookup:{items:[e.payload]}});return(0,i.CreateEncryptedBackupFileContextPayload)(t)}}var u,d=r(64657),p=r(84945),h=r(10715);function y(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}!function(e){e.Get=\"GET\",e.Post=\"POST\",e.Put=\"PUT\",e.Patch=\"PATCH\",e.Delete=\"DELETE\"}(u||(u={}));class v extends o.AbstractService{constructor(e,t,r){super(r),y(this,\"environment\",void 0),y(this,\"appVersion\",void 0),y(this,\"internalEventBus\",void 0),this.environment=e,this.appVersion=t,this.internalEventBus=r}async getAbsolute(e,t,r){return this.runHttp({url:e,params:t,verb:u.Get,authentication:r})}async postAbsolute(e,t,r){return this.runHttp({url:e,params:t,verb:u.Post,authentication:r})}async putAbsolute(e,t,r){return this.runHttp({url:e,params:t,verb:u.Put,authentication:r})}async patchAbsolute(e,t,r){return this.runHttp({url:e,params:t,verb:u.Patch,authentication:r})}async deleteAbsolute(e,t,r){return this.runHttp({url:e,params:t,verb:u.Delete,authentication:r})}async runHttp(e){const t=this.createXmlRequest(e);return this.runRequest(t,this.createRequestBody(e))}createRequestBody(e){return void 0!==e.params&&[u.Post,u.Put,u.Patch,u.Delete].includes(e.verb)?JSON.stringify(e.params):e.rawBytes}createXmlRequest(e){var t;const r=new XMLHttpRequest;if(e.params&&e.verb===u.Get&&Object.keys(e.params).length>0&&(e.url=this.urlForUrlAndParams(e.url,e.params)),r.open(e.verb,e.url,!0),r.responseType=null!==(t=e.responseType)&&void 0!==t?t:\"\",!e.external){r.setRequestHeader(\"X-SNJS-Version\",h.in);const t=\"\".concat(i.Environment[this.environment],\"-\").concat(this.appVersion);r.setRequestHeader(\"X-Application-Version\",t),e.authentication&&r.setRequestHeader(\"Authorization\",\"Bearer \"+e.authentication)}let n=!1;return e.customHeaders&&e.customHeaders.length>0&&e.customHeaders.forEach((e=>{let{key:t,value:i}=e;r.setRequestHeader(t,i),\"Content-Type\"===t&&(n=!0)})),n||e.external||r.setRequestHeader(\"Content-Type\",\"application/json\"),r}async runRequest(e,t){return new Promise(((r,n)=>{e.onreadystatechange=()=>{this.stateChangeHandlerForRequest(e,r,n)},e.send(t)}))}stateChangeHandlerForRequest(e,t,r){var n;if(4!==e.readyState)return;const i=e.status,s={status:i,headers:new Map},a=null===(n=e.getAllResponseHeaders())||void 0===n?void 0:n.trim().split(/[\\r\\n]+/);null==a||a.forEach((e=>{const t=e.split(\": \"),r=t.shift(),n=t.join(\": \");s.headers.set(r,n)}));try{if(i!==p.StatusCode.HttpStatusNoContent){var c,l;let t;const r=(null===(c=s.headers)||void 0===c?void 0:c.get(\"content-type\"))||(null===(l=s.headers)||void 0===l?void 0:l.get(\"Content-Type\"));t=null!=r&&r.includes(\"application/json\")?JSON.parse(e.responseText):e.response,t.data||(s.data=t),(0,d.isString)(t)||Object.assign(s,t)}}catch(e){console.error(e)}if(i>=p.StatusCode.HttpStatusMinSuccess&&i<=p.StatusCode.HttpStatusMaxSuccess)t(s);else{if(i===p.StatusCode.HttpStatusForbidden)s.error={message:o.API_MESSAGE_RATE_LIMITED,status:i};else if(null==s.error)if(null==s.data||null==s.data.error)try{s.error={message:e.responseText||o.UNKNOWN_ERROR,status:i}}catch(e){s.error={message:o.UNKNOWN_ERROR,status:i}}else s.error=s.data.error;r(s)}}urlForUrlAndParams(e,t){const r=Object.keys(t).map((e=>e+\"=\"+encodeURIComponent(t[e]))).join(\"&\");return e.includes(\"?\")?e+\"&\"+r:e+\"?\"+r}}const f=[\"api.standardnotes.com\",\"api-dev.standardnotes.com\",\"sync.standardnotes.org\",\"syncing-server-demo.standardnotes.com\"],g=[\"files.standardnotes.com\",\"files-dev.standardnotes.com\"],m=[\"api-dev.standardnotes.com\",\"api.standardnotes.com\",\"extensions.standardnotes.com\",\"extensions.standardnotes.org\",\"extensions-server-dev.standardnotes.org\",\"extensions-server-dev.standardnotes.com\",\"features.standardnotes.com\"];var S;!function(e){e.Dev=\"https://extensions-server-dev.standardnotes.org\",e.Prod=\"https://extensions.standardnotes.org\"}(S||(S={}));const b=[\"listed.to\"];function P(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function _(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?P(Object(r),!0).forEach((function(t){w(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):P(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function w(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const E={v1:_(_(_(_(_(_({},{closeUploadSession:\"/v1/files/upload/close-session\",createFileValetToken:\"/v1/files/valet-tokens\",deleteFile:\"/v1/files\",downloadFileChunk:\"/v1/files\",startUploadSession:\"/v1/files/upload/create-session\",uploadFileChunk:\"/v1/files/upload/chunk\"}),{checkIntegrity:\"/v1/items/check-integrity\",getSingleItem:e=>\"/v1/items/\".concat(e),itemRevisions:e=>\"/v1/items/\".concat(e,\"/revisions\"),itemRevision:(e,t)=>\"/v1/items/\".concat(e,\"/revisions/\").concat(t),sync:\"/v1/items\"}),{listedRegistration:e=>\"/v1/users/\".concat(e,\"/integrations/listed\")}),{settings:e=>\"/v1/users/\".concat(e,\"/settings\"),setting:(e,t)=>\"/v1/users/\".concat(e,\"/settings/\").concat(t),subscriptionSetting:(e,t)=>\"/v1/users/\".concat(e,\"/subscription-settings/\").concat(t)}),{offlineFeatures:\"/v1/offline/features\",purchase:\"/v1/purchase\",subscription:e=>\"/v1/users/\".concat(e,\"/subscription\"),subscriptionTokens:\"/v1/subscription-tokens\",userFeatures:e=>\"/v1/users/\".concat(e,\"/features\")}),{changeCredentials:e=>\"/v1/users/\".concat(e,\"/attributes/credentials\"),deleteAccount:e=>\"/v1/users/\".concat(e),keyParams:\"/v1/login-params\",refreshSession:\"/v1/sessions/refresh\",register:\"/v1/users\",session:e=>\"/v1/sessions/\".concat(e),sessions:\"/v1/sessions\",signIn:\"/v1/login\",signOut:\"/v1/logout\"}),v2:_(_({},{subscriptions:\"/v2/subscriptions\"}),{keyParams:\"/v2/login-params\",signIn:\"/v2/login\"})};var O=r(24630);function I(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class C extends O.z{static FromApiResponse(e){const t=e.data.session,r=t.access_token,n=t.refresh_token,i=t.access_expiration,o=t.refresh_expiration,s=t.readonly_access;return new C(r,i,n,o,s)}constructor(e,t,r,n,i){super(),I(this,\"accessToken\",void 0),I(this,\"accessExpiration\",void 0),I(this,\"refreshToken\",void 0),I(this,\"refreshExpiration\",void 0),I(this,\"readonlyAccess\",void 0),this.accessToken=e,this.accessExpiration=t,this.refreshToken=r,this.refreshExpiration=n,this.readonlyAccess=i}isReadOnly(){return this.readonlyAccess}getExpireAt(){return this.accessExpiration||0}get authorizationValue(){return this.accessToken}canExpire(){return!0}isExpired(){return this.getExpireAt()<Date.now()}}var A=r(3363),M=r.n(A);const D={Network:{Files:{FailedStartUploadSession:\"Failed to start an upload session.\",FailedCloseUploadSession:\"Failed to close an upload session.\",FailedUploadFileChunk:\"Failed to upload file chunk.\",FailedDownloadFileChunk:\"Failed to download file chunk.\",FailedDeleteFile:\"Failed to delete file.\"}},Confirm:{ProtocolVersionExpired(e){var t;return{Message:\"The encryption version for your account is outdated and requires upgrade. You may proceed with login, but are advised to perform a security update using the web or desktop application.\\n\\n\"+\"If your account was created after \".concat(null===(t=n.ProtocolExpirationDates[e])||void 0===t?void 0:t.toLocaleString(),\", it may not be safe to continue signing in. \")+\"In that case, please discontinue your sign in request and contact support.\\n\\nFor more information, visit standardnotes.com/help/security.\",Title:\"Update Recommended\",ConfirmButton:\"Sign In\"}}},Input:{FileAccountPassword:\"File account password\"}};function T(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function R(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?T(Object(r),!0).forEach((function(t){k(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):T(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function k(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class N extends o.AbstractService{constructor(e,t,r,n,i,o){super(o),k(this,\"httpService\",void 0),k(this,\"storageService\",void 0),k(this,\"host\",void 0),k(this,\"inMemoryStore\",void 0),k(this,\"crypto\",void 0),k(this,\"internalEventBus\",void 0),k(this,\"session\",void 0),k(this,\"user\",void 0),k(this,\"registering\",!1),k(this,\"authenticating\",!1),k(this,\"changing\",!1),k(this,\"refreshingSession\",!1),k(this,\"invalidSessionObserver\",void 0),k(this,\"filesHost\",void 0),this.httpService=e,this.storageService=t,this.host=r,this.inMemoryStore=n,this.crypto=i,this.internalEventBus=o}deinit(){this.httpService=void 0,this.storageService=void 0,this.invalidSessionObserver=void 0,this.session=void 0,super.deinit()}setUser(e){this.user=e}setInvalidSessionObserver(e){this.invalidSessionObserver=e}loadHost(){const e=this.storageService.getValue(o.StorageKey.ServerHost);this.host=e||this.host||window._default_sync_server}async setHost(e){this.host=e,this.storageService.setValue(o.StorageKey.ServerHost,e)}getHost(){return this.host}isThirdPartyHostUsed(){return!function(e){try{const{host:t}=new URL(e);return t.startsWith(\"localhost\")||f.includes(t)||g.includes(t)}catch(e){return!1}}(this.getHost()||\"\")}getFilesHost(){if(!this.filesHost)throw Error(\"Attempting to access undefined filesHost\");return this.filesHost}setSession(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.session=e,t&&this.storageService.setValue(o.StorageKey.Session,e)}getSession(){return this.session}get apiVersion(){return\"20200115\"}params(e){return M()(e,{[p.ApiEndpointParam.ApiVersion]:this.apiVersion})}createErrorResponse(e,t){return{error:{message:e,status:t}}}errorResponseWithFallbackMessage(e,t){var r,n,i;return null!==(r=e.error)&&void 0!==r&&r.message||(e.error=R(R({},e.error),{},{status:null!==(n=null===(i=e.error)||void 0===i?void 0:i.status)&&void 0!==n?n:p.StatusCode.UnknownError,message:t})),e}processMetaObject(e){var t,r;e.auth&&e.auth.userUuid&&e.auth.roles&&this.notifyEvent(o.ApiServiceEvent.MetaReceived,{userUuid:e.auth.userUuid,userRoles:e.auth.roles}),null!==(t=e.server)&&void 0!==t&&t.filesServerUrl&&(this.filesHost=null===(r=e.server)||void 0===r?void 0:r.filesServerUrl)}processResponse(e){e.meta&&this.processMetaObject(e.meta)}async request(e){try{const t=await this.httpService.runHttp(e);return this.processResponse(t),t}catch(t){return this.errorResponseWithFallbackMessage(t,e.fallbackErrorMessage)}}async getAccountKeyParams(e){var t;const r=this.crypto.generateRandomKey(256);this.inMemoryStore.setValue(o.StorageKey.CodeVerifier,r);const n=this.crypto.base64URLEncode(await this.crypto.sha256(r)),i=this.params({email:e.email,code_challenge:n});return void 0!==e.mfaKeyPath&&void 0!==e.mfaCode&&(i[e.mfaKeyPath]=e.mfaCode),this.request({verb:u.Post,url:(0,d.joinPaths)(this.host,E.v2.keyParams),fallbackErrorMessage:o.API_MESSAGE_GENERIC_INVALID_LOGIN,params:i,authentication:null===(t=this.session)||void 0===t?void 0:t.authorizationValue})}async signIn(e){if(this.authenticating)return this.createErrorResponse(o.API_MESSAGE_LOGIN_IN_PROGRESS);this.authenticating=!0;const t=(0,d.joinPaths)(this.host,E.v2.signIn),r=this.params({email:e.email,password:e.serverPassword,ephemeral:e.ephemeral,code_verifier:this.inMemoryStore.getValue(o.StorageKey.CodeVerifier)}),n=await this.request({verb:u.Post,url:t,params:r,fallbackErrorMessage:o.API_MESSAGE_GENERIC_INVALID_LOGIN});return this.authenticating=!1,this.inMemoryStore.removeValue(o.StorageKey.CodeVerifier),n}signOut(){var e;const t=(0,d.joinPaths)(this.host,E.v1.signOut);return this.httpService.postAbsolute(t,void 0,null===(e=this.session)||void 0===e?void 0:e.authorizationValue).catch((e=>e))}async changeCredentials(e){var t;if(this.changing)return this.createErrorResponse(o.API_MESSAGE_CHANGE_CREDENTIALS_IN_PROGRESS);const r=this.preprocessingError();if(r)return r;this.changing=!0;const n=(0,d.joinPaths)(this.host,E.v1.changeCredentials(e.userUuid)),i=this.params(R({current_password:e.currentServerPassword,new_password:e.newServerPassword,new_email:e.newEmail},e.newKeyParams.getPortableValue())),s=await this.httpService.putAbsolute(n,i,null===(t=this.session)||void 0===t?void 0:t.authorizationValue).catch((async e=>p.isErrorResponseExpiredToken(e)?this.refreshSessionThenRetryRequest({verb:u.Put,url:n,params:i}):this.errorResponseWithFallbackMessage(e,o.API_MESSAGE_GENERIC_CHANGE_CREDENTIALS_FAIL)));return this.processResponse(s),this.changing=!1,s}async sync(e,t,r,n){var i;const s=this.preprocessingError();if(s)return s;const a=(0,d.joinPaths)(this.host,E.v1.sync),c=this.params({[p.ApiEndpointParam.SyncPayloads]:e,[p.ApiEndpointParam.LastSyncToken]:t,[p.ApiEndpointParam.PaginationToken]:r,[p.ApiEndpointParam.SyncDlLimit]:n}),l=await this.httpService.postAbsolute(a,c,null===(i=this.session)||void 0===i?void 0:i.authorizationValue).catch((async e=>(this.preprocessAuthenticatedErrorResponse(e),p.isErrorResponseExpiredToken(e)?this.refreshSessionThenRetryRequest({verb:u.Post,url:a,params:c}):this.errorResponseWithFallbackMessage(e,o.API_MESSAGE_GENERIC_SYNC_FAIL))));return this.processResponse(l),l}async refreshSessionThenRetryRequest(e){const t=await this.refreshSession();return t.error||(0,d.isNullOrUndefined)(t.data)?t:this.httpService.runHttp(R(R({},e),{},{authentication:null===(r=this.session)||void 0===r?void 0:r.authorizationValue})).catch((e=>e));var r}async refreshSession(){const e=this.preprocessingError();if(e)return e;this.refreshingSession=!0;const t=(0,d.joinPaths)(this.host,E.v1.refreshSession),r=this.session,n=this.params({access_token:r.accessToken,refresh_token:r.refreshToken}),i=await this.httpService.postAbsolute(t,n).then((async e=>{const t=C.FromApiResponse(e);return await this.setSession(t),this.processResponse(e),e})).catch((e=>(this.preprocessAuthenticatedErrorResponse(e),this.errorResponseWithFallbackMessage(e,o.API_MESSAGE_GENERIC_TOKEN_REFRESH_FAIL))));return this.refreshingSession=!1,i}async getSessionsList(){var e;const t=this.preprocessingError();if(t)return t;const r=(0,d.joinPaths)(this.host,E.v1.sessions),n=await this.httpService.getAbsolute(r,{},null===(e=this.session)||void 0===e?void 0:e.authorizationValue).catch((async e=>(this.preprocessAuthenticatedErrorResponse(e),p.isErrorResponseExpiredToken(e)?this.refreshSessionThenRetryRequest({verb:u.Get,url:r}):this.errorResponseWithFallbackMessage(e,o.API_MESSAGE_GENERIC_SYNC_FAIL))));return this.processResponse(n),n}async deleteSession(e){var t;const r=this.preprocessingError();if(r)return r;const n=(0,d.joinPaths)(this.host,E.v1.session(e)),i=await this.httpService.deleteAbsolute(n,{uuid:e},null===(t=this.session)||void 0===t?void 0:t.authorizationValue).catch((e=>{const t=e;return this.preprocessAuthenticatedErrorResponse(t),p.isErrorResponseExpiredToken(t)?this.refreshSessionThenRetryRequest({verb:u.Delete,url:n}):this.errorResponseWithFallbackMessage(t,o.API_MESSAGE_GENERIC_SYNC_FAIL)}));return this.processResponse(i),i}async getItemRevisions(e){var t;const r=this.preprocessingError();if(r)return r;const n=(0,d.joinPaths)(this.host,E.v1.itemRevisions(e)),i=await this.httpService.getAbsolute(n,void 0,null===(t=this.session)||void 0===t?void 0:t.authorizationValue).catch((e=>(this.preprocessAuthenticatedErrorResponse(e),p.isErrorResponseExpiredToken(e)?this.refreshSessionThenRetryRequest({verb:u.Get,url:n}):this.errorResponseWithFallbackMessage(e,o.API_MESSAGE_GENERIC_SYNC_FAIL))));return this.processResponse(i),i}async getRevision(e,t){var r;const n=this.preprocessingError();if(n)return n;const i=(0,d.joinPaths)(this.host,E.v1.itemRevision(t,e.uuid)),s=await this.httpService.getAbsolute(i,void 0,null===(r=this.session)||void 0===r?void 0:r.authorizationValue).catch((e=>(this.preprocessAuthenticatedErrorResponse(e),p.isErrorResponseExpiredToken(e)?this.refreshSessionThenRetryRequest({verb:u.Get,url:i}):this.errorResponseWithFallbackMessage(e,o.API_MESSAGE_GENERIC_SYNC_FAIL))));return this.processResponse(s),s}async getUserFeatures(e){var t;const r=(0,d.joinPaths)(this.host,E.v1.userFeatures(e)),n=await this.httpService.getAbsolute(r,void 0,null===(t=this.session)||void 0===t?void 0:t.authorizationValue).catch((e=>(this.preprocessAuthenticatedErrorResponse(e),p.isErrorResponseExpiredToken(e)?this.refreshSessionThenRetryRequest({verb:u.Get,url:r}):this.errorResponseWithFallbackMessage(e,o.API_MESSAGE_GENERIC_SYNC_FAIL))));return this.processResponse(n),n}async tokenRefreshableRequest(e){const t=this.preprocessingError();if(t)return t;const r=await this.httpService.runHttp(e).catch((t=>(this.preprocessAuthenticatedErrorResponse(t),p.isErrorResponseExpiredToken(t)?this.refreshSessionThenRetryRequest(e):this.errorResponseWithFallbackMessage(t,e.fallbackErrorMessage))));return this.processResponse(r),r}async listSettings(e){var t;return await this.tokenRefreshableRequest({verb:u.Get,url:(0,d.joinPaths)(this.host,E.v1.settings(e)),fallbackErrorMessage:o.API_MESSAGE_FAILED_GET_SETTINGS,authentication:null===(t=this.session)||void 0===t?void 0:t.authorizationValue})}async updateSetting(e,t,r,n){var i;const s={name:t,value:r,sensitive:n};return this.tokenRefreshableRequest({verb:u.Put,url:(0,d.joinPaths)(this.host,E.v1.settings(e)),authentication:null===(i=this.session)||void 0===i?void 0:i.authorizationValue,fallbackErrorMessage:o.API_MESSAGE_FAILED_UPDATE_SETTINGS,params:s})}async getSetting(e,t){var r;return await this.tokenRefreshableRequest({verb:u.Get,url:(0,d.joinPaths)(this.host,E.v1.setting(e,t.toLowerCase())),authentication:null===(r=this.session)||void 0===r?void 0:r.authorizationValue,fallbackErrorMessage:o.API_MESSAGE_FAILED_GET_SETTINGS})}async getSubscriptionSetting(e,t){var r;return await this.tokenRefreshableRequest({verb:u.Get,url:(0,d.joinPaths)(this.host,E.v1.subscriptionSetting(e,t.toLowerCase())),authentication:null===(r=this.session)||void 0===r?void 0:r.authorizationValue,fallbackErrorMessage:o.API_MESSAGE_FAILED_GET_SETTINGS})}async deleteSetting(e,t){var r;return this.tokenRefreshableRequest({verb:u.Delete,url:(0,d.joinPaths)(this.host,E.v1.setting(e,t)),authentication:null===(r=this.session)||void 0===r?void 0:r.authorizationValue,fallbackErrorMessage:o.API_MESSAGE_FAILED_UPDATE_SETTINGS})}async deleteRevision(e,t){var r;const n=(0,d.joinPaths)(this.host,E.v1.itemRevision(e,t.uuid));return await this.tokenRefreshableRequest({verb:u.Delete,url:n,fallbackErrorMessage:o.API_MESSAGE_FAILED_DELETE_REVISION,authentication:null===(r=this.session)||void 0===r?void 0:r.authorizationValue})}downloadFeatureUrl(e){return this.request({verb:u.Get,url:e,external:!0,fallbackErrorMessage:o.API_MESSAGE_GENERIC_INVALID_LOGIN})}async getSubscription(e){var t;const r=(0,d.joinPaths)(this.host,E.v1.subscription(e));return await this.tokenRefreshableRequest({verb:u.Get,url:r,authentication:null===(t=this.session)||void 0===t?void 0:t.authorizationValue,fallbackErrorMessage:o.API_MESSAGE_FAILED_SUBSCRIPTION_INFO})}async getAvailableSubscriptions(){const e=(0,d.joinPaths)(this.host,E.v2.subscriptions);return await this.request({verb:u.Get,url:e,fallbackErrorMessage:o.API_MESSAGE_FAILED_SUBSCRIPTION_INFO})}async getNewSubscriptionToken(){var e,t;const r=(0,d.joinPaths)(this.host,E.v1.subscriptionTokens);return null===(t=(await this.request({verb:u.Post,url:r,authentication:null===(e=this.session)||void 0===e?void 0:e.authorizationValue,fallbackErrorMessage:o.API_MESSAGE_FAILED_ACCESS_PURCHASE})).data)||void 0===t?void 0:t.token}async downloadOfflineFeaturesFromRepo(e){try{var t;const r=e.offlineFeaturesUrl,n=e.offlineKey;if(!r||!n)throw Error(\"Cannot download offline repo without url and offlineKEy\");const{host:i}=new URL(r);if(!m.includes(i))return new p.ClientDisplayableError(\"This offline features host is not in the trusted allowlist.\");const s=await this.request({verb:u.Get,url:r,fallbackErrorMessage:o.API_MESSAGE_FAILED_OFFLINE_FEATURES,customHeaders:[{key:\"x-offline-token\",value:n}]});return s.error?p.ClientDisplayableError.FromError(s.error):{features:(null===(t=s.data)||void 0===t?void 0:t.features)||[]}}catch(e){return new p.ClientDisplayableError(o.API_MESSAGE_FAILED_OFFLINE_ACTIVATION)}}async registerForListedAccount(){var e;if(!this.user)throw Error(\"Cannot register for Listed without user account.\");return await this.tokenRefreshableRequest({verb:u.Post,url:(0,d.joinPaths)(this.host,E.v1.listedRegistration(this.user.uuid)),fallbackErrorMessage:o.API_MESSAGE_FAILED_LISTED_REGISTRATION,authentication:null===(e=this.session)||void 0===e?void 0:e.authorizationValue})}async createFileValetToken(e,t,r){var n,i,s;const a=(0,d.joinPaths)(this.host,E.v1.createFileValetToken),c={operation:t,resources:[{remoteIdentifier:e,unencryptedFileSize:r||0}]},l=await this.tokenRefreshableRequest({verb:u.Post,url:a,authentication:null===(n=this.session)||void 0===n?void 0:n.authorizationValue,fallbackErrorMessage:o.API_MESSAGE_FAILED_CREATE_FILE_TOKEN,params:c});var h,y;return null!==(i=l.data)&&void 0!==i&&i.success?null===(s=l.data)||void 0===s?void 0:s.valetToken:new p.ClientDisplayableError(null===(h=l.data)||void 0===h?void 0:h.reason,void 0,null===(y=l.data)||void 0===y?void 0:y.reason)}async startUploadSession(e){const t=(0,d.joinPaths)(this.getFilesHost(),E.v1.startUploadSession);return await this.tokenRefreshableRequest({verb:u.Post,url:t,customHeaders:[{key:\"x-valet-token\",value:e}],fallbackErrorMessage:D.Network.Files.FailedStartUploadSession})}async deleteFile(e){const t=(0,d.joinPaths)(this.getFilesHost(),E.v1.deleteFile);return await this.tokenRefreshableRequest({verb:u.Delete,url:t,customHeaders:[{key:\"x-valet-token\",value:e}],fallbackErrorMessage:D.Network.Files.FailedDeleteFile})}async uploadFileBytes(e,t,r){if(0===t)throw Error(\"chunkId must start with 1\");const n=(0,d.joinPaths)(this.getFilesHost(),E.v1.uploadFileChunk);return(await this.tokenRefreshableRequest({verb:u.Post,url:n,rawBytes:r,customHeaders:[{key:\"x-valet-token\",value:e},{key:\"x-chunk-id\",value:t.toString()},{key:\"Content-Type\",value:\"application/octet-stream\"}],fallbackErrorMessage:D.Network.Files.FailedUploadFileChunk})).success}async closeUploadSession(e){const t=(0,d.joinPaths)(this.getFilesHost(),E.v1.closeUploadSession);return(await this.tokenRefreshableRequest({verb:u.Post,url:t,customHeaders:[{key:\"x-valet-token\",value:e}],fallbackErrorMessage:D.Network.Files.FailedCloseUploadSession})).success}getFilesDownloadUrl(){return(0,d.joinPaths)(this.getFilesHost(),E.v1.downloadFileChunk)}async downloadFile(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2?arguments[2]:void 0,n=arguments.length>3?arguments[3]:void 0,i=arguments.length>4?arguments[4]:void 0;const o=this.getFilesDownloadUrl(),s=e.encryptedChunkSizes[t],a=await this.tokenRefreshableRequest({verb:u.Get,url:o,customHeaders:[{key:\"x-valet-token\",value:r},{key:\"x-chunk-size\",value:s.toString()},{key:\"range\",value:\"bytes=\".concat(n,\"-\")}],fallbackErrorMessage:D.Network.Files.FailedDownloadFileChunk,responseType:\"arraybuffer\"}),c=a.headers.get(\"content-range\");if(!c)return new p.ClientDisplayableError(\"Could not obtain content-range header while downloading file chunk\");const l=c.match(/(^[a-zA-Z][\\w]*)\\s+(\\d+)\\s?-\\s?(\\d+)?\\s?\\/?\\s?(\\d+|\\*)?/);if(!l||5!==l.length)return new p.ClientDisplayableError(\"Malformed content-range header in response when downloading file chunk\");const d=+l[2],h=+l[3],y=+l[4],v=new Uint8Array(a.data);return await i(v),h<y-1?this.downloadFile(e,++t,r,d+s,i):void 0}async checkIntegrity(e){var t;return await this.tokenRefreshableRequest({verb:u.Post,url:(0,d.joinPaths)(this.host,E.v1.checkIntegrity),params:{integrityPayloads:e},fallbackErrorMessage:o.API_MESSAGE_GENERIC_INTEGRITY_CHECK_FAIL,authentication:null===(t=this.session)||void 0===t?void 0:t.authorizationValue})}async getSingleItem(e){var t;return await this.tokenRefreshableRequest({verb:u.Get,url:(0,d.joinPaths)(this.host,E.v1.getSingleItem(e)),fallbackErrorMessage:o.API_MESSAGE_GENERIC_SINGLE_ITEM_SYNC_FAIL,authentication:null===(t=this.session)||void 0===t?void 0:t.authorizationValue})}preprocessingError(){return this.refreshingSession?this.createErrorResponse(o.API_MESSAGE_TOKEN_REFRESH_IN_PROGRESS):this.session?void 0:this.createErrorResponse(o.API_MESSAGE_INVALID_SESSION)}preprocessAuthenticatedErrorResponse(e){var t,r;e.status===p.StatusCode.HttpStatusInvalidSession&&this.session&&(null===(t=this.invalidSessionObserver)||void 0===t||t.call(this,(null===(r=e.error)||void 0===r?void 0:r.tag)===n.ErrorTag.RevokedSession))}getDiagnostics(){return Promise.resolve({api:{hasSession:null!=this.session,user:this.user,registering:this.registering,authenticating:this.authenticating,changing:this.changing,refreshingSession:this.refreshingSession,filesHost:this.filesHost,host:this.host}})}}var F=r(91260),j=r(75082);function K(e){if(\"jwt\"in e)return new F.j(e.jwt);{const t=e;return new C(t.accessToken,t.accessExpiration,t.refreshToken,t.refreshExpiration,t.readonlyAccess)}}var x=r(70297);function L(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function U(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?L(Object(r),!0).forEach((function(t){V(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):L(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function V(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const B=8,W=\"missing-params\",G=e=>e.trim().toLowerCase();var H,z;!function(e){e.Restored=\"SessionRestored\",e.Revoked=\"SessionRevoked\"}(H||(H={}));class q extends o.AbstractService{constructor(e,t,r,n,i,o,s,a,c){super(c),V(this,\"diskStorageService\",void 0),V(this,\"apiService\",void 0),V(this,\"userApiService\",void 0),V(this,\"alertService\",void 0),V(this,\"protocolService\",void 0),V(this,\"challengeService\",void 0),V(this,\"webSocketsService\",void 0),V(this,\"httpService\",void 0),V(this,\"internalEventBus\",void 0),V(this,\"user\",void 0),V(this,\"isSessionRenewChallengePresented\",!1),this.diskStorageService=e,this.apiService=t,this.userApiService=r,this.alertService=n,this.protocolService=i,this.challengeService=o,this.webSocketsService=s,this.httpService=a,this.internalEventBus=c,t.setInvalidSessionObserver((e=>{e?this.notifyEvent(H.Revoked):this.reauthenticateInvalidSession()}))}deinit(){this.protocolService=void 0,this.diskStorageService=void 0,this.apiService=void 0,this.alertService=void 0,this.challengeService=void 0,this.webSocketsService=void 0,this.user=void 0,super.deinit()}setUser(e){this.user=e,this.apiService.setUser(e)}async initializeFromDisk(){if(this.setUser(this.diskStorageService.getValue(o.StorageKey.User)),!this.user){const e=this.diskStorageService.getValue(o.StorageKey.LegacyUuid);e&&this.setUser({uuid:e,email:e})}const e=this.diskStorageService.getValue(o.StorageKey.Session);if(e){const t=K(e);this.setSession(t,!1),await this.webSocketsService.startWebSocketConnection()}}setSession(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.httpService.setAuthorizationToken(e.authorizationValue),this.apiService.setSession(e,t)}online(){return!this.offline()}offline(){return(0,d.isNullOrUndefined)(this.apiService.getSession())}getUser(){return this.user}getSureUser(){return this.user}getSession(){return this.apiService.getSession()}async signOut(){this.setUser(void 0);const e=this.apiService.getSession();e&&e.canExpire()&&(await this.apiService.signOut(),this.webSocketsService.closeWebSocketConnection())}isSignedIn(){return null!=this.getUser()}isSignedIntoFirstPartyServer(){return this.isSignedIn()&&!this.apiService.isThirdPartyHostUsed()}async reauthenticateInvalidSession(){var e;let t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],r=arguments.length>1?arguments[1]:void 0;if(this.isSessionRenewChallengePresented)return;this.isSessionRenewChallengePresented=!0;const n=new o.Challenge([new o.ChallengePrompt(o.ChallengeValidation.None,void 0,o.SessionStrings.EmailInputPlaceholder,!1),new o.ChallengePrompt(o.ChallengeValidation.None,void 0,o.SessionStrings.PasswordInputPlaceholder)],o.ChallengeReason.Custom,t,o.SessionStrings.EnterEmailAndPassword,o.SessionStrings.RecoverSession(null===(e=this.getUser())||void 0===e?void 0:e.email));return new Promise((e=>{this.challengeService.addChallengeObserver(n,{onCancel:()=>{this.isSessionRenewChallengePresented=!1},onComplete:()=>{this.isSessionRenewChallengePresented=!1},onNonvalidatedSubmit:async t=>{const i=t.values[0].value,s=t.values[1].value,a=this.protocolService.getAccountKeyParams(),c=await this.signIn(i,s,!1,this.diskStorageService.isEphemeralSession(),null==a?void 0:a.version);c.response.error?(this.challengeService.setValidationStatusForChallenge(n,t.values[1],!1),null==r||r(c.response)):(e(),this.challengeService.completeChallenge(n),this.notifyEvent(H.Restored),this.alertService.alert(o.SessionStrings.SessionRestored))}}),this.challengeService.promptForChallengeResponse(n)}))}async getSubscription(){const e=await this.apiService.getSubscription(this.getSureUser().uuid);return e.error?p.ClientDisplayableError.FromError(e.error):e.data.subscription}async getAvailableSubscriptions(){const e=await this.apiService.getAvailableSubscriptions();return e.error?p.ClientDisplayableError.FromError(e.error):e.data}async promptForMfaValue(){const e=new o.Challenge([new o.ChallengePrompt(o.ChallengeValidation.None,o.ChallengePromptTitle.Mfa,o.SessionStrings.MfaInputPlaceholder,!1,o.ChallengeKeyboardType.Numeric)],o.ChallengeReason.Custom,!0,o.SessionStrings.EnterMfa),t=await this.challengeService.promptForChallengeResponse(e);if(t)return this.challengeService.completeChallenge(e),t.values[0].value}async register(e,t,r){if(t.length<B)throw new x.ApiCallError(x.ErrorMessage.InsufficientPasswordMessage.replace(\"%LENGTH%\",B.toString()));const{wrappingKey:i,canceled:o}=await this.challengeService.getWrappingKeyIfApplicable();if(o)throw new x.ApiCallError(x.ErrorMessage.PasscodeRequired);e=G(e);const s=await this.protocolService.createRootKey(e,t,n.KeyParamsOrigination.Registration),a=s.serverPassword,c=s.keyParams,l=await this.userApiService.register({email:e,serverPassword:a,keyParams:c,ephemeral:r});if(\"error\"in l.data)throw new x.ApiCallError(l.data.error.message);return await this.handleAuthResponse(l.data,s,i),l.data}async retrieveKeyParams(e,t,r){const n=await this.apiService.getAccountKeyParams({email:e,mfaKeyPath:t,mfaCode:r});if(n.error||(0,d.isNullOrUndefined)(n.data)){var i,s;if(r&&await this.alertService.alert(o.SignInStrings.IncorrectMfa),null!==(i=n.error)&&void 0!==i&&null!==(s=i.payload)&&void 0!==s&&s.mfa_key){const t=await this.promptForMfaValue();return t?this.retrieveKeyParams(e,n.error.payload.mfa_key,t):{response:this.apiService.createErrorResponse(o.SignInStrings.SignInCanceledMissingMfa,p.StatusCode.CanceledMfa)}}return{response:n}}const a=(0,j.KeyParamsFromApiResponse)(n,e);return a&&a.version?{keyParams:a,response:n,mfaKeyPath:t,mfaCode:r}:{response:this.apiService.createErrorResponse(o.API_MESSAGE_FALLBACK_LOGIN_FAIL)}}async signIn(e,t){let r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=arguments.length>4?arguments[4]:void 0;const o=await this.performSignIn(e,t,r,n,i);if(o.response.error&&o.response.error.status!==p.StatusCode.LocalValidationError&&o.response.error.status!==p.StatusCode.CanceledMfa){const s=G(e);return s!==e?this.performSignIn(s,t,r,n,i):o}return o}async performSignIn(e,t){let r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],s=arguments.length>4?arguments[4]:void 0;const a=await this.retrieveKeyParams(e);if(a.response.error)return{response:a.response};const c=a.keyParams;if(!this.protocolService.supportedVersions().includes(c.version))return this.protocolService.isVersionNewerThanLibraryVersion(c.version)?{response:this.apiService.createErrorResponse(o.UNSUPPORTED_PROTOCOL_VERSION)}:{response:this.apiService.createErrorResponse(o.EXPIRED_PROTOCOL_VERSION)};if(n.isProtocolVersionExpired(c.version)){const e=this.protocolService.costMinimumForVersion(c.version);if(c.content002.pw_cost<e)return{response:this.apiService.createErrorResponse(o.INVALID_PASSWORD_COST)};const t=D.Confirm.ProtocolVersionExpired(c.version);if(!await this.alertService.confirm(t.Message,t.Title,t.ConfirmButton))return{response:this.apiService.createErrorResponse(o.API_MESSAGE_FALLBACK_LOGIN_FAIL)}}if(!this.protocolService.platformSupportsKeyDerivation(c))return{response:this.apiService.createErrorResponse(o.UNSUPPORTED_KEY_DERIVATION)};if(r&&(s=this.protocolService.getLatestVersion()),!(0,d.isNullOrUndefined)(s)&&!n.leftVersionGreaterThanOrEqualToRight(c.version,s))return{response:this.apiService.createErrorResponse((0,o.StrictSignInFailed)(c.version,s))};const l=await this.protocolService.computeRootKey(t,c);return{response:await this.bypassChecksAndSignInWithRootKey(e,l,i)}}async bypassChecksAndSignInWithRootKey(e,t){let r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const{wrappingKey:n,canceled:s}=await this.challengeService.getWrappingKeyIfApplicable();if(s)return this.apiService.createErrorResponse(o.SignInStrings.PasscodeRequired,p.StatusCode.LocalValidationError);const a=await this.apiService.signIn({email:e,serverPassword:t.serverPassword,ephemeral:r});if(a.error||!a.data)return a;const c=a.data.key_params,l=new j.SNRootKey((0,i.CopyPayloadWithContentOverride)(t.payload,{keyParams:c||t.keyParams.getPortableValue()}));return await this.handleSuccessAuthResponse(a,l,n),a}async changeCredentials(e){const t=this.user.uuid,r=await this.apiService.changeCredentials({userUuid:t,currentServerPassword:e.currentServerPassword,newServerPassword:e.newRootKey.serverPassword,newKeyParams:e.newRootKey.keyParams,newEmail:e.newEmail});return this.processChangeCredentialsResponse(r,e.newRootKey,e.wrappingKey)}async getSessionsList(){const e=await this.apiService.getSessionsList();return e.error||(0,d.isNullOrUndefined)(e.data)||(e.data=e.data.map((e=>U(U({},e),{},{updated_at:new Date(e.updated_at)}))).sort(((e,t)=>e.updated_at<t.updated_at?1:-1))),e}async revokeSession(e){return await this.apiService.deleteSession(e)}async revokeAllOtherSessions(){const e=await this.getSessionsList();var t,r;if(null!=e.error||null==e.data)throw new Error(null!==(t=null===(r=e.error)||void 0===r?void 0:r.message)&&void 0!==t?t:o.API_MESSAGE_GENERIC_SYNC_FAIL);const n=e.data.filter((e=>!e.current));await Promise.all(n.map((e=>this.revokeSession(e.uuid))))}async processChangeCredentialsResponse(e,t,r){var n;return!e.error&&e.data&&await this.handleSuccessAuthResponse(e,t,r),{response:e,keyParams:null===(n=e.data)||void 0===n?void 0:n.key_params}}async createDemoShareToken(){var e;const t=this.getSession();if(!t)return new p.ClientDisplayableError(\"Cannot generate share token without active session\");if(!(t instanceof C))return new p.ClientDisplayableError(\"Cannot generate share token with non-token session\");const r=await this.protocolService.getRootKeyParams(),n={accessToken:t.accessToken,refreshToken:t.refreshToken,accessExpiration:t.accessExpiration,refreshExpiration:t.refreshExpiration,readonlyAccess:!0,masterKey:null===(e=this.protocolService.getRootKey())||void 0===e?void 0:e.masterKey,keyParams:r.content,user:this.getSureUser(),host:this.apiService.getHost()};return this.protocolService.crypto.base64Encode(JSON.stringify(n))}decodeDemoShareToken(e){const t=this.protocolService.crypto.base64Decode(e);return JSON.parse(t)}async populateSessionFromDemoShareToken(e){const t=this.decodeDemoShareToken(e),r=(0,j.CreateNewRootKey)({masterKey:t.masterKey,keyParams:t.keyParams,version:t.keyParams.version}),n=t.user,i=new C(t.accessToken,t.accessExpiration,t.refreshToken,t.refreshExpiration,t.readonlyAccess);await this.populateSession(r,n,i,t.host)}async populateSession(e,t,r,n,i){await this.protocolService.setRootKey(e,i),this.setUser(t),this.diskStorageService.setValue(o.StorageKey.User,t),this.apiService.setHost(n),this.httpService.setHost(n),this.setSession(r),await this.webSocketsService.startWebSocketConnection()}async handleAuthResponse(e,t,r){const n=new C(e.session.access_token,e.session.access_expiration,e.session.refresh_token,e.session.refresh_expiration,e.session.readonly_access);await this.populateSession(t,e.user,n,this.apiService.getHost(),r)}async handleSuccessAuthResponse(e,t,r){const{data:n}=e,i=n.user;if(null!=n.token){const e=new F.j(n.token);await this.populateSession(t,i,e,this.apiService.getHost(),r)}else if(n.session){const n=C.FromApiResponse(e);await this.populateSession(t,i,n,this.apiService.getHost(),r)}}getDiagnostics(){return Promise.resolve({session:{isSessionRenewChallengePresented:this.isSessionRenewChallengePresented,online:this.online(),offline:this.offline(),isSignedIn:this.isSignedIn(),isSignedIntoFirstPartyServer:this.isSignedIntoFirstPartyServer()}})}}function Y(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}!function(e){e.UserRoleMessageReceived=\"WebSocketMessageReceived\"}(z||(z={}));class J extends o.AbstractService{constructor(e,t,r,n){super(n),Y(this,\"storageService\",void 0),Y(this,\"webSocketUrl\",void 0),Y(this,\"webSocketApiService\",void 0),Y(this,\"internalEventBus\",void 0),Y(this,\"webSocket\",void 0),this.storageService=e,this.webSocketUrl=t,this.webSocketApiService=r,this.internalEventBus=n}setWebSocketUrl(e){this.webSocketUrl=e,this.storageService.setValue(o.StorageKey.WebSocketUrl,e)}loadWebSocketUrl(){const e=this.storageService.getValue(o.StorageKey.WebSocketUrl);this.webSocketUrl=e||this.webSocketUrl||window._websocket_url}async startWebSocketConnection(){const e=await this.createWebSocketConnectionToken();if(void 0!==e&&this.webSocketUrl)try{this.webSocket=new WebSocket(\"\".concat(this.webSocketUrl,\"?authToken=\").concat(e)),this.webSocket.onmessage=this.onWebSocketMessage.bind(this),this.webSocket.onclose=this.onWebSocketClose.bind(this)}catch(e){console.error(\"Error starting WebSocket connection\",e)}}closeWebSocketConnection(){var e;null===(e=this.webSocket)||void 0===e||e.close()}onWebSocketMessage(e){const t=JSON.parse(e.data);this.notifyEvent(z.UserRoleMessageReceived,t)}onWebSocketClose(){this.webSocket=void 0}async createWebSocketConnectionToken(){try{return(await this.webSocketApiService.createConnectionToken()).data.token}catch(e){return void console.error(e.message)}}deinit(){super.deinit(),this.storageService=void 0,this.webSocketApiService=void 0,this.closeWebSocketConnection()}}function Q(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class X extends o.AbstractService{constructor(e,t){super(t),Q(this,\"application\",void 0),Q(this,\"internalEventBus\",void 0),Q(this,\"unsubApp\",void 0),this.application=e,this.internalEventBus=t,this.addAppEventObserverAfterSubclassesFinishConstructing()}deinit(){this.application=void 0,this.unsubApp(),this.unsubApp=void 0,super.deinit()}addAppEventObserverAfterSubclassesFinishConstructing(){setTimeout((()=>{this.addAppEventObserver()}),0)}addAppEventObserver(){this.application.isStarted()&&this.onAppStart(),this.application.isLaunched()&&this.onAppLaunch(),this.unsubApp=this.application.addEventObserver((async e=>{await this.onAppEvent(e),e===o.ApplicationEvent.Started?this.onAppStart():e===o.ApplicationEvent.Launched?this.onAppLaunch():e===o.ApplicationEvent.CompletedFullSync?this.onAppFullSync():e===o.ApplicationEvent.CompletedIncrementalSync?this.onAppIncrementalSync():e===o.ApplicationEvent.KeyStatusChanged&&this.onAppKeyChange()}))}async onAppEvent(e){}async onAppStart(){}async onAppLaunch(){}async onAppKeyChange(){}onAppIncrementalSync(){}onAppFullSync(){}}function $(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class Z{constructor(e,t,r){$(this,\"challenge\",void 0),$(this,\"values\",void 0),$(this,\"artifacts\",void 0),this.challenge=e,this.values=t,this.artifacts=r,Object.freeze(this)}getValueForType(e){const t=this.values.find((t=>t.prompt.validation===e));if((0,d.isNullOrUndefined)(t))throw Error(\"Could not find value for validation type \"+e);return t}getDefaultValue(){if(this.values.length>1)throw Error(\"Attempting to retrieve default response value when more than one value exists\");return this.values[0]}}function ee(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class te{constructor(e,t,r,n,i,o){ee(this,\"challenge\",void 0),ee(this,\"onValidValue\",void 0),ee(this,\"onInvalidValue\",void 0),ee(this,\"onNonvalidatedSubmit\",void 0),ee(this,\"onComplete\",void 0),ee(this,\"onCancel\",void 0),ee(this,\"nonvalidatedValues\",[]),ee(this,\"validValues\",[]),ee(this,\"invalidValues\",[]),ee(this,\"artifacts\",{}),this.challenge=e,this.onValidValue=t,this.onInvalidValue=r,this.onNonvalidatedSubmit=n,this.onComplete=i,this.onCancel=o}deinit(){this.challenge=void 0,this.onValidValue=void 0,this.onInvalidValue=void 0,this.onNonvalidatedSubmit=void 0,this.onComplete=void 0,this.onCancel=void 0,this.nonvalidatedValues=void 0,this.validValues=void 0,this.invalidValues=void 0,this.artifacts=void 0}complete(e){var t;e||(e=new Z(this.challenge,this.validValues,this.artifacts)),null===(t=this.onComplete)||void 0===t||t.call(this,e)}nonvalidatedSubmit(){var e;const t=new Z(this.challenge,this.nonvalidatedValues.slice(),this.artifacts);null===(e=this.onNonvalidatedSubmit)||void 0===e||e.call(this,t),this.nonvalidatedValues=[]}cancel(){var e;null===(e=this.onCancel)||void 0===e||e.call(this)}isFinished(){return this.validValues.length===this.challenge.prompts.length}nonvalidatedPrompts(){return this.challenge.prompts.filter((e=>!e.validates))}addNonvalidatedValue(e){const t=this.nonvalidatedValues,r=t.find((t=>t.prompt.id===e.prompt.id));r&&(0,d.removeFromArray)(t,r),t.push(e),this.nonvalidatedValues.length===this.nonvalidatedPrompts().length&&this.nonvalidatedSubmit()}setValueStatus(e,t,r){const n=t?this.validValues:this.invalidValues,i=n.find((t=>t.prompt.validation===e.prompt.validation));var o,s;i&&(0,d.removeFromArray)(n,i),n.push(e),Object.assign(this.artifacts,r),this.isFinished()?this.complete():t?null===(o=this.onValidValue)||void 0===o||o.call(this,e):null===(s=this.onInvalidValue)||void 0===s||s.call(this,e)}}var re,ne=r(44412);function ie(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}!function(e){e.UnprotectedSessionBegan=\"UnprotectedSessionBegan\",e.UnprotectedSessionExpired=\"UnprotectedSessionExpired\"}(re||(re={}));const oe=30;var se;function ae(e){return\"number\"==typeof e&&Object.values(se).includes(e)}!function(e){e[e.OneMinute=60]=\"OneMinute\",e[e.FiveMinutes=300]=\"FiveMinutes\",e[e.OneHour=3600]=\"OneHour\",e[e.OneWeek=604800]=\"OneWeek\"}(se||(se={}));const ce=[{valueInSeconds:se.OneMinute,label:\"1 Minute\"},{valueInSeconds:se.FiveMinutes,label:\"5 Minutes\"},{valueInSeconds:se.OneHour,label:\"1 Hour\"},{valueInSeconds:se.OneWeek,label:\"1 Week\"}];class le extends o.AbstractService{constructor(e,t,r,n){super(n),ie(this,\"protocolService\",void 0),ie(this,\"challengeService\",void 0),ie(this,\"storageService\",void 0),ie(this,\"internalEventBus\",void 0),ie(this,\"sessionExpiryTimeout\",-1),ie(this,\"mobilePasscodeTiming\",o.MobileUnlockTiming.OnQuit),ie(this,\"mobileBiometricsTiming\",o.MobileUnlockTiming.OnQuit),this.protocolService=e,this.challengeService=t,this.storageService=r,this.internalEventBus=n}deinit(){clearTimeout(this.sessionExpiryTimeout),this.protocolService=void 0,this.challengeService=void 0,this.storageService=void 0,super.deinit()}handleApplicationStage(e){return e===o.ApplicationStage.LoadedDatabase_12&&(this.updateSessionExpiryTimer(this.getSessionExpiryDate()),this.mobilePasscodeTiming=this.getMobilePasscodeTiming(),this.mobileBiometricsTiming=this.getMobileBiometricsTiming()),Promise.resolve()}hasProtectionSources(){return this.protocolService.hasAccount()||this.protocolService.hasPasscode()||this.hasBiometricsEnabled()}hasUnprotectedAccessSession(){return!this.hasProtectionSources()||this.getSessionExpiryDate()>new Date}hasBiometricsEnabled(){const e=this.storageService.getValue(o.StorageKey.BiometricsState,o.StorageValueModes.Nonwrapped);return Boolean(e)}enableBiometrics(){return this.hasBiometricsEnabled()?(ne.W.onError(Error(\"Tried to enable biometrics when they already are enabled.\")),!1):(this.storageService.setValue(o.StorageKey.BiometricsState,!0,o.StorageValueModes.Nonwrapped),!0)}async disableBiometrics(){return this.hasBiometricsEnabled()?!!await this.validateOrRenewSession(o.ChallengeReason.DisableBiometrics)&&(this.storageService.setValue(o.StorageKey.BiometricsState,!1,o.StorageValueModes.Nonwrapped),!0):(ne.W.onError(Error(\"Tried to disable biometrics when they already are disabled.\")),!1)}createLaunchChallenge(){const e=[];return this.hasBiometricsEnabled()&&e.push(new o.ChallengePrompt(o.ChallengeValidation.Biometric)),this.protocolService.hasPasscode()&&e.push(new o.ChallengePrompt(o.ChallengeValidation.LocalPasscode)),e.length>0?new o.Challenge(e,o.ChallengeReason.ApplicationUnlock,!1):void 0}async authorizeProtectedActionForItems(e,t){let r;const n=[];for(const i of e){const e=i.protected&&!this.hasUnprotectedAccessSession();e&&!r&&(r=this.validateOrRenewSession(t)),e&&!await r||n.push(i)}return n}async authorizeItemAccess(e){return!e.protected||this.authorizeAction(e.content_type===n.ContentType.Note?o.ChallengeReason.AccessProtectedNote:o.ChallengeReason.AccessProtectedFile,{fallBackToAccountPassword:!0,requireAccountPassword:!1,forcePrompt:!1})}authorizeAddingPasscode(){return this.authorizeAction(o.ChallengeReason.AddPasscode,{fallBackToAccountPassword:!0,requireAccountPassword:!1,forcePrompt:!1})}authorizeChangingPasscode(){return this.authorizeAction(o.ChallengeReason.ChangePasscode,{fallBackToAccountPassword:!0,requireAccountPassword:!1,forcePrompt:!1})}authorizeRemovingPasscode(){return this.authorizeAction(o.ChallengeReason.RemovePasscode,{fallBackToAccountPassword:!0,requireAccountPassword:!1,forcePrompt:!1})}authorizeSearchingProtectedNotesText(){return this.authorizeAction(o.ChallengeReason.SearchProtectedNotesText,{fallBackToAccountPassword:!0,requireAccountPassword:!1,forcePrompt:!1})}authorizeFileImport(){return this.authorizeAction(o.ChallengeReason.ImportFile,{fallBackToAccountPassword:!0,requireAccountPassword:!1,forcePrompt:!1})}async authorizeBackupCreation(){return this.authorizeAction(o.ChallengeReason.ExportBackup,{fallBackToAccountPassword:!0,requireAccountPassword:!1,forcePrompt:!1})}async authorizeMfaDisable(){return this.authorizeAction(o.ChallengeReason.DisableMfa,{fallBackToAccountPassword:!0,requireAccountPassword:!0,forcePrompt:!1})}async authorizeAutolockIntervalChange(){return this.authorizeAction(o.ChallengeReason.ChangeAutolockInterval,{fallBackToAccountPassword:!0,requireAccountPassword:!1,forcePrompt:!1})}async authorizeSessionRevoking(){return this.authorizeAction(o.ChallengeReason.RevokeSession,{fallBackToAccountPassword:!0,requireAccountPassword:!1,forcePrompt:!1})}async authorizeListedPublishing(){return this.authorizeAction(o.ChallengeReason.AuthorizeNoteForListed,{fallBackToAccountPassword:!0,requireAccountPassword:!1,forcePrompt:!0})}async authorizeAction(e,t){return this.validateOrRenewSession(e,t)}getMobilePasscodeTimingOptions(){return[{title:\"Immediately\",key:o.MobileUnlockTiming.Immediately,selected:this.mobilePasscodeTiming===o.MobileUnlockTiming.Immediately},{title:\"On Quit\",key:o.MobileUnlockTiming.OnQuit,selected:this.mobilePasscodeTiming===o.MobileUnlockTiming.OnQuit}]}getMobileBiometricsTimingOptions(){return[{title:\"Immediately\",key:o.MobileUnlockTiming.Immediately,selected:this.mobileBiometricsTiming===o.MobileUnlockTiming.Immediately},{title:\"On Quit\",key:o.MobileUnlockTiming.OnQuit,selected:this.mobileBiometricsTiming===o.MobileUnlockTiming.OnQuit}]}getMobileBiometricsTiming(){return this.storageService.getValue(o.StorageKey.MobileBiometricsTiming,o.StorageValueModes.Nonwrapped,o.MobileUnlockTiming.OnQuit)}getMobilePasscodeTiming(){return this.storageService.getValue(o.StorageKey.MobilePasscodeTiming,o.StorageValueModes.Nonwrapped,o.MobileUnlockTiming.OnQuit)}setMobileBiometricsTiming(e){this.storageService.setValue(o.StorageKey.MobileBiometricsTiming,e,o.StorageValueModes.Nonwrapped),this.mobileBiometricsTiming=e}setMobilePasscodeTiming(e){this.storageService.setValue(o.StorageKey.MobilePasscodeTiming,e,o.StorageValueModes.Nonwrapped),this.mobilePasscodeTiming=e}setMobileScreenshotPrivacyEnabled(e){return this.storageService.setValue(o.StorageKey.MobileScreenshotPrivacyEnabled,e,o.StorageValueModes.Default)}getMobileScreenshotPrivacyEnabled(){return this.storageService.getValue(o.StorageKey.MobileScreenshotPrivacyEnabled,o.StorageValueModes.Default,!1)}async validateOrRenewSession(e){let{fallBackToAccountPassword:t=!0,requireAccountPassword:r=!1,forcePrompt:n=!1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this.getSessionExpiryDate()>new Date&&!n)return!0;const i=[];if(this.hasBiometricsEnabled()&&i.push(new o.ChallengePrompt(o.ChallengeValidation.Biometric)),this.protocolService.hasPasscode()&&i.push(new o.ChallengePrompt(o.ChallengeValidation.LocalPasscode)),r){if(!this.protocolService.hasAccount())throw Error(\"Requiring account password for challenge with no account\");i.push(new o.ChallengePrompt(o.ChallengeValidation.AccountPassword))}if(0===i.length){if(!t||!this.protocolService.hasAccount())return!0;i.push(new o.ChallengePrompt(o.ChallengeValidation.AccountPassword))}const s=this.getLastSessionLength(),a=ae(s)?s:se.OneMinute;i.push(new o.ChallengePrompt(o.ChallengeValidation.ProtectionSessionDuration,void 0,void 0,void 0,void 0,a));const c=await this.challengeService.promptForChallengeResponse(new o.Challenge(i,e,!0));if(c){var l;const e=null===(l=c.values.find((e=>e.prompt.validation===o.ChallengeValidation.ProtectionSessionDuration)))||void 0===l?void 0:l.value;return(0,d.isNullOrUndefined)(e)?ne.W.error(Error(\"No valid protection session length found. Got \"+e)):await this.setSessionLength(e),!0}return!1}getSessionExpiryDate(){const e=this.storageService.getValue(o.StorageKey.ProtectionExpirey);return e?new Date(e):new Date}clearSession(){return this.setSessionExpiryDate(new Date),this.notifyEvent(re.UnprotectedSessionExpired)}setSessionExpiryDate(e){this.storageService.setValue(o.StorageKey.ProtectionExpirey,e)}getLastSessionLength(){return this.storageService.getValue(o.StorageKey.ProtectionSessionLength)}setSessionLength(e){this.storageService.setValue(o.StorageKey.ProtectionSessionLength,e);const t=new Date;t.setSeconds(t.getSeconds()+e),this.setSessionExpiryDate(t),this.updateSessionExpiryTimer(t),this.notifyEvent(re.UnprotectedSessionBegan)}updateSessionExpiryTimer(e){clearTimeout(this.sessionExpiryTimeout),this.sessionExpiryTimeout=setTimeout((()=>{this.clearSession()}),e.getTime()-Date.now())}getDiagnostics(){return Promise.resolve({protections:{getSessionExpiryDate:this.getSessionExpiryDate(),getLastSessionLength:this.getLastSessionLength(),hasProtectionSources:this.hasProtectionSources(),hasUnprotectedAccessSession:this.hasUnprotectedAccessSession(),hasBiometricsEnabled:this.hasBiometricsEnabled()}})}}function ue(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const de=e=>{e.onCancel=void 0,e.onComplete=void 0,e.onValidValue=void 0,e.onInvalidValue=void 0,e.onNonvalidatedSubmit=void 0};class pe extends o.AbstractService{constructor(e,t,r){super(r),ue(this,\"storageService\",void 0),ue(this,\"protocolService\",void 0),ue(this,\"internalEventBus\",void 0),ue(this,\"challengeOperations\",{}),ue(this,\"sendChallenge\",void 0),ue(this,\"challengeObservers\",{}),this.storageService=e,this.protocolService=t,this.internalEventBus=r}deinit(){this.storageService=void 0,this.protocolService=void 0,this.sendChallenge=void 0,this.challengeOperations=void 0,this.challengeObservers=void 0,super.deinit()}promptForChallengeResponse(e){return new Promise((t=>{this.createOrGetChallengeOperation(e,t),this.sendChallenge(e)}))}createChallenge(e,t,r,n,i){return new o.Challenge(e,t,r,n,i)}async validateChallengeValue(e){switch(e.prompt.validation){case o.ChallengeValidation.LocalPasscode:return this.protocolService.validatePasscode(e.value);case o.ChallengeValidation.AccountPassword:return this.protocolService.validateAccountPassword(e.value);case o.ChallengeValidation.Biometric:return{valid:!0===e.value};case o.ChallengeValidation.ProtectionSessionDuration:return{valid:ae(e.value)};default:throw Error(\"Unhandled validation mode \".concat(e.prompt.validation))}}async promptForCorrectPasscode(e){const t=new o.Challenge([new o.ChallengePrompt(o.ChallengeValidation.LocalPasscode)],e,!0),r=await this.promptForChallengeResponse(t);if(r)return r.getValueForType(o.ChallengeValidation.LocalPasscode).value}async getWrappingKeyIfApplicable(e){return this.protocolService.hasPasscode()?e||(e=await this.promptForCorrectPasscode(o.ChallengeReason.ResaveRootKey))?{wrappingKey:await this.protocolService.computeWrappingKey(e)}:{canceled:!0}:{}}isPasscodeLocked(){return this.protocolService.isPasscodeLocked()}addChallengeObserver(e,t){const r=this.challengeObservers[e.id]||[];return r.push(t),this.challengeObservers[e.id]=r,()=>{de(t),(0,d.removeFromArray)(r,t)}}createOrGetChallengeOperation(e,t){let r=this.getChallengeOperation(e);return r||(r=new te(e,(t=>{this.onChallengeValidValue(e,t)}),(t=>{this.onChallengeInvalidValue(e,t)}),(r=>{this.onChallengeNonvalidatedSubmit(e,r),t(r)}),(r=>{this.onChallengeComplete(e,r),t(r)}),(()=>{this.onChallengeCancel(e),t(void 0)})),this.challengeOperations[e.id]=r),r}performOnObservers(e,t){const r=this.challengeObservers[e.id]||[];for(const e of r)t(e)}onChallengeValidValue(e,t){this.performOnObservers(e,(e=>{var r;null===(r=e.onValidValue)||void 0===r||r.call(e,t)}))}onChallengeInvalidValue(e,t){this.performOnObservers(e,(e=>{var r;null===(r=e.onInvalidValue)||void 0===r||r.call(e,t)}))}onChallengeNonvalidatedSubmit(e,t){this.performOnObservers(e,(e=>{var r;null===(r=e.onNonvalidatedSubmit)||void 0===r||r.call(e,t)}))}onChallengeComplete(e,t){this.performOnObservers(e,(e=>{var r;null===(r=e.onComplete)||void 0===r||r.call(e,t)}))}onChallengeCancel(e){this.performOnObservers(e,(e=>{var t;null===(t=e.onCancel)||void 0===t||t.call(e)}))}getChallengeOperation(e){return this.challengeOperations[e.id]}deleteChallengeOperation(e){const t=e.challenge;e.deinit(),delete this.challengeOperations[t.id]}cancelChallenge(e){const t=this.challengeOperations[e.id];t.cancel(),this.deleteChallengeOperation(t)}completeChallenge(e){const t=this.challengeOperations[e.id];t.complete(),this.deleteChallengeOperation(t)}async submitValuesForChallenge(e,t){if(0===t.length)throw Error(\"Attempting to submit 0 values for challenge\");for(const r of t)if(r.prompt.validates){const{valid:t,artifacts:n}=await this.validateChallengeValue(r);this.setValidationStatusForChallenge(e,r,t,n)}else this.getChallengeOperation(e).addNonvalidatedValue(r)}setValidationStatusForChallenge(e,t,r,n){const i=this.getChallengeOperation(e);if(i.setValueStatus(t,r,n),i.isFinished()){this.deleteChallengeOperation(i);const t=this.challengeObservers[e.id];t.forEach(de),t.length=0,delete this.challengeObservers[e.id]}}}var he=r(70295);const ye=Object.freeze([he.LegacyFileSafeIdentifier,he.FeatureIdentifier.DeprecatedFileSafe,he.FeatureIdentifier.DeprecatedBoldEditor]),ve=Object.freeze([n.ContentType.FilesafeCredentials,n.ContentType.FilesafeFileMetadata,n.ContentType.FilesafeIntegration]);var fe=r(3270),ge=r.n(fe),me=r(14293),Se=r.n(me),be=r(1494),Pe=r.n(be),_e=r(49148);function we(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Ee(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?we(Object(r),!0).forEach((function(t){Oe(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):we(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Oe(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const Ie=[he.ComponentAction.SaveItems,he.ComponentAction.AssociateItem,he.ComponentAction.DeassociateItem,he.ComponentAction.CreateItem,he.ComponentAction.CreateItems,he.ComponentAction.DeleteItems,he.ComponentAction.SetComponentData];class Ce{constructor(e,t,r,s,a,c,l,u,p,h,y,v){Oe(this,\"component\",void 0),Oe(this,\"itemManager\",void 0),Oe(this,\"syncService\",void 0),Oe(this,\"alertService\",void 0),Oe(this,\"preferencesSerivce\",void 0),Oe(this,\"environment\",void 0),Oe(this,\"platform\",void 0),Oe(this,\"componentManagerFunctions\",void 0),Oe(this,\"url\",void 0),Oe(this,\"contextItemUuid\",void 0),Oe(this,\"streamItems\",void 0),Oe(this,\"streamContextItemOriginalMessage\",void 0),Oe(this,\"streamItemsOriginalMessage\",void 0),Oe(this,\"removeItemObserver\",void 0),Oe(this,\"loggingEnabled\",!1),Oe(this,\"identifier\",(0,d.nonSecureRandomIdentifier)()),Oe(this,\"actionObservers\",[]),Oe(this,\"overrideContextItem\",void 0),Oe(this,\"featureStatus\",void 0),Oe(this,\"removeFeaturesObserver\",void 0),Oe(this,\"eventObservers\",[]),Oe(this,\"dealloced\",!1),Oe(this,\"window\",void 0),Oe(this,\"hidden\",!1),Oe(this,\"readonly\",!1),Oe(this,\"lockReadonly\",!1),Oe(this,\"sessionKey\",void 0),this.component=e,this.itemManager=t,this.syncService=r,this.alertService=s,this.preferencesSerivce=a,this.environment=l,this.platform=u,this.componentManagerFunctions=p,this.url=h,this.contextItemUuid=y,this.removeItemObserver=this.itemManager.addObserver(n.ContentType.Any,(e=>{let{changed:t,inserted:r,removed:n,source:i,sourceKey:o}=e;if(this.dealloced)return;const s=[...t,...r,...n];this.handleChangesInItems(s,i,o)})),v&&this.actionObservers.push(v),this.featureStatus=c.getFeatureStatus(e.identifier),this.removeFeaturesObserver=c.addEventObserver((t=>{if(!this.dealloced&&t===o.FeaturesEvent.FeaturesUpdated){const t=c.getFeatureStatus(e.identifier);t!==this.featureStatus&&(this.featureStatus=t,this.notifyEventObservers(i.ComponentViewerEvent.FeatureStatusUpdated))}})),this.log(\"Constructor\",this)}get isDesktop(){return this.environment===i.Environment.Desktop}get isMobile(){return this.environment===i.Environment.Mobile}destroy(){this.log(\"Destroying\",this),this.deinit()}deinit(){this.dealloced=!0,this.component=void 0,this.itemManager=void 0,this.syncService=void 0,this.alertService=void 0,this.preferencesSerivce=void 0,this.componentManagerFunctions=void 0,this.eventObservers.length=0,this.actionObservers.length=0,this.removeFeaturesObserver(),this.removeFeaturesObserver=void 0,this.removeItemObserver(),this.removeItemObserver=void 0}addEventObserver(e){this.eventObservers.push(e);const t=this.eventObservers;return()=>{(0,d.removeFromArray)(t,e)}}notifyEventObservers(e){for(const t of this.eventObservers)t(e)}addActionObserver(e){this.actionObservers.push(e);const t=this.actionObservers;return()=>{(0,d.removeFromArray)(t,e)}}setReadonly(e){if(this.lockReadonly)throw Error(\"Attempting to set readonly on lockedReadonly component viewer\");this.readonly=e}get componentUuid(){return this.component.uuid}getFeatureStatus(){return this.featureStatus}isOfflineRestricted(){return this.component.offlineOnly&&!this.isDesktop}isNativeFeature(){return!!(0,he.FindNativeFeature)(this.component.identifier)}hasUrlError(){return!(this.isNativeFeature()||this.isDesktop&&this.component.local_url||this.component.hasValidHostedUrl())}shouldRender(){return null==this.getError()}getError(){return this.isOfflineRestricted()?o.ComponentViewerError.OfflineRestricted:this.hasUrlError()?o.ComponentViewerError.MissingUrl:void 0}updateOurComponentRefFromChangedItems(e){const t=e.find((e=>e.uuid===this.component.uuid));t&&(0,i.isDecryptedItem)(t)&&(this.component=t)}handleChangesInItems(e,t,r){const n=e.filter(i.isNotEncryptedItem),o=n.filter(i.isDecryptedItem);if(this.updateOurComponentRefFromChangedItems(o),!r||r!==this.component.uuid){if(this.streamItems){const e=n.filter((e=>{var t;return null===(t=this.streamItems)||void 0===t?void 0:t.includes(e.content_type)}));e.length>0&&this.sendManyItemsThroughBridge(e)}if(this.streamContextItemOriginalMessage){const e=ge()(o,{uuid:this.contextItemUuid});e&&this.sendContextItemThroughBridge(e,t)}}}sendManyItemsThroughBridge(e){const t=[{name:he.ComponentAction.StreamItems,content_types:this.streamItems.sort()}];this.componentManagerFunctions.runWithPermissions(this.component.uuid,t,(()=>{this.sendItemsInReply(e,this.streamItemsOriginalMessage)}))}sendContextItemThroughBridge(e,t){const r=[{name:he.ComponentAction.StreamContextItem}];this.componentManagerFunctions.runWithPermissions(this.component.uuid,r,(()=>{this.log(\"Send context item in reply\",\"component:\",this.component,\"item: \",e,\"originalMessage: \",this.streamContextItemOriginalMessage);const r={item:this.jsonForItem(e,t)};this.replyToMessage(this.streamContextItemOriginalMessage,r)}))}log(e){if(this.loggingEnabled){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];(0,d.log)(\"ComponentViewer\",e,r)}}sendItemsInReply(e,t,r){this.log(\"Send items in reply\",this.component,e,t);const n={},i=e.map((e=>this.jsonForItem(e,r)));n.items=i,this.replyToMessage(t,n)}jsonForItem(e,t){const r=t===i.PayloadEmitSource.RemoteSaved||t===i.PayloadEmitSource.OfflineSyncSaved||t===i.PayloadEmitSource.PreSyncSave,n={uuid:e.uuid,content_type:e.content_type,created_at:e.created_at,updated_at:e.serverUpdatedAt,isMetadataUpdate:r};if((0,i.isDecryptedItem)(e)){n.content=this.contentForItem(e);const t=(e.getDomainData(i.ComponentDataDomain)||{})[this.component.getClientDataKey()]||{};n.clientData=t}else n.deleted=!0;return this.responseItemsByRemovingPrivateProperties([n])[0]}contentForItem(e){if((0,i.isNote)(e)){const t=e.content,r=null!=e.spellcheck?e.spellcheck:this.preferencesSerivce.getValue(i.PrefKey.EditorSpellcheck,!0);return Ee(Ee({},t),{},{spellcheck:r})}return e.content}replyToMessage(e,t){const r={action:he.ComponentAction.Reply,original:e,data:t};this.sendMessage(r)}sendMessage(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const r=[he.ComponentAction.ComponentRegistered,he.ComponentAction.ActivateThemes];if(this.hidden&&!r.includes(e.action))return void this.log(\"Component disabled for current item, ignoring messages.\",this.component.name);if(!this.window&&e.action===he.ComponentAction.Reply)return void this.log(\"Component has been deallocated in between message send and reply\",this.component,e);this.log(\"Send message to component\",this.component,\"message: \",e);let n=this.url;n&&this.window?(n.startsWith(\"http\")||n.startsWith(\"file\")||(n=window.location.href+n),this.window.postMessage(this.isMobile?JSON.stringify(e):e,n)):t&&this.alertService.alert(\"Standard Notes is trying to communicate with \".concat(this.component.name,\", \")+\"but an error is occurring. Please restart this extension and try again.\")}responseItemsByRemovingPrivateProperties(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=[\"autoupdateDisabled\",\"permissions\",\"active\"];return t&&(r=r.concat([\"hosted_url\",\"local_url\"])),e.map((e=>{const n=r.slice();if(t&&n.push(\"url\"),!e.content||(0,d.isString)(e.content))return e;let i={};for(const[t,r]of Object.entries(e.content))n.includes(t)||(i=Ee(Ee({},i),{},{[t]:r}));return Ee(Ee({},e),{},{content:i})}))}getWindow(){return this.window}setWindow(e){if(this.window)throw Error(\"Attempting to override component viewer window. Create a new component viewer instead.\");this.log(\"setWindow\",\"component: \",this.component,\"window: \",e),this.window=e,this.sessionKey=d.UuidGenerator.GenerateUuid(),this.sendMessage({action:he.ComponentAction.ComponentRegistered,sessionKey:this.sessionKey,componentData:this.component.componentData,data:{uuid:this.component.uuid,environment:(0,_e.g)(this.environment),platform:(0,_e._e)(this.platform),activeThemeUrls:this.componentManagerFunctions.urlsForActiveThemes()}}),this.log(\"setWindow got new sessionKey\",this.sessionKey),this.postActiveThemes()}postActiveThemes(){const e={themes:this.componentManagerFunctions.urlsForActiveThemes()},t={action:he.ComponentAction.ActivateThemes,data:e};this.sendMessage(t,!1)}setHidden(e){e?this.hidden=!0:this.hidden&&(this.hidden=!1,this.streamContextItemOriginalMessage&&this.handleStreamContextItemMessage(this.streamContextItemOriginalMessage),this.streamItems&&this.handleStreamItemsMessage(this.streamItemsOriginalMessage))}handleMessage(e){if(this.log(\"Handle message\",e,this),!this.component)return this.log(\"Component not defined for message, returning\",e),void this.alertService.alert(\"A component is trying to communicate with Standard Notes, but there is an error establishing a bridge. Please restart the app and try again.\");if(this.readonly&&Ie.includes(e.action))return void this.alertService.alert(\"\".concat(this.component.name,\" is trying to save, but it is in a locked state and cannot accept changes.\"));const t={[he.ComponentAction.StreamItems]:this.handleStreamItemsMessage.bind(this),[he.ComponentAction.StreamContextItem]:this.handleStreamContextItemMessage.bind(this),[he.ComponentAction.SetComponentData]:this.handleSetComponentDataMessage.bind(this),[he.ComponentAction.DeleteItems]:this.handleDeleteItemsMessage.bind(this),[he.ComponentAction.CreateItems]:this.handleCreateItemsMessage.bind(this),[he.ComponentAction.CreateItem]:this.handleCreateItemsMessage.bind(this),[he.ComponentAction.SaveItems]:this.handleSaveItemsMessage.bind(this),[he.ComponentAction.SetSize]:this.handleSetSizeEvent.bind(this)}[e.action];null==t||t(e);for(const t of this.actionObservers)t(e.action,e.data)}handleStreamItemsMessage(e){const t=e.data.content_types.filter((e=>ve.includes(e))).sort(),r=[{name:he.ComponentAction.StreamItems,content_types:t}];this.componentManagerFunctions.runWithPermissions(this.component.uuid,r,(()=>{this.streamItems||(this.streamItems=t,this.streamItemsOriginalMessage=e);const r=[];for(const e of t)(0,d.extendArray)(r,this.itemManager.getItems(e));this.sendItemsInReply(r,e)}))}handleStreamContextItemMessage(e){const t=[{name:he.ComponentAction.StreamContextItem}];this.componentManagerFunctions.runWithPermissions(this.component.uuid,t,(()=>{this.streamContextItemOriginalMessage||(this.streamContextItemOriginalMessage=e);const t=this.overrideContextItem||this.itemManager.findItem(this.contextItemUuid);t&&this.sendContextItemThroughBridge(t)}))}handleSaveItemsMessage(e){let t=e.data.items;const r=[],o=t.slice();for(const e of t.slice())if(e.uuid===this.contextItemUuid){r.push({name:he.ComponentAction.StreamContextItem}),(0,d.removeFromArray)(o,e);break}if(o.length>0){const e=Se()(o.map((e=>e.content_type))).sort();r.push({name:he.ComponentAction.StreamItems,content_types:e})}this.componentManagerFunctions.runWithPermissions(this.component.uuid,r,(async()=>{t=this.responseItemsByRemovingPrivateProperties(t,!0);const r=(0,d.Uuids)(t),o=this.itemManager.findItemsIncludingBlanks(r);let s=0,a=0;for(const e of o)e&&e.locked&&(Pe()(t,{uuid:e.uuid}),s++,e.content_type===n.ContentType.Note&&a++);if(1===a)return void this.alertService.alert(\"The note you are attempting to save has editing disabled\",\"Note has Editing Disabled\");if(s>0){const e=1===s?\"item\":a===s?\"notes\":\"items\",t=1===s?\"has\":\"have\";return void this.alertService.alert(\"\".concat(s,\" \").concat(e,\" you are attempting to save \").concat(t,\" editing disabled.\"),\"Items have Editing Disabled\")}const c=t.map((e=>(0,i.CreateComponentRetrievedContextPayload)(e)));for(const e of c){const t=this.itemManager.findItem(e.uuid);if(t){if(e.content_type!==t.content_type)throw Error(\"Extension is trying to modify content type of item.\")}else{const t=new i.DecryptedPayload(Ee(Ee({},(0,i.PayloadTimestampDefaults)()),e)),r=(0,i.CreateDecryptedItemFromPayload)(t);await this.itemManager.insertItem(r)}}await this.itemManager.changeItems(o.filter(d.isNotUndefined),(e=>{const r=(0,d.sureSearchArray)(c,{uuid:e.getUuid()});e.setCustomContent(r.content);const n=(0,d.sureSearchArray)(t,{uuid:e.getUuid()});if(n.clientData){const t=(0,d.Copy)(e.getItem().getDomainData(i.ComponentDataDomain)||{});t[this.component.getClientDataKey()]=n.clientData,e.setDomainData(t,i.ComponentDataDomain)}}),i.MutationType.UpdateUserTimestamps,i.PayloadEmitSource.ComponentRetrieved,this.component.uuid),this.syncService.sync({onPresyncSave:()=>{this.replyToMessage(e,{})}}).catch((()=>{this.replyToMessage(e,{error:\"save-error\"})}))}))}handleCreateItemsMessage(e){let t=e.data.item?[e.data.item]:e.data.items;const r=Se()(t.map((e=>e.content_type))),n=[{name:he.ComponentAction.StreamItems,content_types:r}];this.componentManagerFunctions.runWithPermissions(this.component.uuid,n,(async()=>{t=this.responseItemsByRemovingPrivateProperties(t);const r=[];for(const e of t){e.uuid||(e.uuid=d.UuidGenerator.GenerateUuid());const t=(0,i.createComponentCreatedContextPayload)(e),n=new i.DecryptedPayload(Ee(Ee({},(0,i.PayloadTimestampDefaults)()),t)),o=(0,i.CreateDecryptedItemFromPayload)(n),s=await this.itemManager.insertItem(o);await this.itemManager.changeItem(s,(t=>{if(e.clientData){const r=(0,d.Copy)(s.getDomainData(i.ComponentDataDomain)||{});r[this.component.getClientDataKey()]=e.clientData,t.setDomainData(r,i.ComponentDataDomain)}}),i.MutationType.UpdateUserTimestamps,i.PayloadEmitSource.ComponentCreated,this.component.uuid),r.push(s)}this.syncService.sync();const n=e.action===he.ComponentAction.CreateItem?{item:this.jsonForItem(r[0])}:{items:r.map((e=>this.jsonForItem(e)))};this.replyToMessage(e,n)}))}handleDeleteItemsMessage(e){const t=e.data.items.filter((e=>ve.includes(e.content_type))),r=Se()(t.map((e=>e.content_type))).sort(),n=[{name:he.ComponentAction.StreamItems,content_types:r}];this.componentManagerFunctions.runWithPermissions(this.component.uuid,n,(async()=>{const r=t,n=1===r.length?\"item\":\"items\";let o=null;if(await this.alertService.confirm(\"Are you sure you want to delete \".concat(r.length,\" \").concat(n,\"?\"))){for(const e of r){const t=this.itemManager.findItem(e.uuid);t?await this.itemManager.setItemToBeDeleted(t,i.PayloadEmitSource.ComponentRetrieved):this.alertService.alert(\"The item you are trying to delete cannot be found.\")}this.syncService.sync(),o={deleted:!0}}else o={deleted:!1};this.replyToMessage(e,o)}))}handleSetComponentDataMessage(e){this.componentManagerFunctions.runWithPermissions(this.component.uuid,[],(async()=>{await this.itemManager.changeComponent(this.component,(t=>{t.componentData=e.data.componentData||{}})),this.syncService.sync()}))}handleSetSizeEvent(e){var t;if(this.component.area!==he.ComponentArea.EditorStack)return;const r=null===(t=this.getIframe())||void 0===t?void 0:t.parentElement;if(!r)return;const n=e.data,i=(0,d.isString)(n.width)?n.width:\"\".concat(n.width,\"px\"),o=(0,d.isString)(n.height)?n.height:\"\".concat(n.height,\"px\");r&&r.setAttribute(\"style\",\"width:\".concat(i,\"; height:\").concat(o,\";\"))}getIframe(){return Array.from(document.getElementsByTagName(\"iframe\")).find((e=>e.dataset.componentViewerId===this.identifier))}}function Ae(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const Me=\"localhost\";var De;!function(e){e.ViewerDidFocus=\"ViewerDidFocus\"}(De||(De={}));class Te extends o.AbstractService{constructor(e,t,r,n,i,o,s,a,c){super(a),Ae(this,\"itemManager\",void 0),Ae(this,\"syncService\",void 0),Ae(this,\"featuresService\",void 0),Ae(this,\"preferencesSerivce\",void 0),Ae(this,\"alertService\",void 0),Ae(this,\"environment\",void 0),Ae(this,\"platform\",void 0),Ae(this,\"internalEventBus\",void 0),Ae(this,\"device\",void 0),Ae(this,\"desktopManager\",void 0),Ae(this,\"viewers\",[]),Ae(this,\"removeItemObserver\",void 0),Ae(this,\"permissionDialogs\",[]),Ae(this,\"detectFocusChange\",(()=>{const e=this.allComponentIframes();for(const t of e)if(document.activeElement===t)return void setTimeout((()=>{const e=this.findComponentViewer(t.dataset.componentViewerId);this.notifyEvent(De.ViewerDidFocus,{componentViewer:e})}))})),Ae(this,\"onWindowMessage\",(e=>{var t;e.data.sessionKey&&(this.log(\"Component manager received message\",e.data),null===(t=this.componentViewerForSessionKey(e.data.sessionKey))||void 0===t||t.handleMessage(e.data))})),this.itemManager=e,this.syncService=t,this.featuresService=r,this.preferencesSerivce=n,this.alertService=i,this.environment=o,this.platform=s,this.internalEventBus=a,this.device=c,this.loggingEnabled=!1,this.addItemObserver(),window.addEventListener?window.addEventListener(\"focus\",this.detectFocusChange,!0):window.attachEvent(\"onfocusout\",this.detectFocusChange),window.addEventListener?window.addEventListener(\"blur\",this.detectFocusChange,!0):window.attachEvent(\"onblur\",this.detectFocusChange),window.addEventListener(\"message\",this.onWindowMessage,!0)}get isDesktop(){return this.environment===i.Environment.Desktop}get isMobile(){return this.environment===i.Environment.Mobile}get components(){return this.itemManager.getDisplayableComponents()}componentsForArea(e){return this.components.filter((t=>t.area===e))}componentWithIdentifier(e){return this.components.find((t=>t.identifier===e))}deinit(){var e;super.deinit();for(const e of this.viewers)e.destroy();this.viewers.length=0,this.permissionDialogs.length=0,this.desktopManager=void 0,this.itemManager=void 0,this.featuresService=void 0,this.syncService=void 0,this.alertService=void 0,this.preferencesSerivce=void 0,null===(e=this.removeItemObserver)||void 0===e||e.call(this),this.removeItemObserver=void 0,window&&(window.removeEventListener(\"focus\",this.detectFocusChange,!0),window.removeEventListener(\"blur\",this.detectFocusChange,!0),window.removeEventListener(\"message\",this.onWindowMessage,!0)),this.detectFocusChange=void 0,this.onWindowMessage=void 0}createComponentViewer(e,t,r,n){const i=new Ce(e,this.itemManager,this.syncService,this.alertService,this.preferencesSerivce,this.featuresService,this.environment,this.platform,{runWithPermissions:this.runWithPermissions.bind(this),urlsForActiveThemes:this.urlsForActiveThemes.bind(this)},n||this.urlForComponent(e),t,r);return this.viewers.push(i),i}destroyComponentViewer(e){e.destroy(),(0,d.removeFromArray)(this.viewers,e)}setDesktopManager(e){this.desktopManager=e,this.configureForDesktop()}handleChangedComponents(e,t){const r=[i.PayloadEmitSource.LocalChanged,i.PayloadEmitSource.RemoteRetrieved,i.PayloadEmitSource.LocalDatabaseLoaded,i.PayloadEmitSource.LocalInserted];if(0!==e.length&&r.includes(t)){if(this.isDesktop){const t=e.filter((e=>!(0,he.FindNativeFeature)(e.identifier)));var n;t.length>0&&(null===(n=this.desktopManager)||void 0===n||n.syncComponentsInstallation(t))}e.filter((e=>e.isTheme())).length>0&&this.postActiveThemesToAllViewers()}}addItemObserver(){this.removeItemObserver=this.itemManager.addObserver([n.ContentType.Component,n.ContentType.Theme],(e=>{let{changed:t,inserted:r,removed:n,source:i}=e;const s=[...t,...r];this.handleChangedComponents(s,i);const a=this.device;(0,o.isMobileDevice)(a)&&\"addComponentUrl\"in a&&(r.forEach((e=>{const t=this.urlForComponent(e);t&&a.addComponentUrl(e.uuid,t)})),n.forEach((e=>{a.removeComponentUrl(e.uuid)})))}))}configureForDesktop(){var e;null===(e=this.desktopManager)||void 0===e||e.registerUpdateObserver((e=>{e.active&&e.isTheme()&&this.postActiveThemesToAllViewers()}))}postActiveThemesToAllViewers(){for(const e of this.viewers)e.postActiveThemes()}getActiveThemes(){return this.componentsForArea(he.ComponentArea.Themes).filter((e=>e.active))}urlForComponent(e){const t=this.isDesktop;if(e.offlineOnly&&!t)return;const r=(0,he.FindNativeFeature)(e.identifier);if(this.isDesktop)return(0,d.assert)(this.desktopManager),r?\"\".concat(this.desktopManager.getExtServerHost(),\"/components/\").concat(e.identifier,\"/\").concat(r.index_path):e.local_url?e.local_url.replace(\"sn://\",this.desktopManager.getExtServerHost()+\"/\"):e.hosted_url||e.legacy_url;const n=this.environment===i.Environment.Mobile;if(r){let t=window.location.origin;return n&&(t=window.location.href.split(\"/index.html\")[0]),\"\".concat(t,\"/components/assets/\").concat(e.identifier,\"/\").concat(r.index_path)}let o=e.hosted_url||e.legacy_url;if(o){if(this.isMobile){const e=this.platform===i.Platform.Ios?Me:\"10.0.2.2\";o=o.replace(Me,e).replace(\"sn.local\",e)}return o}}urlsForActiveThemes(){const e=this.getActiveThemes(),t=[];for(const r of e){const e=this.urlForComponent(r);e&&t.push(e)}return t}findComponent(e){return this.itemManager.findItem(e)}findComponentViewer(e){return this.viewers.find((t=>t.identifier===e))}componentViewerForSessionKey(e){return this.viewers.find((t=>t.sessionKey===e))}areRequestedPermissionsValid(e,t){for(const n of t)if(n.name===he.ComponentAction.StreamItems){var r;if(!ye.includes(e.identifier))return!1;if(null===(r=n.content_types)||void 0===r?void 0:r.some((e=>!ve.includes(e))))return!1}return!0}runWithPermissions(e,t,r){const n=this.findComponent(e);if(!n)return void this.alertService.alert(\"Unable to find component with ID \".concat(e,\". Please restart the app and try again.\"),\"An unexpected error occurred\");if(!this.areRequestedPermissionsValid(n,t))return void console.error(\"Component is requesting invalid permissions\",e,t);const i=(0,he.FindNativeFeature)(n.identifier),o=(null==i?void 0:i.component_permissions)||n.permissions;t=(0,d.Copy)(t);for(const e of t.slice()){const r=o.find((t=>t.name===e.name));if(!r)continue;const n=e.content_types;if(n){for(const e of r.content_types)(0,d.removeFromArray)(n,e);0===n.length&&(0,d.filterFromArray)(t,e)}else(0,d.filterFromArray)(t,e)}t.length>0?this.promptForPermissionsWithAngularAsyncRendering(n,t,(async e=>{e&&r()})):r()}promptForPermissionsWithAngularAsyncRendering(e,t,r){setTimeout((()=>{this.promptForPermissions(e,t,r)}))}promptForPermissions(e,t,r){const n={component:e,permissions:t,permissionsString:this.permissionsStringForPermissions(t,e),actionBlock:r,callback:async r=>{const i=this.findComponent(e.uuid);if(i){if(r){this.log(\"Changing component to expand permissions\",e);const r=(0,d.Copy)(i.permissions);for(const e of t){const t=r.find((t=>t.name===e.name));if(t){const r=t.content_types||[];t.content_types=Se()(r.concat(e.content_types))}else r.push(e)}await this.itemManager.changeItem(e,(e=>{e.permissions=r})),this.syncService.sync()}this.permissionDialogs=this.permissionDialogs.filter((i=>{return i===n?(i.actionBlock&&i.actionBlock(r),!1):!!(i.component!==e||i.permissions!==t&&(o=t,i.permissions.some((e=>!o.find((t=>JSON.stringify(t)===JSON.stringify(e)))))))||(r&&i.actionBlock&&i.actionBlock(r),!1);var o})),this.permissionDialogs.length>0&&this.presentPermissionsDialog(this.permissionDialogs[0])}}},i=ge()(this.permissionDialogs,{component:e});this.permissionDialogs.push(n),i?this.log(\"Existing dialog, not presenting.\"):this.presentPermissionsDialog(n)}presentPermissionsDialog(e){throw\"Must override SNComponentManager.presentPermissionsDialog\"}async toggleTheme(e){this.log(\"Toggling theme\",e);const t=this.findComponent(e);if(t.active)await this.itemManager.changeComponent(t,(e=>{e.active=!1}));else{const e=this.getActiveThemes();if(await this.itemManager.changeComponent(t,(e=>{e.active=!0})),!t.isLayerable()){await(0,d.sleep)(10);for(const t of e)t&&!t.isLayerable()&&await this.itemManager.changeComponent(t,(e=>{e.active=!1}))}}}async toggleComponent(e){this.log(\"Toggling component\",e);const t=this.findComponent(e);t&&await this.itemManager.changeComponent(t,(e=>{e.active=!e.getItem().active}))}isComponentActive(e){return e.active}allComponentIframes(){return Array.from(document.getElementsByTagName(\"iframe\"))}iframeForComponentViewer(e){return e.getIframe()}editorForNote(e){return e.editorIdentifier?this.componentWithIdentifier(e.editorIdentifier):e.noteType!==he.NoteType.Plain?this.legacyGetEditorForNote(e):void 0}legacyGetEditorForNote(e){const t=this.componentsForArea(he.ComponentArea.Editor);for(const r of t)if(r.isExplicitlyEnabledForItem(e.uuid))return r;const r=this.getDefaultEditor();return r&&!r.isExplicitlyDisabledForItem(e.uuid)?r:void 0}getDefaultEditor(){return this.componentsForArea(he.ComponentArea.Editor).filter((e=>e.isDefaultEditor()))[0]}permissionsStringForPermissions(e,t){if(0===e.length)return\".\";let r=[],i=[];return e.forEach((e=>{switch(e.name){case he.ComponentAction.StreamItems:if(!e.content_types)return;e.content_types.forEach((e=>{const t=(0,n.DisplayStringForContentType)(e);t?r.push(\"\".concat(t,\"s\")):r.push(\"items of type \".concat(e))}));break;case he.ComponentAction.StreamContextItem:{const e={[he.ComponentArea.EditorStack]:\"working note\",[he.ComponentArea.Editor]:\"working note\",[he.ComponentArea.Themes]:\"Unknown\"};i.push(e[t.area])}}})),r=Se()(r),i=Se()(i),0===r.length&&0===i.length?\".\":r.concat(i).join(\", \")+\".\"}doesEditorChangeRequireAlert(e,t){const r=!e||!t,n=\"md\"===(null==e?void 0:e.package_info.file_type)||\"md\"===(null==t?void 0:t.package_info.file_type),i=\"html\"===(null==e?void 0:e.package_info.file_type)&&\"html\"===(null==t?void 0:t.package_info.file_type);return!(r||n||i)}async showEditorChangeAlert(){return await this.alertService.confirm(\"Doing so might result in minor formatting changes.\",\"Are you sure you want to change this note's type?\",\"Yes, change it\")}}var Re,ke=r(9382);function Ne(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class Fe extends o.AbstractService{constructor(e,t,r,s,a,c,l,u,d,p,h){super(h),Ne(this,\"storageService\",void 0),Ne(this,\"apiService\",void 0),Ne(this,\"itemManager\",void 0),Ne(this,\"webSocketsService\",void 0),Ne(this,\"settingsService\",void 0),Ne(this,\"userService\",void 0),Ne(this,\"syncService\",void 0),Ne(this,\"alertService\",void 0),Ne(this,\"sessionManager\",void 0),Ne(this,\"crypto\",void 0),Ne(this,\"internalEventBus\",void 0),Ne(this,\"deinited\",!1),Ne(this,\"roles\",[]),Ne(this,\"features\",[]),Ne(this,\"enabledExperimentalFeatures\",[]),Ne(this,\"removeWebSocketsServiceObserver\",void 0),Ne(this,\"removefeatureReposObserver\",void 0),Ne(this,\"removeSignInObserver\",void 0),Ne(this,\"needsInitialFeaturesUpdate\",!0),Ne(this,\"completedSuccessfulFeaturesRetrieval\",!1),this.storageService=e,this.apiService=t,this.itemManager=r,this.webSocketsService=s,this.settingsService=a,this.userService=c,this.syncService=l,this.alertService=u,this.sessionManager=d,this.crypto=p,this.internalEventBus=h,this.removeWebSocketsServiceObserver=s.addEventObserver((async(e,t)=>{if(e===z.UserRoleMessageReceived){const{payload:{userUuid:e,currentRoles:r}}=t;await this.updateRolesAndFetchFeatures(e,r)}})),this.removefeatureReposObserver=this.itemManager.addObserver(n.ContentType.ExtensionRepo,(async e=>{let{changed:t,inserted:r,source:n}=e;if([i.PayloadEmitSource.InitialObserverRegistrationPush,i.PayloadEmitSource.LocalInserted,i.PayloadEmitSource.LocalDatabaseLoaded,i.PayloadEmitSource.RemoteRetrieved,i.PayloadEmitSource.FileImport].includes(n)){const e=[...t,...r];this.sessionManager.isSignedIntoFirstPartyServer()?await this.migrateFeatureRepoToUserSetting(e):await this.migrateFeatureRepoToOfflineEntitlements(e)}})),this.removeSignInObserver=this.userService.addEventObserver((e=>{if(e===o.AccountEvent.SignedInOrRegistered){const e=this.itemManager.getItems(n.ContentType.ExtensionRepo);this.apiService.isThirdPartyHostUsed()||this.migrateFeatureRepoToUserSetting(e)}}))}async handleEvent(e){if(e.type===o.ApiServiceEvent.MetaReceived){if(!this.syncService)return void this.log(\"[Features Service] Handling events interrupted. Sync service is not yet initialized.\",e);if(!this.syncService.completedOnlineDownloadFirstSync)return;const{userUuid:t,userRoles:r}=e.payload;await this.updateRolesAndFetchFeatures(t,r.map((e=>e.name)))}}async handleApplicationStage(e){if(await super.handleApplicationStage(e),e===o.ApplicationStage.FullSyncCompleted_13&&(this.addDarkTheme(),!this.hasOnlineSubscription())){const e=this.getOfflineRepo();e&&this.downloadOfflineFeatures(e)}}async addDarkTheme(){const e=he.FindNativeFeature(he.FeatureIdentifier.DarkTheme);e&&await this.mapRemoteNativeFeaturesToItems([e])}enableExperimentalFeature(e){const t=this.getUserFeature(e);if(!t)throw Error(\"Attempting to enable a feature user does not have access to.\");this.enabledExperimentalFeatures.push(e),this.storageService.setValue(o.StorageKey.ExperimentalFeatures,this.enabledExperimentalFeatures),this.mapRemoteNativeFeaturesToItems([t]),this.notifyEvent(o.FeaturesEvent.FeaturesUpdated)}disableExperimentalFeature(e){if(!this.getUserFeature(e))throw Error(\"Attempting to disable a feature user does not have access to.\");(0,d.removeFromArray)(this.enabledExperimentalFeatures,e),this.storageService.setValue(o.StorageKey.ExperimentalFeatures,this.enabledExperimentalFeatures);const t=this.itemManager.getItems([n.ContentType.Component,n.ContentType.Theme]).find((t=>t.identifier===e));t&&(this.itemManager.setItemToBeDeleted(t).then((()=>{this.syncService.sync()})),this.notifyEvent(o.FeaturesEvent.FeaturesUpdated))}toggleExperimentalFeature(e){this.isExperimentalFeatureEnabled(e)?this.disableExperimentalFeature(e):this.enableExperimentalFeature(e)}getExperimentalFeatures(){return he.ExperimentalFeatures}isExperimentalFeature(e){return this.getExperimentalFeatures().includes(e)}getEnabledExperimentalFeatures(){return this.enabledExperimentalFeatures}isExperimentalFeatureEnabled(e){return this.enabledExperimentalFeatures.includes(e)}async setOfflineFeaturesCode(e){try{const t=e.replace(/\\s/g,\"\"),r=this.crypto.base64Decode(t),o=this.parseOfflineEntitlementsCode(r);if(o instanceof p.ClientDisplayableError)return o;const s=await this.itemManager.createItem(n.ContentType.ExtensionRepo,(0,i.FillItemContent)({offlineFeaturesUrl:o.featuresUrl,offlineKey:o.extensionKey,migratedToOfflineEntitlements:!0}),!0);return this.syncService.sync(),this.downloadOfflineFeatures(s)}catch(e){return new p.ClientDisplayableError(o.API_MESSAGE_FAILED_OFFLINE_ACTIVATION)}}getOfflineRepo(){return this.itemManager.getItems(n.ContentType.ExtensionRepo).filter((e=>e.migratedToOfflineEntitlements))[0]}hasOfflineRepo(){return null!=this.getOfflineRepo()}async deleteOfflineFeatureRepo(){const e=this.getOfflineRepo();e&&(await this.itemManager.setItemToBeDeleted(e),this.syncService.sync()),await this.storageService.removeValue(o.StorageKey.UserFeatures)}parseOfflineEntitlementsCode(e){try{const{featuresUrl:t,extensionKey:r}=JSON.parse(e);return{featuresUrl:t,extensionKey:r}}catch(e){return new p.ClientDisplayableError(o.API_MESSAGE_FAILED_OFFLINE_ACTIVATION)}}async downloadOfflineFeatures(e){const t=await this.apiService.downloadOfflineFeaturesFromRepo(e);if(t instanceof p.ClientDisplayableError)return t;await this.didDownloadFeatures(t.features)}async migrateFeatureRepoToUserSetting(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];for(const t of e)if(!t.migratedToUserSetting&&t.onlineUrl){const e=t.onlineUrl.match(/\\w{32,64}/);if(e&&e.length>0){const r=e[0];await this.settingsService.updateSetting(ke.SettingName.ExtensionKey,r,!0),await this.itemManager.changeFeatureRepo(t,(e=>{e.migratedToUserSetting=!0}))}}}async migrateFeatureRepoToOfflineEntitlements(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];for(const t of e)if(!t.migratedToOfflineEntitlements&&t.onlineUrl){const e=t.onlineUrl,{origin:r}=new URL(e);if(!r.includes(\"https://extensions.standardnotes.org\"))continue;const n=e.match(/\\w{32,64}/);if(n&&n.length>0){const e=n[0],r=await this.itemManager.changeFeatureRepo(t,(t=>{t.offlineFeaturesUrl=\"https://api.standardnotes.com/v1/offline/features\",t.offlineKey=e,t.migratedToOfflineEntitlements=!0}));await this.downloadOfflineFeatures(r)}}}initializeFromDisk(){this.roles=this.storageService.getValue(o.StorageKey.UserRoles,void 0,[]),this.features=this.storageService.getValue(o.StorageKey.UserFeatures,void 0,[]),this.enabledExperimentalFeatures=this.storageService.getValue(o.StorageKey.ExperimentalFeatures,void 0,[])}async updateRolesAndFetchFeatures(e,t){if((this.haveRolesChanged(t)||this.needsInitialFeaturesUpdate)&&(this.needsInitialFeaturesUpdate=!1,await this.setRoles(t),!this.hasOfflineRepo())){const t=await this.apiService.getUserFeatures(e);if(!t.error&&t.data&&!this.deinited){const e=t.data.features;await this.didDownloadFeatures(e)}}}async setRoles(e){this.roles=e,(0,d.arraysEqual)(this.roles,e)||this.notifyEvent(o.FeaturesEvent.UserRolesChanged),this.storageService.setValue(o.StorageKey.UserRoles,this.roles)}async didDownloadFeatures(e){e=e.filter((e=>!!he.FindNativeFeature(e.identifier))).map((e=>this.mapRemoteNativeFeatureToStaticFeature(e))),this.features=e,this.completedSuccessfulFeaturesRetrieval=!0,this.notifyEvent(o.FeaturesEvent.FeaturesUpdated),this.storageService.setValue(o.StorageKey.UserFeatures,this.features),await this.mapRemoteNativeFeaturesToItems(e)}isThirdPartyFeature(e){return!he.FindNativeFeature(e)}mapRemoteNativeFeatureToStaticFeature(e){const t=[\"expires_at\",\"role_name\",\"no_expire\",\"permission_name\"],r=he.FindNativeFeature(e.identifier);if(!r)throw Error(\"Attempting to map remote native to unfound static feature \".concat(e.identifier));const n=(0,d.Copy)(r);for(const r of t)n[r]=e[r];return n.expires_at&&(n.expires_at=(0,d.convertTimestampToMilliseconds)(n.expires_at)),n}getUserFeature(e){return this.features.find((t=>t.identifier===e))}hasOnlineSubscription(){const e=this.roles,t=[n.RoleName.CoreUser];return e.some((e=>!t.includes(e)))}hasPaidOnlineOrOfflineSubscription(){return this.hasOnlineSubscription()||this.hasOfflineRepo()}rolesBySorting(e){return Object.values(n.RoleName).filter((t=>e.includes(t)))}hasMinimumRole(e){const t=Object.values(n.RoleName),r=this.rolesBySorting(this.roles),i=t.indexOf((0,d.lastElement)(r));return t.indexOf(e)<=i}isFeatureDeprecated(e){var t;return!0===(null===(t=he.FindNativeFeature(e))||void 0===t?void 0:t.deprecated)}isFreeFeature(e){return[he.FeatureIdentifier.DarkTheme].includes(e)}getFeatureStatus(e){if(this.isFreeFeature(e))return o.FeatureStatus.Entitled;if(this.isFeatureDeprecated(e))return this.hasPaidOnlineOrOfflineSubscription()?o.FeatureStatus.Entitled:o.FeatureStatus.NoUserSubscription;if(null==he.FindNativeFeature(e)){const t=this.itemManager.getDisplayableComponents().find((t=>t.identifier===e));return t?t.isExpired?o.FeatureStatus.InCurrentPlanButExpired:o.FeatureStatus.Entitled:o.FeatureStatus.NoUserSubscription}if(!this.hasPaidOnlineOrOfflineSubscription())return o.FeatureStatus.NoUserSubscription;if(!(this.completedSuccessfulFeaturesRetrieval||this.features.length>0))return o.FeatureStatus.Entitled;const t=this.getUserFeature(e);return t?t.expires_at&&new Date(t.expires_at).getTime()<(new Date).getTime()?this.roles.includes(t.role_name)?o.FeatureStatus.InCurrentPlanButExpired:o.FeatureStatus.NotInCurrentPlan:o.FeatureStatus.Entitled:o.FeatureStatus.NotInCurrentPlan}haveRolesChanged(e){return e.some((e=>!this.roles.includes(e)))||this.roles.some((t=>!e.includes(t)))}componentContentForNativeFeatureDescription(e){const t={area:e.area,name:e.name,package_info:e,valid_until:new Date(e.expires_at||0)};return(0,i.FillItemContent)(t)}async mapRemoteNativeFeaturesToItems(e){const t=this.itemManager.getItems([n.ContentType.Component,n.ContentType.Theme]),r=[];let i=!1;for(const n of e)await this.mapNativeFeatureToItem(n,t,r)&&(i=!0);await this.itemManager.setItemsToBeDeleted(r),i&&this.syncService.sync()}async mapNativeFeatureToItem(e,t,r){if(!e.content_type)return!1;if(this.isExperimentalFeature(e.identifier)&&!this.isExperimentalFeatureEnabled(e.identifier))return!1;let i=!1;const o=new Date,s=!this.isFreeFeature(e.identifier)&&new Date(e.expires_at||0).getTime()<o.getTime(),a=t.find((t=>!!t.content.package_info&&t.content.package_info.identifier===e.identifier));if(e.deprecated&&!a)return!1;let c=a;if(a){const t=new Date(e.expires_at||0);JSON.stringify(e)!==JSON.stringify(a.package_info)||t.getTime()!==a.valid_until.getTime()?(c=await this.itemManager.changeComponent(a,(r=>{r.package_info=e,r.valid_until=t})),i=!0):c=a}else s&&e.content_type!==n.ContentType.Component||(c=await this.itemManager.createItem(e.content_type,this.componentContentForNativeFeatureDescription(e),!0),i=!0);return s&&c&&e.content_type!==n.ContentType.Component&&(r.push(c),i=!0),i}async downloadExternalFeature(e){let t=e;try{t=this.crypto.base64Decode(e)}catch(e){}try{const e=[...m,...b],{host:r}=new URL(t);if(e.includes(r))return this.performDownloadExternalFeature(t);if(await this.alertService.confirm(o.API_MESSAGE_UNTRUSTED_EXTENSIONS_WARNING,\"Install extension from an untrusted source?\",\"Proceed to install\",o.ButtonType.Danger,\"Cancel\"))return this.performDownloadExternalFeature(t)}catch(e){this.alertService.alert(o.INVALID_EXTENSION_URL)}}async performDownloadExternalFeature(e){const t=await this.apiService.downloadFeatureUrl(e);if(t.error)return void await this.alertService.alert(o.API_MESSAGE_FAILED_DOWNLOADING_EXTENSION);let r=t.data;if((0,d.isString)(r))try{r=JSON.parse(r)}catch(e){}if(!r.content_type)return;if(![n.ContentType.Component,n.ContentType.Theme,n.ContentType.ActionsExtension,n.ContentType.ExtensionRepo].includes(r.content_type))return;if(he.FindNativeFeature(r.identifier))return void await this.alertService.alert(o.API_MESSAGE_FAILED_DOWNLOADING_EXTENSION);if(r.url)for(const e of he.GetFeatures())if(r.url.includes(e.identifier))return void await this.alertService.alert(o.API_MESSAGE_FAILED_DOWNLOADING_EXTENSION);const s=(0,i.FillItemContent)({area:r.area,name:r.name,package_info:r,valid_until:new Date(r.expires_at||0),hosted_url:r.url});return this.itemManager.createTemplateItem(r.content_type,s)}deinit(){super.deinit(),this.removeSignInObserver(),this.removeSignInObserver=void 0,this.removeWebSocketsServiceObserver(),this.removeWebSocketsServiceObserver=void 0,this.removefeatureReposObserver(),this.removefeatureReposObserver=void 0,this.roles=void 0,this.storageService=void 0,this.apiService=void 0,this.itemManager=void 0,this.webSocketsService=void 0,this.settingsService=void 0,this.userService=void 0,this.syncService=void 0,this.alertService=void 0,this.sessionManager=void 0,this.crypto=void 0,this.deinited=!0}getDiagnostics(){return Promise.resolve({features:{roles:this.roles,features:this.features,enabledExperimentalFeatures:this.enabledExperimentalFeatures,needsInitialFeaturesUpdate:this.needsInitialFeaturesUpdate,completedSuccessfulFeaturesRetrieval:this.completedSuccessfulFeaturesRetrieval}})}}function je(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Ke(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?je(Object(r),!0).forEach((function(t){xe(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):je(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function xe(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class Le extends o.AbstractService{constructor(e,t,r,i,o,s){super(s),xe(this,\"itemManager\",void 0),xe(this,\"storageService\",void 0),xe(this,\"apiService\",void 0),xe(this,\"protocolService\",void 0),xe(this,\"deviceInterface\",void 0),xe(this,\"internalEventBus\",void 0),xe(this,\"removeChangeObserver\",void 0),xe(this,\"historyStaging\",{}),xe(this,\"history\",{}),xe(this,\"itemRevisionThreshold\",20),this.itemManager=e,this.storageService=t,this.apiService=r,this.protocolService=i,this.deviceInterface=o,this.internalEventBus=s,this.removeChangeObserver=this.itemManager.addObserver(n.ContentType.Note,(e=>{let{changed:t,inserted:r}=e;this.recordNewHistoryForItems(t.concat(r))}))}deinit(){this.itemManager=void 0,this.storageService=void 0,this.history=void 0,this.removeChangeObserver&&(this.removeChangeObserver(),this.removeChangeObserver=void 0),super.deinit()}recordNewHistoryForItems(e){for(const t of e){const e=this.history[t.uuid]||[],r=i.historyMapFunctions.getNewestRevision(e),n=new i.DecryptedPayload(t.payload),o=i.CreateHistoryEntryForPayload(n,r);if(o.isDiscardable())continue;const s=this.historyStaging[t.uuid];this.historyStaging[t.uuid]=o,s&&(s.isSameAsEntry(o)||r&&s.isSameAsEntry(r)||(e.unshift(s),this.history[t.uuid]=e,this.optimizeHistoryForItem(t.uuid)))}}sessionHistoryForItem(e){return this.history[e.uuid]||[]}getHistoryMapCopy(){const e=Object.assign({},this.history);for(const[t,r]of Object.entries(e))e[t]=r.slice();return Object.freeze(e)}async remoteHistoryForItem(e){const t=await this.apiService.getItemRevisions(e.uuid);if(!t.error&&!(0,d.isNullOrUndefined)(t.data))return t.data}async fetchRemoteRevision(e,t){const r=await this.apiService.getRevision(t,e.uuid);if(r.error||(0,d.isNullOrUndefined)(r.data))return;const n=r.data,o=new i.EncryptedPayload(Ke(Ke(Ke({},(0,i.PayloadTimestampDefaults)()),n),{},{updated_at:new Date(n.updated_at),created_at:new Date(n.created_at),waitingForKey:!1,errorDecrypting:!1})),s=this.protocolService.getEmbeddedPayloadAuthenticatedData(o),a=null==s?void 0:s.u,c=o.copy({uuid:a||n.item_uuid});if(!i.isRemotePayloadAllowed(c))return void console.error(\"Remote payload is disallowed\",c);const l=new i.EncryptedPayload(c),u=await this.protocolService.decryptSplitSingle({usesItemsKeyWithKeyLookup:{items:[l]}});return(0,i.isErrorDecryptingPayload)(u)?void 0:new i.HistoryEntry(u)}async deleteRemoteRevision(e,t){return await this.apiService.deleteRevision(e.uuid,t)}optimizeHistoryForItem(e){const t=this.history[e]||[];if(t.length<=this.itemRevisionThreshold)return;const r=e=>e.deltaSize()>25,n=[],i=(e,i,o)=>{if(o){if(n.unshift(e),r(e)&&-1===e.operationVector()){const e=t[i+1];e&&n.unshift(e)}}else(0,d.removeFromArray)(n,e)};for(let e=t.length-1;e>=0;e--){const n=t[e];i(n,e,0===e||e===t.length-1||r(n))}const o=t.filter((e=>n.includes(e)));this.history[e]=o}}class Ue{static isApplicableToCurrentData(e){const t=e.getItems(n.ContentType.Tag);for(const e of t)if(e.title.includes(i.TagFolderDelimitter)&&!e.parentId)return!0;return!1}static async run(e){const t=e.getItems(n.ContentType.Tag),r=(0,d.sortByKey)(t,\"title\");for(const t of r){const r=t.title.split(i.TagFolderDelimitter),n=1===r.length,o=!!t.parentId,s=r.some((e=>0===e.length));if(o||n||s)continue;const a=(0,d.withoutLastElement)(r),c=(0,d.lastElement)(r);if(!c)return;const l=await e.findOrCreateTagParentChain(a);await e.changeItem(t,(e=>{e.title=c,l&&e.makeChildOf(l)}))}}}function Ve(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Be(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ve(Object(r),!0).forEach((function(t){We(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ve(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function We(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class Ge extends o.AbstractService{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{supportsFileNavigation:!1},r=arguments.length>2?arguments[2]:void 0;super(r),We(this,\"payloadManager\",void 0),We(this,\"options\",void 0),We(this,\"internalEventBus\",void 0),We(this,\"unsubChangeObserver\",void 0),We(this,\"observers\",[]),We(this,\"collection\",void 0),We(this,\"systemSmartViews\",void 0),We(this,\"tagItemsIndex\",void 0),We(this,\"navigationDisplayController\",void 0),We(this,\"tagDisplayController\",void 0),We(this,\"itemsKeyDisplayController\",void 0),We(this,\"componentDisplayController\",void 0),We(this,\"themeDisplayController\",void 0),We(this,\"fileDisplayController\",void 0),We(this,\"smartViewDisplayController\",void 0),this.payloadManager=e,this.options=t,this.internalEventBus=r,this.payloadManager=e,this.systemSmartViews=this.rebuildSystemSmartViews({}),this.createCollection(),this.unsubChangeObserver=this.payloadManager.addObserver(n.ContentType.Any,this.setPayloads.bind(this))}rebuildSystemSmartViews(e){return this.systemSmartViews=i.BuildSmartViews(e,this.options),this.systemSmartViews}createCollection(){var e;this.collection=new i.ItemCollection,this.navigationDisplayController=new i.ItemDisplayController(this.collection,[n.ContentType.Note,n.ContentType.File],{sortBy:\"created_at\",sortDirection:\"dsc\",hiddenContentTypes:this.options.supportsFileNavigation?[]:[n.ContentType.File]}),this.tagDisplayController=new i.ItemDisplayController(this.collection,[n.ContentType.Tag],{sortBy:\"title\",sortDirection:\"asc\"}),this.itemsKeyDisplayController=new i.ItemDisplayController(this.collection,[n.ContentType.ItemsKey],{sortBy:\"created_at\",sortDirection:\"asc\"}),this.componentDisplayController=new i.ItemDisplayController(this.collection,[n.ContentType.Component],{sortBy:\"created_at\",sortDirection:\"asc\"}),this.themeDisplayController=new i.ItemDisplayController(this.collection,[n.ContentType.Theme],{sortBy:\"title\",sortDirection:\"asc\"}),this.smartViewDisplayController=new i.ItemDisplayController(this.collection,[n.ContentType.SmartView],{sortBy:\"title\",sortDirection:\"asc\"}),this.fileDisplayController=new i.ItemDisplayController(this.collection,[n.ContentType.File],{sortBy:\"title\",sortDirection:\"asc\"}),this.tagItemsIndex=new i.TagItemsIndex(this.collection,null===(e=this.tagItemsIndex)||void 0===e?void 0:e.observers)}get allDisplayControllers(){return[this.navigationDisplayController,this.tagDisplayController,this.itemsKeyDisplayController,this.componentDisplayController,this.themeDisplayController,this.smartViewDisplayController,this.fileDisplayController]}get invalidItems(){return this.collection.invalidElements()}createItemFromPayload(e){return i.CreateDecryptedItemFromPayload(e)}createPayloadFromObject(e){return new i.DecryptedPayload(e)}setPrimaryItemDisplayOptions(e){var t,r;const n={};e.views&&e.views.find((e=>e.uuid===i.SystemViewId.AllNotes))&&(void 0===e.includeArchived&&(n.includeArchived=!1),void 0===e.includeTrashed&&(n.includeTrashed=!1)),e.views&&e.views.find((e=>e.uuid===i.SystemViewId.ArchivedNotes))&&void 0===e.includeTrashed&&(n.includeTrashed=!1),e.views&&e.views.find((e=>e.uuid===i.SystemViewId.TrashedNotes))&&(e.includeArchived||(n.includeArchived=!0)),this.rebuildSystemSmartViews(Be(Be({},e),n));const o=null===(t=e.tags)||void 0===t?void 0:t.map((e=>this.collection.find(e.uuid))).filter((e=>null!=e)),s=null===(r=e.views)||void 0===r?void 0:r.map((e=>i.isSystemView(e)?this.systemSmartViews.find((t=>t.uuid===e.uuid)):this.collection.find(e.uuid))).filter((e=>null!=e)),a=Be(Be(Be({},e),n),{tags:o,views:s});a.sortBy===i.CollectionSort.Title&&(a.sortDirection=\"asc\"===a.sortDirection?\"dsc\":\"asc\"),this.navigationDisplayController.setDisplayOptions(Be({customFilter:i.computeUnifiedFilterForDisplayOptions(a,this.collection)},a))}getDisplayableNotes(){return(0,d.assert)(2===this.navigationDisplayController.contentTypes.length),this.options.supportsFileNavigation?this.navigationDisplayController.items().filter(i.isNote):this.navigationDisplayController.items()}getDisplayableFiles(){return this.fileDisplayController.items()}getDisplayableNotesAndFiles(){return(0,d.assert)(this.options.supportsFileNavigation),this.navigationDisplayController.items()}getDisplayableTags(){return this.tagDisplayController.items()}getDisplayableItemsKeys(){return this.itemsKeyDisplayController.items()}getDisplayableComponents(){return[...this.componentDisplayController.items(),...this.themeDisplayController.items()]}deinit(){this.unsubChangeObserver(),this.options=void 0,this.unsubChangeObserver=void 0,this.payloadManager=void 0,this.collection=void 0,this.tagItemsIndex=void 0,this.tagDisplayController=void 0,this.navigationDisplayController=void 0,this.itemsKeyDisplayController=void 0,this.componentDisplayController=void 0,this.themeDisplayController=void 0,this.fileDisplayController=void 0,this.smartViewDisplayController=void 0}resetState(){this.createCollection()}findItem(e){return this.collection.findDecrypted(e)||this.findSystemSmartView(e)}findAnyItem(e){return this.collection.find(e)||this.findSystemSmartView(e)}findAnyItems(e){return this.collection.findAll(e)}findSystemSmartView(e){return this.systemSmartViews.find((t=>t.uuid===e))}findSureItem(e){return this.findItem(e)}findItems(e){return this.collection.findAllDecrypted(e)}findItemsIncludingBlanks(e){return this.collection.findAllDecryptedWithBlanks(e)}get items(){return this.collection.nondeletedElements().filter(i.isDecryptedItem)}allTrackedItems(){return this.collection.all()}hasTagsNeedingFoldersMigration(){return Ue.isApplicableToCurrentData(this)}addNoteCountChangeObserver(e){return this.tagItemsIndex.addCountChangeObserver(e)}allCountableNotesCount(){return this.tagItemsIndex.allCountableItemsCount()}countableNotesForTag(e){if(e instanceof i.SmartView){if(e.uuid===i.SystemViewId.AllNotes)return this.tagItemsIndex.allCountableItemsCount();throw Error(\"countableItemsForTag is not meant to be used for smart views.\")}return this.tagItemsIndex.countableItemsForTag(e)}getNoteCount(){return this.noteCount}addObserver(e,t){Array.isArray(e)||(e=[e]);const r={contentType:e,callback:t};this.observers.push(r);const n=this.observers;return()=>{(0,d.removeFromArray)(n,r)}}itemsReferencingItem(e,t){const r=this.collection.uuidsThatReferenceUuid(e.uuid);let n=this.findItems(r);return t&&(n=n.filter((e=>(null==e?void 0:e.content_type)===t))),n}referencesForItem(e,t){const r=this.findSureItem(e.uuid).references.map((e=>e.uuid));let n=this.findItems(r);return t&&(n=n.filter((e=>(null==e?void 0:e.content_type)===t))),n}setPayloads(e){const{changed:t,inserted:r,discarded:n,ignored:o,unerrored:s,source:a,sourceKey:c}=e,l=e=>i.CreateItemFromPayload(e),u=new Set,d={changed:t.map((e=>(u.add(e.content_type),l(e)))),inserted:r.map((e=>(u.add(e.content_type),l(e)))),discarded:n.map((e=>(u.add(e.content_type),new i.DeletedItem(e)))),ignored:o.map((e=>(u.add(e.content_type),new i.EncryptedItem(e)))),unerrored:s.map((e=>(u.add(e.content_type),i.CreateDecryptedItemFromPayload(e))))};this.collection.onChange(d),this.tagItemsIndex.onChange(d);const p=Array.from(u.values());for(const e of this.allDisplayControllers)e.contentTypes.some((e=>p.includes(e)))&&e.onCollectionChange(d);this.notifyObserversByUiAdjustingDelta(d,a,c)}notifyObserversByUiAdjustingDelta(e,t,r){const n=[],o=[],s=[],a=[],c=[];for(const t of e.changed)i.isDeletedItem(t)?s.push(t):i.isDecryptedItem(t)?n.push(t):c.push(t);for(const t of e.inserted)i.isDeletedItem(t)?a.push(t):i.isDecryptedItem(t)&&o.push(t);const l=[...e.discarded,...s,...a,...c];this.notifyObservers(n,o,l,e.ignored,e.unerrored,t,r)}notifyObservers(e,t,r,i,o,s,a){const c=(e,t)=>e.filter((e=>t.includes(n.ContentType.Any)||t.includes(e.content_type))),l=this.observers.slice();for(const n of l){const l=c(e,n.contentType),u=c(t,n.contentType),d=c(r,n.contentType),p=c(i,n.contentType),h=c(o,n.contentType);0===l.length&&0===u.length&&0===d.length&&0===p.length&&0===h.length||n.callback({changed:l,inserted:u,removed:d,ignored:p,unerrored:h,source:s,sourceKey:a})}}async changeItem(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:i.MutationType.UpdateUserTimestamps,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:i.PayloadEmitSource.LocalChanged,o=arguments.length>4?arguments[4]:void 0;return(await this.changeItems([e],t,r,n,o))[0]}async changeItems(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:i.MutationType.UpdateUserTimestamps,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:i.PayloadEmitSource.LocalChanged,o=arguments.length>4?arguments[4]:void 0;const s=this.findItemsIncludingBlanks((0,d.Uuids)(e)),a=[];for(const e of s){if(!e)throw Error(\"Attempting to change non-existant item\");const n=i.CreateDecryptedMutatorForItem(e,r);t&&t(n);const o=n.getResult();a.push(o)}return await this.payloadManager.emitPayloads(a,n,o),this.findItems(a.map((e=>e.uuid)))}async runTransactionalMutations(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i.PayloadEmitSource.LocalChanged,r=arguments.length>2?arguments[2]:void 0;const n=[];for(const t of e){const e=this.findItem(t.itemUuid);if(!e)continue;const r=i.CreateDecryptedMutatorForItem(e,t.mutationType||i.MutationType.UpdateUserTimestamps);t.mutate(r);const o=r.getResult();n.push(o)}return await this.payloadManager.emitPayloads(n,t,r),this.findItems(n.map((e=>e.uuid)))}async runTransactionalMutation(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i.PayloadEmitSource.LocalChanged,r=arguments.length>2?arguments[2]:void 0;const n=this.findSureItem(e.itemUuid),o=i.CreateDecryptedMutatorForItem(n,e.mutationType||i.MutationType.UpdateUserTimestamps);e.mutate(o);const s=o.getResult();return await this.payloadManager.emitPayloads([s],t,r),this.findItem(s.uuid)}async changeNote(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:i.MutationType.UpdateUserTimestamps,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:i.PayloadEmitSource.LocalChanged,o=arguments.length>4?arguments[4]:void 0;const s=this.findItem(e.uuid);if(!s)throw Error(\"Attempting to change non-existant note\");const a=new i.NoteMutator(s,r);return this.applyTransform(a,t,n,o)}async changeTag(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:i.MutationType.UpdateUserTimestamps,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:i.PayloadEmitSource.LocalChanged,o=arguments.length>4?arguments[4]:void 0;const s=this.findItem(e.uuid);if(!s)throw Error(\"Attempting to change non-existant tag\");const a=new i.TagMutator(s,r);return await this.applyTransform(a,t,n,o),this.findSureItem(e.uuid)}async changeComponent(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:i.MutationType.UpdateUserTimestamps,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:i.PayloadEmitSource.LocalChanged,o=arguments.length>4?arguments[4]:void 0;const s=this.findItem(e.uuid);if(!s)throw Error(\"Attempting to change non-existant component\");const a=new i.ComponentMutator(s,r);return await this.applyTransform(a,t,n,o),this.findSureItem(e.uuid)}async changeFeatureRepo(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:i.MutationType.UpdateUserTimestamps,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:i.PayloadEmitSource.LocalChanged,o=arguments.length>4?arguments[4]:void 0;const s=this.findItem(e.uuid);if(!s)throw Error(\"Attempting to change non-existant repo\");const a=new i.FeatureRepoMutator(s,r);return await this.applyTransform(a,t,n,o),this.findSureItem(e.uuid)}async changeActionsExtension(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:i.MutationType.UpdateUserTimestamps,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:i.PayloadEmitSource.LocalChanged,o=arguments.length>4?arguments[4]:void 0;const s=this.findItem(e.uuid);if(!s)throw Error(\"Attempting to change non-existant extension\");const a=new i.ActionsExtensionMutator(s,r);return await this.applyTransform(a,t,n,o),this.findSureItem(e.uuid)}async changeItemsKey(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:i.MutationType.UpdateUserTimestamps,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:i.PayloadEmitSource.LocalChanged,o=arguments.length>4?arguments[4]:void 0;const s=this.findItem(e.uuid);if(!s)throw Error(\"Attempting to change non-existant itemsKey\");const a=new j.ItemsKeyMutator(s,r);return await this.applyTransform(a,t,n,o),this.findSureItem(e.uuid)}async applyTransform(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:i.PayloadEmitSource.LocalChanged,n=arguments.length>3?arguments[3]:void 0;t(e);const o=e.getResult();return this.payloadManager.emitPayload(o,r,n)}async setItemDirty(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return(await this.setItemsDirty([e],t))[0]}async setItemsDirty(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this.changeItems(e,void 0,t?i.MutationType.UpdateUserTimestamps:i.MutationType.NoUpdateUserTimestamps)}getDirtyItems(){return this.collection.dirtyElements().filter(i.isDecryptedOrDeletedItem)}async duplicateItem(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2?arguments[2]:void 0;const n=this.findSureItem(e.uuid).payload.copy(),o=i.PayloadsByDuplicating({payload:n,baseCollection:this.payloadManager.getMasterCollection(),isConflict:t,additionalContent:r});return await this.payloadManager.emitPayloads(o,i.PayloadEmitSource.LocalChanged),this.findSureItem(o[0].uuid)}async createItem(e,t){let r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const n=new i.DecryptedPayload(Be({uuid:d.UuidGenerator.GenerateUuid(),content_type:e,content:i.FillItemContent(t),dirty:r},i.PayloadTimestampDefaults()));return await this.payloadManager.emitPayload(n,i.PayloadEmitSource.LocalInserted),this.findSureItem(n.uuid)}createTemplateItem(e,t,r){const n=new i.DecryptedPayload(Be(Be({uuid:d.UuidGenerator.GenerateUuid(),content_type:e,content:i.FillItemContent(t||{})},i.PayloadTimestampDefaults()),r));return i.CreateDecryptedItemFromPayload(n)}isTemplateItem(e){return!this.findItem(e.uuid)}async insertItem(e){return this.emitItemFromPayload(e.payload,i.PayloadEmitSource.LocalChanged)}async insertItems(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i.PayloadEmitSource.LocalInserted;return this.emitItemsFromPayloads(e.map((e=>e.payload)),t)}async emitItemFromPayload(e,t){return await this.payloadManager.emitPayload(e,t),this.findSureItem(e.uuid)}async emitItemsFromPayloads(e,t){await this.payloadManager.emitPayloads(e,t);const r=(0,d.Uuids)(e);return this.findItems(r)}async setItemToBeDeleted(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i.PayloadEmitSource.LocalChanged;const r=this.collection.uuidsThatReferenceUuid(e.uuid),n=this.findAnyItem(e.uuid);if(!n)return;const o=new i.DeleteItemMutator(n,i.MutationType.UpdateUserTimestamps).getDeletedResult();await this.payloadManager.emitPayload(o,t);for(const e of r){const t=this.findItem(e);t&&await this.changeItem(t,(e=>{e.removeItemAsRelationship(n)}))}}async setItemsToBeDeleted(e){await Promise.all(e.map((e=>this.setItemToBeDeleted(e))))}getItems(e){return this.collection.allDecrypted(e)}getAnyItems(e){return this.collection.all(e)}itemsMatchingPredicate(e,t){return this.itemsMatchingPredicates(e,[t])}itemsMatchingPredicates(e,t){const r=this.getItems(e);return this.subItemsMatchingPredicates(r,t)}subItemsMatchingPredicates(e,t){return e.filter((e=>{for(const r of t)if(!e.satisfiesPredicate(r))return!1;return!0}))}getRootTags(){return this.getDisplayableTags().filter((e=>void 0===e.parentId))}findTagByTitle(e){const t=e.toLowerCase();return this.getDisplayableTags().find((e=>{var r;return(null===(r=e.title)||void 0===r?void 0:r.toLowerCase())===t}))}findTagByTitleAndParent(e,t){const r=e.toLowerCase();return(t?this.getTagChildren(t):this.getRootTags()).find((e=>{var t;return(null===(t=e.title)||void 0===t?void 0:t.toLowerCase())===r}))}searchTags(e,t){return(0,d.naturalSort)(this.getDisplayableTags().filter((r=>{const n=this.getTagLongTitle(r).toLowerCase().includes(e.toLowerCase()),i=!!t&&this.itemsReferencingItem(t).some((e=>(null==e?void 0:e.uuid)===r.uuid));return n&&!i})),\"title\")}getTagParent(e){const t=this.findItem(e.uuid);if(!t)return;const r=t.parentId;return r?this.findItem(r):void 0}getTagPrefixTitle(e){const t=this.getTagParentChain(e);if(0===t.length)return;const r=t.map((e=>e.title)).join(\"/\");return\"\".concat(r,\"/\")}getTagLongTitle(e){return[...this.getTagParentChain(e),e].map((e=>e.title)).join(\"/\")}getTagParentChain(e){const t=this.findItem(e.uuid);if(!t)return[];let r=t.parentId;const n=[];for(;r;){const e=this.findItem(r);if(!e)return n;n.unshift(e),r=e.parentId}return n}async findOrCreateTagParentChain(e){let t;for(const r of e)t=await this.findOrCreateTagByTitle(r,t);if(!t)throw new Error(\"Invalid tag hierarchy\");return t}getTagChildren(e){const t=this.findItem(e.uuid);return t?this.collection.elementsReferencingElement(t,n.ContentType.Tag).filter((t=>t.parentId===e.uuid)):[]}isTagAncestor(e,t){const r=this.findItem(t.uuid);if(!r)return!1;let n=r.parentId;for(;n;){if(n===e.uuid)return!0;const t=this.findItem(n);if(!t)return!1;n=t.parentId}return!1}isValidTagParent(e,t){return e.uuid!==t.uuid&&!this.isTagAncestor(t,e)}setTagParent(e,t){if(e.uuid===t.uuid)throw new Error(\"Can not set a tag parent of itself\");if(this.isTagAncestor(t,e))throw new Error(\"Can not set a tag ancestor of itself\");return this.changeTag(t,(t=>{t.makeChildOf(e)}))}unsetTagParent(e){return this.getTagParent(e)?this.changeTag(e,(e=>{e.unsetParent()})):Promise.resolve(e)}async associateFileWithNote(e,t){return this.changeItem(e,(e=>{e.addNote(t)}))}async disassociateFileWithNote(e,t){return this.changeItem(e,(e=>{e.removeNote(t)}))}async addTagToNote(e,t,r){let n=[t];return r&&(n=[...this.getTagParentChain(t),t]),Promise.all(n.map((t=>this.changeTag(t,(t=>{t.addNote(e)})))))}async addTagToFile(e,t,r){let n=[t];return r&&(n=[...this.getTagParentChain(t),t]),Promise.all(n.map((t=>this.changeTag(t,(t=>{t.addFile(e)})))))}async linkNoteToNote(e,t){return this.changeItem(e,(e=>{e.addNote(t)}))}async linkFileToFile(e,t){return this.changeItem(e,(e=>{e.addFile(t)}))}async unlinkItems(e,t){const r=this.relationshipDirectionBetweenItems(e,t);if(r===o.ItemRelationshipDirection.NoRelationship)throw new Error(\"Trying to unlink already unlinked items\");const n=r===o.ItemRelationshipDirection.AReferencesB?e:t,i=n===e?t:e;return this.changeItem(n,(e=>{e.removeItemAsRelationship(i)}))}getSortedTagsForItem(e){return(0,d.naturalSort)(this.itemsReferencingItem(e).filter((e=>(null==e?void 0:e.content_type)===n.ContentType.Tag)),\"title\")}async createTag(e,t){const r=await this.createItem(n.ContentType.Tag,i.FillItemContent({title:e}),!0);if(t){const e=this.findItem(t.uuid);if(!e)throw new Error(\"Invalid parent tag\");return this.changeTag(r,(t=>{t.makeChildOf(e)}))}return r}async createSmartView(e,t){return this.createItem(n.ContentType.SmartView,i.FillItemContent({title:e,predicate:t.toJson()}),!0)}async createSmartViewFromDSL(e){let t=null;try{t=JSON.parse(e.substring(1,e.length))}catch(e){throw Error(\"Invalid smart view syntax\")}const r=t[0],n=i.predicateFromDSLString(e);return this.createSmartView(r,n)}async createTagOrSmartView(e){return this.isSmartViewTitle(e)?this.createSmartViewFromDSL(e):this.createTag(e)}isSmartViewTitle(e){return e.startsWith(i.SMART_TAG_DSL_PREFIX)}async findOrCreateTagByTitle(e,t){return this.findTagByTitleAndParent(e,t)||this.createTag(e,t)}notesMatchingSmartView(e){const t={views:[e]};return i.itemsMatchingOptions(t,this.collection.allDecrypted(n.ContentType.Note),this.collection)}get allNotesSmartView(){return this.systemSmartViews.find((e=>e.uuid===i.SystemViewId.AllNotes))}get archivedSmartView(){return this.systemSmartViews.find((e=>e.uuid===i.SystemViewId.ArchivedNotes))}get trashSmartView(){return this.systemSmartViews.find((e=>e.uuid===i.SystemViewId.TrashedNotes))}get untaggedNotesSmartView(){return this.systemSmartViews.find((e=>e.uuid===i.SystemViewId.UntaggedNotes))}get trashedItems(){return this.notesMatchingSmartView(this.trashSmartView)}async emptyTrash(){const e=this.trashedItems;await this.setItemsToBeDeleted(e)}getSmartViews(){const e=this.smartViewDisplayController.items();return this.systemSmartViews.concat(e)}get noteCount(){return this.collection.all(n.ContentType.Note).length}async removeAllItemsFromMemory(){const e=(0,d.Uuids)(this.items),t=[];for(const r of e){const e=new i.DeleteItemMutator(this.findSureItem(r),i.MutationType.NonDirtying);t.push(e.getDeletedResult())}await this.payloadManager.emitPayloads(t,i.PayloadEmitSource.LocalChanged),this.resetState(),this.payloadManager.resetState()}removeItemLocally(e){this.collection.discard([e]),this.payloadManager.removePayloadLocally(e.payload);const t=i.CreateItemDelta({discarded:[e]});for(const r of this.allDisplayControllers)r.contentTypes.some((t=>t===e.content_type))&&r.onCollectionChange(t)}renameFile(e,t){return this.changeItem(e,(e=>{e.name=t}))}async setLastSyncBeganForItems(e,t,r){const n=(0,d.Uuids)(e),o=this.collection.findAll(n).filter(i.isDecryptedOrDeletedItem),s=[];for(const e of o){const n=new i.ItemMutator(e,i.MutationType.NonDirtying);n.setBeginSync(t,r);const o=n.getResult();s.push(o)}return await this.payloadManager.emitPayloads(s,i.PayloadEmitSource.PreSyncSave),this.findAnyItems(n)}relationshipDirectionBetweenItems(e,t){const r=!!e.references.find((e=>e.uuid===t.uuid)),n=!!t.references.find((t=>t.uuid===e.uuid));return r?o.ItemRelationshipDirection.AReferencesB:n?o.ItemRelationshipDirection.BReferencesA:o.ItemRelationshipDirection.NoRelationship}getDiagnostics(){return Promise.resolve({items:{allIds:(0,d.Uuids)(this.collection.all())}})}}function He(e,t){return(0,n.leftVersionGreaterThanOrEqualToRight)(e.version,t.version)}function ze(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class qe{constructor(e,t,r,n,i,o){ze(this,\"queueItem\",void 0),ze(this,\"itemManager\",void 0),ze(this,\"protocolService\",void 0),ze(this,\"challengeService\",void 0),ze(this,\"clientParams\",void 0),ze(this,\"serverParams\",void 0),this.queueItem=e,this.itemManager=t,this.protocolService=r,this.challengeService=n,this.clientParams=i,this.serverParams=o}async run(){let e=!1;if(this.serverParams&&this.clientParams&&!this.clientParams.compare(this.serverParams)&&this.queueItem.keyParams.compare(this.serverParams)&&He(this.serverParams,this.clientParams)){const t=(0,d.dateSorted)(this.itemManager.getItems(n.ContentType.ItemsKey),\"created_at\",!1)[0];e=!t||this.queueItem.encryptedKey.created_at>t.created_at}const t=await(0,o.DecryptItemsKeyByPromptingUser)(this.queueItem.encryptedKey,this.protocolService,this.challengeService,this.queueItem.keyParams);return\"aborted\"===t?{aborted:!0}:\"failed\"===t?{aborted:!1}:{rootKey:t.rootKey,replaceLocalRootKeyWithResult:e,decryptedItemsKey:t.decryptedKey}}}function Ye(e){return\"rootKey\"in e}function Je(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}!function(e){e.KeysRecovered=\"KeysRecovered\"}(Re||(Re={}));class Qe extends o.AbstractService{constructor(e,t,r,o,s,a,c,l,u,d){super(d),Je(this,\"itemManager\",void 0),Je(this,\"payloadManager\",void 0),Je(this,\"apiService\",void 0),Je(this,\"protocolService\",void 0),Je(this,\"challengeService\",void 0),Je(this,\"alertService\",void 0),Je(this,\"storageService\",void 0),Je(this,\"syncService\",void 0),Je(this,\"userService\",void 0),Je(this,\"internalEventBus\",void 0),Je(this,\"removeItemObserver\",void 0),Je(this,\"decryptionQueue\",[]),Je(this,\"isProcessingQueue\",!1),this.itemManager=e,this.payloadManager=t,this.apiService=r,this.protocolService=o,this.challengeService=s,this.alertService=a,this.storageService=c,this.syncService=l,this.userService=u,this.internalEventBus=d,this.removeItemObserver=this.payloadManager.addObserver([n.ContentType.ItemsKey],(e=>{let{changed:t,inserted:r,ignored:n,source:o}=e;if(o===i.PayloadEmitSource.LocalChanged)return;const s=t.concat(r).filter(i.isErrorDecryptingPayload);s.length>0&&this.handleUndecryptableItemsKeys(s),n.length>0&&this.handleIgnoredItemsKeys(n)}))}deinit(){this.itemManager=void 0,this.payloadManager=void 0,this.apiService=void 0,this.protocolService=void 0,this.challengeService=void 0,this.alertService=void 0,this.storageService=void 0,this.syncService=void 0,this.userService=void 0,this.removeItemObserver(),this.removeItemObserver=void 0,super.deinit()}async handleApplicationStage(e){super.handleApplicationStage(e),e===o.ApplicationStage.LoadedDatabase_12&&this.processPersistedUndecryptables()}async handleIgnoredItemsKeys(e){(!(arguments.length>1&&void 0!==arguments[1])||arguments[1])&&this.saveToUndecryptables(e),this.addKeysToQueue(e),await this.beginKeyRecovery()}async handleUndecryptableItemsKeys(e){this.addKeysToQueue(e),await this.beginKeyRecovery()}presentKeyRecoveryWizard(){const e=this.itemManager.invalidItems.filter((e=>e.content_type===n.ContentType.ItemsKey)).map((e=>e.payload));this.handleIgnoredItemsKeys(e,!1)}canAttemptDecryptionOfItem(e){const t=e.payload.items_key_id;return t?!!this.payloadManager.findOne(t)||new p.ClientDisplayableError(\"Unable to find key \".concat(t,\" for this item. You may try signing out and back in; if that doesn't help, check your backup files for a key with this ID and import it.\")):new p.ClientDisplayableError(\"This item cannot be recovered.\")}async processPersistedUndecryptables(){const e=this.getUndecryptables(),t=Object.values(e);if(0===t.length)return;const r=t.map((e=>new i.EncryptedPayload(e)));return this.handleIgnoredItemsKeys(r,!1)}getUndecryptables(){return this.storageService.getValue(o.StorageKey.KeyRecoveryUndecryptableItems,o.StorageValueModes.Default,{})}persistUndecryptables(e){this.storageService.setValue(o.StorageKey.KeyRecoveryUndecryptableItems,e)}saveToUndecryptables(e){const t=this.getUndecryptables();for(const r of e)t[r.uuid]=r.ejected();this.persistUndecryptables(t)}removeFromUndecryptables(e){const t=this.getUndecryptables();for(const r of e)delete t[r];this.persistUndecryptables(t)}getClientKeyParams(){return this.protocolService.getAccountKeyParams()}async performServerSignIn(){const e=new o.Challenge([new o.ChallengePrompt(o.ChallengeValidation.None,void 0,void 0,!0)],o.ChallengeReason.Custom,!0,j.KeyRecoveryStrings.KeyRecoveryLoginFlowReason),t=await this.challengeService.promptForChallengeResponse(e);if(!t)return;this.challengeService.completeChallenge(e);const r=t.values[0].value,n=this.getClientKeyParams(),i=await this.getLatestKeyParamsFromServer(n.identifier);if(!i||!He(i,n))return;const s=await this.protocolService.computeRootKey(r,i);return(await this.userService.correctiveSignIn(s)).error?(await this.alertService.alert(j.KeyRecoveryStrings.KeyRecoveryLoginFlowInvalidPassword),this.performServerSignIn()):(this.alertService.alert(j.KeyRecoveryStrings.KeyRecoveryRootKeyReplaced),s)}async getWrappingKeyIfApplicable(){if(!this.protocolService.hasPasscode())return;const{wrappingKey:e,canceled:t}=await this.challengeService.getWrappingKeyIfApplicable();return t?(await this.alertService.alert(j.KeyRecoveryStrings.KeyRecoveryPasscodeRequiredText,j.KeyRecoveryStrings.KeyRecoveryPasscodeRequiredTitle),this.getWrappingKeyIfApplicable()):e}addKeysToQueue(e){for(const t of e){const e=this.protocolService.getKeyEmbeddedKeyParams(t);if(!e)continue;const r={encryptedKey:t,keyParams:e};this.decryptionQueue.push(r)}}readdQueueItem(e){this.decryptionQueue.unshift(e)}async getLatestKeyParamsFromServer(e){const t=await this.apiService.getAccountKeyParams({email:e});return!t.error&&t.data?(0,j.KeyParamsFromApiResponse)(t):void 0}async beginKeyRecovery(){if(this.isProcessingQueue)return;this.isProcessingQueue=!0;const e=this.getClientKeyParams();let t;if(e&&(t=await this.getLatestKeyParamsFromServer(e.identifier)),null!=this.protocolService){if(!this.protocolService.hasAccount()&&!this.protocolService.hasPasscode()){const e=await this.performServerSignIn();if(e){const r=!0;await this.handleDecryptionOfAllKeysMatchingCorrectRootKey(e,r,t)}}await this.processQueue(t),t&&await this.potentiallyPerformFallbackSignInToUpdateOutdatedLocalRootKey(t),this.syncService.isOutOfSync()&&this.syncService.sync({checkIntegrity:!0})}}async potentiallyPerformFallbackSignInToUpdateOutdatedLocalRootKey(e){const t=this.getClientKeyParams();t&&!e.compare(t)&&He(e,t)&&await this.performServerSignIn()}async processQueue(e){let t=this.decryptionQueue[0];for(;t;){const r=await this.processQueueItem(t,e);if((0,d.removeFromArray)(this.decryptionQueue,t),!Ye(r)&&r.aborted)return void(this.isProcessingQueue=!1);t=this.decryptionQueue[0]}this.isProcessingQueue=!1}async processQueueItem(e,t){const r=this.getClientKeyParams(),n=new qe(e,this.itemManager,this.protocolService,this.challengeService,r,t),i=await n.run();return Ye(i)?(await this.handleDecryptionOfAllKeysMatchingCorrectRootKey(i.rootKey,i.replaceLocalRootKeyWithResult,t),i):(i.aborted||(await this.alertService.alert(j.KeyRecoveryStrings.KeyRecoveryUnableToRecover),this.readdQueueItem(e)),i)}async handleDecryptionOfAllKeysMatchingCorrectRootKey(e,t,r){if(t){const t=await this.getWrappingKeyIfApplicable();await this.protocolService.setRootKey(e,t)}const n=this.getClientKeyParams(),o=n&&r&&n.compare(r),s=this.removeElementsFromQueueForMatchingKeyParams(e.keyParams).map((e=>o&&!r.compare(e.keyParams)?e.encryptedKey.copy({dirty:!0,dirtyIndex:(0,i.getIncrementedDirtyIndex)()}):e.encryptedKey)),a=(await this.protocolService.decryptSplit({usesRootKey:{items:s,key:e}})).filter(i.isDecryptedPayload);this.payloadManager.emitPayloads(a,i.PayloadEmitSource.LocalChanged),await this.storageService.savePayloads(a),t?this.alertService.alert(j.KeyRecoveryStrings.KeyRecoveryRootKeyReplaced):this.alertService.alert(j.KeyRecoveryStrings.KeyRecoveryKeyRecovered),a.some((e=>e.dirty))&&await this.syncService.sync(),await this.notifyEvent(Re.KeysRecovered,a),this.removeFromUndecryptables((0,d.Uuids)(a))}removeElementsFromQueueForMatchingKeyParams(e){const t=[],r=[];for(const n of this.decryptionQueue)n.keyParams.compare(e)?t.push(n):r.push(n);return this.decryptionQueue=r,t}getDiagnostics(){return Promise.resolve({keyRecovery:{queueLength:this.decryptionQueue.length,isProcessingQueue:this.isProcessingQueue}})}}function Xe(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class $e extends o.AbstractService{constructor(e,t,r,n,i,o,s){super(s),Xe(this,\"apiService\",void 0),Xe(this,\"itemManager\",void 0),Xe(this,\"settingsService\",void 0),Xe(this,\"httpSerivce\",void 0),Xe(this,\"protectionService\",void 0),Xe(this,\"mutatorService\",void 0),Xe(this,\"internalEventBus\",void 0),this.apiService=e,this.itemManager=t,this.settingsService=r,this.httpSerivce=n,this.protectionService=i,this.mutatorService=o,this.internalEventBus=s}deinit(){this.itemManager=void 0,this.settingsService=void 0,this.apiService=void 0,this.httpSerivce=void 0,this.protectionService=void 0,this.mutatorService=void 0,super.deinit()}canRegisterNewListedAccount(){return null!=this.apiService.user}isNoteAuthorizedForListed(e){return e.authorizedForListed}async authorizeNoteForListed(e){return!1!==await this.protectionService.authorizeListedPublishing()&&(await this.mutatorService.changeAndSaveItem(e,(e=>{e.authorizedForListed=!0})),!0)}async requestNewListedAccount(){const e=await this.getSettingsBasedListedAccounts();if(!(await this.apiService.registerForListedAccount()).error)for(let t=0;t<4;t++){const t=await this.getSettingsBasedListedAccounts();if(t.length>e.length)return(0,d.lastElement)(t);await(0,d.sleep)(3e3,!1)}}async getListedAccounts(){return[...await this.getSettingsBasedListedAccounts(),...this.getLegacyListedAccounts()]}async getListedAccountInfo(e,t){const r=e.hostUrl;let n=\"\".concat(r,\"/authors/\").concat(e.authorId,\"/extension?secret=\").concat(e.secret);t&&(n+=\"&item_uuid=\".concat(t));const i=await this.httpSerivce.getAbsolute(n).catch((e=>{console.error(e)}));if(i&&!i.error&&i.data&&!(0,d.isString)(i.data))return i.data}async getSettingsBasedListedAccounts(){const e=await this.settingsService.getSetting(ke.SettingName.ListedAuthorSecrets);return e?JSON.parse(e):[]}getLegacyListedAccounts(){const e=this.itemManager.getItems(n.ContentType.ActionsExtension).filter((e=>e.isListedExtension)),t=[];for(const r of e){const e=r.url,n=new URL(e),i=n.pathname.split(\"/\")[2],o=n.search.split(\"secret=\")[1].split(\"&\")[0];t.push({secret:o,authorId:i,hostUrl:n.origin})}return t}}function Ze(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class et extends o.AbstractService{constructor(e,t,r,n){super(n),Ze(this,\"settingsService\",void 0),Ze(this,\"crypto\",void 0),Ze(this,\"featuresService\",void 0),Ze(this,\"internalEventBus\",void 0),this.settingsService=e,this.crypto=t,this.featuresService=r,this.internalEventBus=n}async saveMfaSetting(e){return await this.settingsService.updateSetting(ke.SettingName.MfaSecret,e,!0)}async isMfaActivated(){return 0!=await this.settingsService.getDoesSensitiveSettingExist(ke.SettingName.MfaSecret)}async generateMfaSecret(){return this.crypto.generateOtpSecret()}async getOtpToken(e){return this.crypto.totpToken(e,Date.now(),6,30)}async enableMfa(e,t){if(null==t||t!==await this.getOtpToken(e))throw new Error(o.SignInStrings.IncorrectMfa);return this.saveMfaSetting(e)}async disableMfa(){return await this.settingsService.deleteSetting(ke.SettingName.MfaSecret)}isMfaFeatureAvailable(){var e;const t=this.featuresService.getUserFeature(he.FeatureIdentifier.TwoFactorAuth);return null!=t&&(!0===t.no_expire||(null!==(e=t.expires_at)&&void 0!==e?e:0)>Date.now())}deinit(){this.settingsService=void 0,this.crypto=void 0,this.featuresService=void 0,super.deinit()}}var tt=r(72186),rt=r(79437);function nt(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class it extends o.AbstractService{constructor(e){super(e.internalEventBus),nt(this,\"services\",void 0),nt(this,\"activeMigrations\",void 0),nt(this,\"baseMigration\",void 0),this.services=e}deinit(){this.services=void 0,this.activeMigrations&&(this.activeMigrations.length=0),super.deinit()}async initialize(){await this.runBaseMigrationPreRun();const e=it.getRequiredMigrations(await this.getStoredSnjsVersion());this.activeMigrations=this.instantiateMigrationClasses(e),this.activeMigrations.length>0?(0,d.lastElement)(this.activeMigrations).onDone((async()=>{await this.markMigrationsAsDone()})):await this.services.deviceInterface.setRawStorageValue((0,o.namespacedKey)(this.services.identifier,o.RawStorageKey.SnjsVersion),h.in)}async markMigrationsAsDone(){await this.services.deviceInterface.setRawStorageValue((0,o.namespacedKey)(this.services.identifier,o.RawStorageKey.SnjsVersion),h.in)}async runBaseMigrationPreRun(){this.baseMigration=new tt._(this.services),await this.baseMigration.preRun()}async handleApplicationStage(e){await super.handleApplicationStage(e),await this.handleStage(e)}async handleApplicationEvent(e){e===o.ApplicationEvent.SignedIn&&await this.handleStage(o.ApplicationStage.SignedIn_30)}async hasPendingMigrations(){return it.getRequiredMigrations(await this.getStoredSnjsVersion()).length>0||await this.baseMigration.needsKeychainRepair()}async getStoredSnjsVersion(){const e=await this.services.deviceInterface.getRawStorageValue((0,o.namespacedKey)(this.services.identifier,o.RawStorageKey.SnjsVersion));if(!e)throw ne.W.error(Error(\"Snjs version missing from storage, run base migration.\"));return e}static getRequiredMigrations(e){const t=[],r=rt.R_.sort(((e,t)=>(0,h.D8)(e.version(),t.version())));for(const n of r){const r=n.version();r!==e&&(0,h.jV)(e,r)&&t.push(n)}return t}instantiateMigrationClasses(e){return e.map((e=>new e(this.services)))}async handleStage(e){if(await this.baseMigration.handleStage(e),!this.activeMigrations)throw new Error(\"Invalid active migrations\");for(const t of this.activeMigrations)await t.handleStage(e)}getDiagnostics(){return Promise.resolve({migrations:{activeMigrations:this.activeMigrations&&this.activeMigrations.map((e=>typeof e))}})}}function ot(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class st extends o.AbstractService{constructor(e,t,r,n,i,o,s,a,c){super(c),ot(this,\"itemManager\",void 0),ot(this,\"syncService\",void 0),ot(this,\"protectionService\",void 0),ot(this,\"encryption\",void 0),ot(this,\"payloadManager\",void 0),ot(this,\"challengeService\",void 0),ot(this,\"componentManager\",void 0),ot(this,\"historyService\",void 0),ot(this,\"internalEventBus\",void 0),this.itemManager=e,this.syncService=t,this.protectionService=r,this.encryption=n,this.payloadManager=i,this.challengeService=o,this.componentManager=s,this.historyService=a,this.internalEventBus=c}deinit(){super.deinit(),this.itemManager=void 0,this.syncService=void 0,this.protectionService=void 0,this.encryption=void 0,this.payloadManager=void 0,this.challengeService=void 0,this.componentManager=void 0,this.historyService=void 0}async insertItem(e){const t=(0,i.CreateDecryptedMutatorForItem)(e,i.MutationType.UpdateUserTimestamps).getResult();return await this.itemManager.emitItemFromPayload(t,i.PayloadEmitSource.LocalInserted)}async changeAndSaveItem(e,t){let r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],n=arguments.length>3?arguments[3]:void 0,o=arguments.length>4?arguments[4]:void 0;return await this.itemManager.changeItems([e],t,r?i.MutationType.UpdateUserTimestamps:i.MutationType.NoUpdateUserTimestamps,n),await this.syncService.sync(o),this.itemManager.findItem(e.uuid)}async changeAndSaveItems(e,t){let r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],n=arguments.length>3?arguments[3]:void 0,o=arguments.length>4?arguments[4]:void 0;await this.itemManager.changeItems(e,t,r?i.MutationType.UpdateUserTimestamps:i.MutationType.NoUpdateUserTimestamps,n),await this.syncService.sync(o)}async changeItem(e,t){let r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return await this.itemManager.changeItems([e],t,r?i.MutationType.UpdateUserTimestamps:i.MutationType.NoUpdateUserTimestamps),this.itemManager.findItem(e.uuid)}async changeItems(e,t){let r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return this.itemManager.changeItems(e,t,r?i.MutationType.UpdateUserTimestamps:i.MutationType.NoUpdateUserTimestamps)}async runTransactionalMutations(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i.PayloadEmitSource.LocalChanged,r=arguments.length>2?arguments[2]:void 0;return this.itemManager.runTransactionalMutations(e,t,r)}async runTransactionalMutation(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i.PayloadEmitSource.LocalChanged,r=arguments.length>2?arguments[2]:void 0;return this.itemManager.runTransactionalMutation(e,t,r)}async protectItems(e){const t=await this.itemManager.changeItems(e,(e=>{e.protected=!0}),i.MutationType.NoUpdateUserTimestamps);return this.syncService.sync(),t}async unprotectItems(e,t){if(!await this.protectionService.authorizeAction(t,{fallBackToAccountPassword:!0,requireAccountPassword:!1,forcePrompt:!1}))return;const r=await this.itemManager.changeItems(e,(e=>{e.protected=!1}),i.MutationType.NoUpdateUserTimestamps);return this.syncService.sync(),r}async protectNote(e){return(await this.protectItems([e]))[0]}async unprotectNote(e){const t=await this.unprotectItems([e],o.ChallengeReason.UnprotectNote);return t?t[0]:void 0}async protectNotes(e){return this.protectItems(e)}async unprotectNotes(e){return await this.unprotectItems(e,o.ChallengeReason.UnprotectNote)||[]}async protectFile(e){return(await this.protectItems([e]))[0]}async unprotectFile(e){const t=await this.unprotectItems([e],o.ChallengeReason.UnprotectFile);return t?t[0]:void 0}async mergeItem(e,t){return this.itemManager.emitItemFromPayload(e.payloadRepresentation(),t)}createTemplateItem(e,t,r){return this.itemManager.createTemplateItem(e,t,r)}async setItemNeedsSync(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this.itemManager.setItemDirty(e,t)}async setItemsNeedsSync(e){return this.itemManager.setItemsDirty(e)}async deleteItem(e){return this.deleteItems([e])}async deleteItems(e){await this.itemManager.setItemsToBeDeleted(e),await this.syncService.sync()}async emptyTrash(){await this.itemManager.emptyTrash(),await this.syncService.sync()}duplicateItem(e,t){const r=this.itemManager.duplicateItem(e,!1,t);return this.syncService.sync(),r}async migrateTagsToFolders(){return await Ue.run(this.itemManager),this.syncService.sync()}async setTagParent(e,t){await this.itemManager.setTagParent(e,t)}async unsetTagParent(e){await this.itemManager.unsetTagParent(e)}async findOrCreateTag(e){return this.itemManager.findOrCreateTagByTitle(e)}async createTagOrSmartView(e){return this.itemManager.createTagOrSmartView(e)}async toggleComponent(e){await this.componentManager.toggleComponent(e.uuid),await this.syncService.sync()}async toggleTheme(e){await this.componentManager.toggleTheme(e.uuid),await this.syncService.sync()}async importData(e){let t,r=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e.version){const t=e.version;if(!this.encryption.supportedVersions().includes(t))return{error:new p.ClientDisplayableError(o.InfoStrings.UnsupportedBackupFileVersion)};const r=this.encryption.getUserVersion();if(r&&1===(0,n.compareVersions)(t,r))return{error:new p.ClientDisplayableError(o.InfoStrings.BackupFileMoreRecentThanAccount)}}if(e.auth_params||e.keyParams){const e=new o.Challenge([new o.ChallengePrompt(o.ChallengeValidation.None,D.Input.FileAccountPassword,void 0,!0)],o.ChallengeReason.DecryptEncryptedFile,!0),r=await this.challengeService.promptForChallengeResponse(e);if(null==r)return{error:new p.ClientDisplayableError(\"Import aborted\")};this.challengeService.completeChallenge(e),t=null==r?void 0:r.values[0].value}if(!await this.protectionService.authorizeFileImport())return{error:new p.ClientDisplayableError(\"Import aborted\")};e.items=e.items.map((e=>(0,i.isEncryptedTransferPayload)(e)?(0,i.CreateEncryptedBackupFileContextPayload)(e):(0,i.CreateDecryptedBackupFileContextPayload)(e)));const s=await this.encryption.decryptBackupFile(e,t);if(s instanceof p.ClientDisplayableError)return{error:s};const a=s.filter(i.isDecryptedPayload).map((e=>{if(e.content_type===n.ContentType.Component&&e.content.active){const t=e;return(0,i.CopyPayloadWithContentOverride)(t,{active:!1})}return e})),c=await this.payloadManager.importPayloads(a,this.historyService.getHistoryMapCopy()),l=this.syncService.sync();return r&&await l,{affectedItems:this.itemManager.findItems(c),errorCount:s.length-a.length}}}function at(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ct(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?at(Object(r),!0).forEach((function(t){lt(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):at(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function lt(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class ut extends o.AbstractService{constructor(e){super(e),lt(this,\"internalEventBus\",void 0),lt(this,\"changeObservers\",[]),lt(this,\"collection\",void 0),lt(this,\"emitQueue\",[]),this.internalEventBus=e,this.collection=new i.PayloadCollection}getMasterCollection(){return i.ImmutablePayloadCollection.FromCollection(this.collection)}deinit(){super.deinit(),this.changeObservers.length=0,this.resetState()}resetState(){this.collection=new i.PayloadCollection}find(e){return this.collection.findAll(e)}findOne(e){return this.collection.findAll([e])[0]}all(e){return this.collection.all(e)}get integrityPayloads(){return this.collection.integrityPayloads()}get nonDeletedItems(){return this.collection.nondeletedElements()}get invalidPayloads(){return this.collection.invalidElements()}async emitDeltaEmit(e,t){var r;return 0===e.emits.length&&0===(null===(r=e.ignored)||void 0===r?void 0:r.length)?[]:new Promise((r=>{const n={emit:e,sourceKey:t,resolve:r};this.emitQueue.push(n),1===this.emitQueue.length&&this.popQueue()}))}async emitPayload(e,t,r){return this.emitPayloads([e],t,r)}async emitPayloads(e,t,r){const n={emits:e,source:t};return this.emitDeltaEmit(n,r)}popQueue(){const e=this.emitQueue[0],{changed:t,inserted:r,discarded:n,unerrored:i}=this.applyPayloads(e.emit.emits);this.notifyChangeObservers(t,r,n,e.emit.ignored||[],i,e.emit.source,e.sourceKey),(0,d.removeFromArray)(this.emitQueue,e),e.resolve([...t,...r,...n]),this.emitQueue.length>0&&this.popQueue()}applyPayloads(e){const t=[],r=[],n=[],o=[];for(const s of e){if(!s.uuid||!s.content_type){console.error(\"Payload is corrupt\",s);continue}this.log(\"applying payload\",s.uuid,\"globalDirtyIndexAtLastSync\",s.globalDirtyIndexAtLastSync,\"dirtyIndex\",s.dirtyIndex,\"dirty\",s.dirty);const e=this.collection.find(s.uuid);(0,i.isDeletedPayload)(s)&&s.discardable?(this.collection.discard(s),n.push(s)):(this.collection.set(s),e?(t.push(s),(0,i.isEncryptedPayload)(e)&&(0,i.isDecryptedPayload)(s)&&o.push(s)):r.push(s))}return{changed:t,inserted:r,discarded:n,unerrored:o}}addObserver(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;Array.isArray(e)||(e=[e]);const n={types:e,priority:r,callback:t};this.changeObservers.push(n);const i=this.changeObservers;return()=>{(0,d.removeFromArray)(i,n)}}notifyChangeObservers(e,t,r,i,o,s,a){const c=this.changeObservers.slice().sort(((e,t)=>e.priority<t.priority?-1:1)),l=(e,t)=>t.includes(n.ContentType.Any)?e.slice():e.slice().filter((e=>t.includes(e.content_type)));for(const n of c)n.callback({changed:l(e,n.types),inserted:l(t,n.types),discarded:l(r,n.types),ignored:l(i,n.types),unerrored:l(o,n.types),source:s,sourceKey:a})}async importPayloads(e,t){const r=e.map((e=>e.copy(void 0,i.PayloadSource.FileImport))),n=new i.DeltaFileImport(this.getMasterCollection(),r,t).result();return await this.emitDeltaEmit(n),(0,d.Uuids)(e)}removePayloadLocally(e){this.collection.discard(e)}erroredPayloadsForContentType(e){return this.collection.invalidElements().filter((t=>t.content_type===e))}async deleteErroredPayloads(e){const t=e.map((e=>new i.DeletedPayload(ct(ct({},e.ejected()),{},{deleted:!0,content:void 0,dirty:!0,dirtyIndex:(0,i.getIncrementedDirtyIndex)()}),e.source)));await this.emitPayloads(t,i.PayloadEmitSource.LocalChanged)}getDiagnostics(){return Promise.resolve({payloads:{integrityPayloads:this.integrityPayloads,nonDeletedItemCount:this.nonDeletedItems.length,invalidPayloadsCount:this.invalidPayloads.length}})}}function dt(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class pt extends o.AbstractService{constructor(e,t,r,i){super(i),dt(this,\"singletonManager\",void 0),dt(this,\"itemManager\",void 0),dt(this,\"syncService\",void 0),dt(this,\"internalEventBus\",void 0),dt(this,\"shouldReload\",!0),dt(this,\"reloading\",!1),dt(this,\"preferences\",void 0),dt(this,\"removeItemObserver\",void 0),dt(this,\"removeSyncObserver\",void 0),this.singletonManager=e,this.itemManager=t,this.syncService=r,this.internalEventBus=i,this.removeItemObserver=t.addObserver(n.ContentType.UserPrefs,(()=>{this.shouldReload=!0})),this.removeSyncObserver=r.addEventObserver((e=>{e!==o.SyncEvent.SyncCompletedWithAllItemsUploaded&&e!==o.SyncEvent.LocalDataIncrementalLoad||this.reload()}))}deinit(){var e,t;null===(e=this.removeItemObserver)||void 0===e||e.call(this),null===(t=this.removeSyncObserver)||void 0===t||t.call(this),this.singletonManager=void 0,this.itemManager=void 0,super.deinit()}async handleApplicationStage(e){await super.handleApplicationStage(e),e===o.ApplicationStage.LoadedDatabase_12&&(this.preferences=this.singletonManager.findSingleton(n.ContentType.UserPrefs,i.SNUserPrefs.singletonPredicate),this.preferences&&this.notifyEvent(o.PreferencesServiceEvent.PreferencesChanged))}getValue(e,t){var r,n;return null!==(r=null===(n=this.preferences)||void 0===n?void 0:n.getPref(e))&&void 0!==r?r:t}async setValue(e,t){this.preferences&&(this.preferences=await this.itemManager.changeItem(this.preferences,(r=>{r.setPref(e,t)})),this.notifyEvent(o.PreferencesServiceEvent.PreferencesChanged),this.syncService.sync())}async reload(){if(this.shouldReload&&!this.reloading){this.reloading=!0;try{const e=this.preferences;this.preferences=await this.singletonManager.findOrCreateContentTypeSingleton(n.ContentType.UserPrefs,(0,i.FillItemContent)({})),((null==e?void 0:e.uuid)!==this.preferences.uuid||this.preferences.userModifiedDate>e.userModifiedDate)&&this.notifyEvent(o.PreferencesServiceEvent.PreferencesChanged),this.shouldReload=!1}finally{this.reloading=!1}}}}class ht{constructor(e){var t;t={},\"map\"in this?Object.defineProperty(this,\"map\",{value:t,enumerable:!0,configurable:!0,writable:!0}):this.map=t;for(const t of e)this.map[t.name]=t}getSettingValue(e,t){const r=this.map[e];return(null==r?void 0:r.value)||t}}function yt(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class vt{constructor(e,t){yt(this,\"settingsApi\",void 0),yt(this,\"userProvider\",void 0),this.settingsApi=e,this.userProvider=t}isReadyForModification(){return null!=this.getUser()}getUser(){return this.userProvider.getUser()}get userUuid(){const e=this.getUser();if(null==e||null==e.uuid)throw new Error(o.API_MESSAGE_INVALID_SESSION);return e.uuid}async listSettings(){const{error:e,data:t}=await this.settingsApi.listSettings(this.userUuid);if(null!=e)throw new Error(e.message);return null==t||null==t.settings?new ht([]):new ht(t.settings)}async getSetting(e){var t,r,n;const i=await this.settingsApi.getSetting(this.userUuid,e);if(i.status!==p.StatusCode.HttpBadRequest){if(null!=i.error)throw new Error(i.error.message);return null!==(t=null==i||null===(r=i.data)||void 0===r||null===(n=r.setting)||void 0===n?void 0:n.value)&&void 0!==t?t:void 0}}async getSubscriptionSetting(e){var t,r,n;const i=await this.settingsApi.getSubscriptionSetting(this.userUuid,e);if(i.status!==p.StatusCode.HttpBadRequest){if(null!=i.error)throw new Error(i.error.message);return null!==(t=null==i||null===(r=i.data)||void 0===r||null===(n=r.setting)||void 0===n?void 0:n.value)&&void 0!==t?t:void 0}}async getDoesSensitiveSettingExist(e){var t,r;const n=await this.settingsApi.getSetting(this.userUuid,e);if(n.status===p.StatusCode.HttpBadRequest)return!1;if(null!=n.error)throw new Error(n.error.message);return null!==(t=null===(r=n.data)||void 0===r?void 0:r.success)&&void 0!==t&&t}async updateSetting(e,t,r){const{error:n}=await this.settingsApi.updateSetting(this.userUuid,e,t,r);if(null!=n)throw new Error(n.message)}async deleteSetting(e){const{error:t}=await this.settingsApi.deleteSetting(this.userUuid,e);if(null!=t)throw new Error(t.message)}deinit(){this.settingsApi=void 0,this.userProvider=void 0}}function ft(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class gt extends o.AbstractService{constructor(e,t,r){super(r),ft(this,\"sessionManager\",void 0),ft(this,\"apiService\",void 0),ft(this,\"internalEventBus\",void 0),ft(this,\"provider\",void 0),ft(this,\"frequencyOptionsLabels\",{[ke.EmailBackupFrequency.Disabled]:\"No email backups\",[ke.EmailBackupFrequency.Daily]:\"Daily\",[ke.EmailBackupFrequency.Weekly]:\"Weekly\"}),ft(this,\"cloudProviderIntegrationUrlEndpoints\",{[ke.CloudProvider.Dropbox]:\"dropbox\",[ke.CloudProvider.Google]:\"gdrive\",[ke.CloudProvider.OneDrive]:\"onedrive\"}),this.sessionManager=e,this.apiService=t,this.internalEventBus=r}initializeFromDisk(){this.provider=new vt(this.apiService,this.sessionManager)}async listSettings(){return this.provider.listSettings()}async getSetting(e){return this.provider.getSetting(e)}async getSubscriptionSetting(e){return this.provider.getSubscriptionSetting(e)}async updateSetting(e,t){let r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return this.provider.updateSetting(e,t,r)}async getDoesSensitiveSettingExist(e){return this.provider.getDoesSensitiveSettingExist(e)}async deleteSetting(e){return this.provider.deleteSetting(e)}getEmailBackupFrequencyOptionLabel(e){return this.frequencyOptionsLabels[e]}getCloudProviderIntegrationUrl(e,t){const{Dev:r,Prod:n}=S,i=t?r:n;return\"\".concat(i,\"/\").concat(this.cloudProviderIntegrationUrlEndpoints[e],\"?redirect_url=\").concat(i,\"/components/cloudlink?\")}deinit(){var e;null===(e=this.provider)||void 0===e||e.deinit(),this.provider=void 0,this.sessionManager=void 0,this.apiService=void 0}}function mt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function St(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class bt extends o.AbstractService{constructor(e,t,r,n){super(n),St(this,\"itemManager\",void 0),St(this,\"payloadManager\",void 0),St(this,\"syncService\",void 0),St(this,\"internalEventBus\",void 0),St(this,\"resolveQueue\",[]),St(this,\"removeItemObserver\",void 0),St(this,\"removeSyncObserver\",void 0),this.itemManager=e,this.payloadManager=t,this.syncService=r,this.internalEventBus=n,this.addObservers()}deinit(){this.syncService=void 0,this.itemManager=void 0,this.payloadManager=void 0,this.resolveQueue.length=0,this.removeItemObserver(),this.removeItemObserver=void 0,this.removeSyncObserver(),this.removeSyncObserver=void 0,super.deinit()}popResolveQueue(){const e=this.resolveQueue.slice();return this.resolveQueue=[],e}addObservers(){this.removeItemObserver=this.itemManager.addObserver(n.ContentType.Any,(e=>{let{inserted:t,unerrored:r}=e;r.length>0&&(this.resolveQueue=this.resolveQueue.concat(r)),t.length>0&&(this.resolveQueue=this.resolveQueue.concat(t))})),this.removeSyncObserver=this.syncService.addEventObserver((async e=>{e!==o.SyncEvent.DownloadFirstSyncCompleted&&e!==o.SyncEvent.SyncCompletedWithAllItemsUploaded||await this.resolveSingletonsForItems(this.popResolveQueue(),e)}))}validItemsMatchingPredicate(e,t){return this.itemManager.itemsMatchingPredicate(e,t)}async resolveSingletonsForItems(e,t){if(0===e.length)return;const r=[];for(const t of e){if(r.includes(t)||!t.isSingleton)continue;const e=this.validItemsMatchingPredicate(t.content_type,t.singletonPredicate());(0,d.extendArray)(r,e||[]),!e||e.length<=1||await this.handleStrategy(e,t.singletonStrategy)}var n;r.length>0&&t===o.SyncEvent.SyncCompletedWithAllItemsUploaded&&await(null===(n=this.syncService)||void 0===n?void 0:n.sync())}async handleStrategy(e,t){if(t!==i.SingletonStrategy.KeepEarliest)throw\"Unhandled singleton strategy\";const r=e.sort(((e,t)=>e.created_at<t.created_at?-1:1)),n=(0,d.arrayByRemovingFromIndex)(r,0);await this.itemManager.setItemsToBeDeleted(n)}findSingleton(e,t){const r=this.validItemsMatchingPredicate(e,t);if(r.length>0)return r[0]}async findOrCreateContentTypeSingleton(e,t){const r=this.itemManager.getItems(e);if(r.length>0)return r[0];if(!this.syncService.getLastSyncDate()){let t;const r=this.itemManager.addObserver(e,(r=>{let{inserted:n}=r;if(n.length>0){const r=n.filter((t=>t.content_type===e));r.length>0&&(t=r[0])}}));if(await this.syncService.sync(),r(),t)return t;const n=this.itemManager.getItems(e);if(n.length>0)return n[0]}const n=this.payloadManager.erroredPayloadsForContentType(e);n.length&&await this.payloadManager.deleteErroredPayloads(n);const o=new i.DecryptedPayload(function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?mt(Object(r),!0).forEach((function(t){St(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):mt(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({uuid:d.UuidGenerator.GenerateUuid(),content_type:e,content:t,dirty:!0,dirtyIndex:(0,i.getIncrementedDirtyIndex)()},(0,i.PayloadTimestampDefaults)())),s=await this.itemManager.emitItemFromPayload(o,i.PayloadEmitSource.LocalInserted);return this.syncService.sync(),s}}var Pt,_t=r(70008);function wt(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class Et{constructor(e){var t,r;wt(this,\"rawResponse\",void 0),wt(this,\"savedPayloads\",void 0),wt(this,\"retrievedPayloads\",void 0),wt(this,\"uuidConflictPayloads\",void 0),wt(this,\"dataConflictPayloads\",void 0),wt(this,\"rejectedPayloads\",void 0),this.rawResponse=e,this.savedPayloads=(0,i.FilterDisallowedRemotePayloadsAndMap)((null===(t=e.data)||void 0===t?void 0:t.saved_items)||[]).map((e=>(0,i.CreateServerSyncSavedPayload)(e))),this.retrievedPayloads=(0,i.FilterDisallowedRemotePayloadsAndMap)((null===(r=e.data)||void 0===r?void 0:r.retrieved_items)||[]),this.dataConflictPayloads=(0,i.FilterDisallowedRemotePayloadsAndMap)(this.rawDataConflictItems),this.uuidConflictPayloads=(0,i.FilterDisallowedRemotePayloadsAndMap)(this.rawUuidConflictItems),this.rejectedPayloads=(0,i.FilterDisallowedRemotePayloadsAndMap)(this.rawRejectedPayloads),(0,d.deepFreeze)(this)}get error(){var e;return this.rawResponse.error||(null===(e=this.rawResponse.data)||void 0===e?void 0:e.error)}get status(){return this.rawResponse.status}get lastSyncToken(){var e;return null===(e=this.rawResponse.data)||void 0===e?void 0:e[p.ApiEndpointParam.LastSyncToken]}get paginationToken(){var e;return null===(e=this.rawResponse.data)||void 0===e?void 0:e[p.ApiEndpointParam.PaginationToken]}get numberOfItemsInvolved(){return this.allFullyFormedPayloads.length}get allFullyFormedPayloads(){return[...this.retrievedPayloads,...this.dataConflictPayloads,...this.uuidConflictPayloads,...this.rejectedPayloads]}get rawUuidConflictItems(){return this.rawConflictObjects.filter((e=>e.type===p.ConflictType.UuidConflict)).map((e=>e.unsaved_item||e.item))}get rawDataConflictItems(){return this.rawConflictObjects.filter((e=>e.type===p.ConflictType.ConflictingData)).map((e=>e.server_item||e.item))}get rawRejectedPayloads(){return this.rawConflictObjects.filter((e=>e.type===p.ConflictType.ContentTypeError||e.type===p.ConflictType.ContentError||e.type===p.ConflictType.ReadOnlyError)).map((e=>e.unsaved_item))}get rawConflictObjects(){var e,t;const r=(null===(e=this.rawResponse.data)||void 0===e?void 0:e.conflicts)||[],n=(null===(t=this.rawResponse.data)||void 0===t?void 0:t.unsaved)||[];return r.concat(n)}get hasError(){return!(0,d.isNullOrUndefined)(this.rawResponse.error)}}function Ot(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}!function(e){e[e.Response=1]=\"Response\",e[e.StatusChanged=2]=\"StatusChanged\"}(Pt||(Pt={}));const It=150;class Ct{constructor(e,t,r,n,i){Ot(this,\"payloads\",void 0),Ot(this,\"receiver\",void 0),Ot(this,\"lastSyncToken\",void 0),Ot(this,\"paginationToken\",void 0),Ot(this,\"apiService\",void 0),Ot(this,\"id\",(0,d.nonSecureRandomIdentifier)()),Ot(this,\"pendingPayloads\",void 0),Ot(this,\"responses\",[]),this.payloads=e,this.receiver=t,this.lastSyncToken=r,this.paginationToken=n,this.apiService=i,this.payloads=e,this.lastSyncToken=r,this.paginationToken=n,this.apiService=i,this.receiver=t,this.pendingPayloads=e.slice()}get payloadsSavedOrSaving(){return(0,d.arrayByDifference)(this.payloads,this.pendingPayloads)}popPayloads(e){const t=this.pendingPayloads.slice(0,e);return(0,d.subtractFromArray)(this.pendingPayloads,t),t}async run(){await this.receiver(Pt.StatusChanged,void 0,{completedUploadCount:this.totalUploadCount-this.pendingUploadCount,totalUploadCount:this.totalUploadCount});const e=this.popPayloads(this.upLimit),t=await this.apiService.sync(e,this.lastSyncToken,this.paginationToken,this.downLimit),r=new Et(t);this.responses.push(r),this.lastSyncToken=r.lastSyncToken,this.paginationToken=r.paginationToken;try{await this.receiver(Pt.Response,r)}catch(e){console.error(\"Sync handle response error\",e)}if(!this.done)return this.run()}get done(){return 0===this.pendingPayloads.length&&!this.paginationToken}get pendingUploadCount(){return this.pendingPayloads.length}get totalUploadCount(){return this.payloads.length}get upLimit(){return It}get downLimit(){return It}get numberOfItemsInvolved(){let e=0;for(const t of this.responses)e+=t.numberOfItemsInvolved;return e}}class At{constructor(e){var t,r;r=void 0,(t=\"savedPayloads\")in this?Object.defineProperty(this,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):this[t]=r,this.savedPayloads=e}}function Mt(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class Dt{constructor(e,t){Mt(this,\"payloads\",void 0),Mt(this,\"receiver\",void 0),this.payloads=e,this.receiver=t}async run(){const e=this.payloads.map((e=>(0,i.CreateOfflineSyncSavedPayload)(e))),t=new At(e);await this.receiver(Pt.Response,t)}}function Tt(e,t){return e.sort(((e,r)=>{const n=new Date(r.serverUpdatedAt).getTime()-new Date(e.serverUpdatedAt).getTime();let i=0,o=0;return i=t.indexOf(e.content_type),o=t.indexOf(r.content_type),-1===i&&(i=t.length),-1===o&&(o=t.length),i===o?n:i<o?-1:1}))}function Rt(e,t){return e.sort(((e,r)=>{const n=new Date(r.serverUpdatedAt).getTime()-new Date(e.serverUpdatedAt).getTime();let i=0,o=0;return i=t.indexOf(e.uuid),o=t.indexOf(r.uuid),-1===i&&(i=t.length),-1===o&&(o=t.length),i===o?n:i<o?-1:1}))}function kt(e,t,r){const i=[],o=[],s=[];for(let r=0;r<e.length;r++){const a=e[r];a.content_type===n.ContentType.ItemsKey?i.push(a):t.includes(a.content_type)?o.push(a):s.push(a)}return{itemsKeyPayloads:i,contentTypePriorityPayloads:Tt(o,t),remainingPayloads:Rt(s,r)}}function Nt(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class Ft{constructor(e,t){Nt(this,\"error\",void 0),Nt(this,\"interval\",void 0),Nt(this,\"receiver\",void 0),Nt(this,\"completedUpload\",0),Nt(this,\"totalUpload\",0),Nt(this,\"downloaded\",0),Nt(this,\"databaseLoadCurrent\",0),Nt(this,\"databaseLoadTotal\",0),Nt(this,\"databaseLoadDone\",!1),Nt(this,\"syncing\",!1),Nt(this,\"syncStart\",void 0),Nt(this,\"timingMonitor\",void 0),this.interval=e,this.receiver=t}deinit(){this.stopTimingMonitor()}setUploadStatus(e,t){this.completedUpload=e,this.totalUpload=t,this.receiver(o.SyncEvent.StatusChanged)}setDownloadStatus(e){this.downloaded+=e,this.receiver(o.SyncEvent.StatusChanged)}setDatabaseLoadStatus(e,t,r){this.databaseLoadCurrent=e,this.databaseLoadTotal=t,this.databaseLoadDone=r,r?this.receiver(o.SyncEvent.LocalDataLoaded):this.receiver(o.SyncEvent.LocalDataIncrementalLoad)}getStats(){return{uploadCompletionCount:this.completedUpload,uploadTotalCount:this.totalUpload,downloadCount:this.downloaded,localDataDone:this.databaseLoadDone,localDataCurrent:this.databaseLoadCurrent,localDataTotal:this.databaseLoadTotal}}setDidBegin(){this.syncing=!0,this.syncStart=new Date}setDidEnd(){this.syncing=!1}get syncInProgress(){return!0===this.syncing}get secondsSinceSyncStart(){return((new Date).getTime()-this.syncStart.getTime())/1e3}startTimingMonitor(){this.timingMonitor&&this.stopTimingMonitor(),this.timingMonitor=this.interval((()=>{this.secondsSinceSyncStart>5&&(this.receiver(o.SyncEvent.SyncTakingTooLong),this.stopTimingMonitor())}),500)}stopTimingMonitor(){Object.prototype.hasOwnProperty.call(this.interval,\"cancel\")?this.interval.cancel(this.timingMonitor):clearInterval(this.timingMonitor),this.timingMonitor=null}hasError(){return!!this.error}setError(e){this.error=e}clearError(){this.error=null}reset(){this.downloaded=0,this.completedUpload=0,this.totalUpload=0,this.syncing=!1,this.error=null,this.stopTimingMonitor(),this.receiver(o.SyncEvent.StatusChanged)}}function jt(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class Kt{constructor(e,t,r,n){jt(this,\"payloadSet\",void 0),jt(this,\"baseCollection\",void 0),jt(this,\"payloadsSavedOrSaving\",void 0),jt(this,\"historyMap\",void 0),this.payloadSet=e,this.baseCollection=t,this.payloadsSavedOrSaving=r,this.historyMap=n}result(){const e=[];return e.push(this.processRetrievedPayloads()),e.push(this.processSavedPayloads()),e.push(this.processUuidConflictPayloads()),e.push(this.processDataConflictPayloads()),e.push(this.processRejectedPayloads()),e}processSavedPayloads(){return new i.DeltaRemoteSaved(this.baseCollection,this.payloadSet.savedPayloads).result()}processRetrievedPayloads(){const e=i.ImmutablePayloadCollection.WithPayloads(this.payloadSet.retrievedPayloads);return new i.DeltaRemoteRetrieved(this.baseCollection,e,this.payloadsSavedOrSaving,this.historyMap).result()}processDataConflictPayloads(){const e=i.ImmutablePayloadCollection.WithPayloads(this.payloadSet.dataConflictPayloads);return new i.DeltaRemoteDataConflicts(this.baseCollection,e,this.historyMap).result()}processUuidConflictPayloads(){const e=i.ImmutablePayloadCollection.WithPayloads(this.payloadSet.uuidConflictPayloads);return new i.DeltaRemoteUuidConflicts(this.baseCollection,e).result()}processRejectedPayloads(){const e=i.ImmutablePayloadCollection.WithPayloads(this.payloadSet.rejectedPayloads);return new i.DeltaRemoteRejected(this.baseCollection,e).result()}}function xt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Lt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?xt(Object(r),!0).forEach((function(t){Ut(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xt(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Ut(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Vt(e,t){if(e.deleted)return new i.DeletedPayload(Lt(Lt({},e),{},{content:void 0,deleted:!0}),t);if(null!=e.content)return new i.EncryptedPayload(Lt(Lt({},e),{},{items_key_id:e.items_key_id,content:e.content,deleted:!1,errorDecrypting:!1,waitingForKey:!1}),t);throw Error(\"Unhandled case in createPayloadFromRawItem\")}function Bt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Wt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Bt(Object(r),!0).forEach((function(t){Gt(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Bt(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Gt(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class Ht extends o.AbstractService{constructor(e,t,r,i,o,s,a,c,l){super(l),Gt(this,\"itemManager\",void 0),Gt(this,\"sessionManager\",void 0),Gt(this,\"protocolService\",void 0),Gt(this,\"storageService\",void 0),Gt(this,\"payloadManager\",void 0),Gt(this,\"apiService\",void 0),Gt(this,\"historyService\",void 0),Gt(this,\"options\",void 0),Gt(this,\"internalEventBus\",void 0),Gt(this,\"dirtyIndexAtLastPresyncSave\",void 0),Gt(this,\"lastSyncDate\",void 0),Gt(this,\"outOfSync\",!1),Gt(this,\"opStatus\",void 0),Gt(this,\"resolveQueue\",[]),Gt(this,\"spawnQueue\",[]),Gt(this,\"completedOnlineDownloadFirstSync\",!1),Gt(this,\"majorChangeThreshold\",15),Gt(this,\"clientLocked\",!1),Gt(this,\"databaseLoaded\",!1),Gt(this,\"syncToken\",void 0),Gt(this,\"cursorToken\",void 0),Gt(this,\"syncLock\",!1),Gt(this,\"_simulate_latency\",void 0),Gt(this,\"dealloced\",!1),Gt(this,\"lastSyncInvokationPromise\",void 0),Gt(this,\"currentSyncRequestPromise\",void 0),Gt(this,\"localLoadPriorty\",[n.ContentType.ItemsKey,n.ContentType.UserPrefs,n.ContentType.Component,n.ContentType.Theme]),this.itemManager=e,this.sessionManager=t,this.protocolService=r,this.storageService=i,this.payloadManager=o,this.apiService=s,this.historyService=a,this.options=c,this.internalEventBus=l,this.opStatus=this.initializeStatus()}async onNewDatabaseCreated(){await this.getLastSyncToken()&&await this.clearSyncPositionTokens()}get launchPriorityUuids(){var e;return null!==(e=this.storageService.getValue(o.StorageKey.LaunchPriorityUuids))&&void 0!==e?e:[]}setLaunchPriorityUuids(e){this.storageService.setValue(o.StorageKey.LaunchPriorityUuids,e)}deinit(){this.dealloced=!0,this.sessionManager=void 0,this.itemManager=void 0,this.protocolService=void 0,this.payloadManager=void 0,this.storageService=void 0,this.apiService=void 0,this.opStatus.reset(),this.opStatus=void 0,this.resolveQueue.length=0,this.spawnQueue.length=0,super.deinit()}initializeStatus(){return new Ft(setInterval,(e=>{this.notifyEvent(e)}))}lockSyncing(){this.clientLocked=!0}unlockSyncing(){this.clientLocked=!1}isOutOfSync(){return this.outOfSync}getLastSyncDate(){return this.lastSyncDate}getSyncStatus(){return this.opStatus}resetSyncState(){this.dirtyIndexAtLastPresyncSave=void 0,this.lastSyncDate=void 0,this.outOfSync=!1}isDatabaseLoaded(){return this.databaseLoaded}async getDatabasePayloads(){return this.storageService.getAllRawPayloads().catch((e=>{throw this.notifyEvent(o.SyncEvent.DatabaseReadError,e),e}))}async processItemsKeysFirstDuringDatabaseLoad(e){const t=e.filter(i.isEncryptedPayload),r=e.filter(i.isDecryptedPayload),n={usesRootKeyWithKeyLookup:{items:t}},o=await this.protocolService.decryptSplit(n);await this.payloadManager.emitPayloads([...r,...o],i.PayloadEmitSource.LocalDatabaseLoaded)}async loadDatabasePayloads(e){if(this.databaseLoaded)throw\"Attempting to initialize already initialized local database.\";if(0===e.length)return this.databaseLoaded=!0,void this.opStatus.setDatabaseLoadStatus(0,0,!0);const t=e.map((e=>{try{return(0,i.CreatePayload)(e,i.PayloadSource.Constructor)}catch(e){return void console.error(\"Creating payload fail+ed\",e)}})).filter(d.isNotUndefined),{itemsKeyPayloads:r,contentTypePriorityPayloads:n,remainingPayloads:o}=kt(t,this.localLoadPriorty,this.launchPriorityUuids);await this.processItemsKeysFirstDuringDatabaseLoad(r),await this.processPayloadBatch(n);const s=o.length,a=this.options.loadBatchSize,c=Math.ceil(s/a);for(let e=0;e<c;e++){const t=e*a,r=o.slice(t,t+a);await this.processPayloadBatch(r,t,s)}this.databaseLoaded=!0,this.opStatus.setDatabaseLoadStatus(0,0,!0)}async processPayloadBatch(e,t,r){const n=[],s=[];for(const t of e)(0,i.isEncryptedPayload)(t)?n.push(t):s.push(t);const a={usesItemsKeyWithKeyLookup:{items:n}},c=await this.protocolService.decryptSplit(a);await this.payloadManager.emitPayloads([...s,...c],i.PayloadEmitSource.LocalDatabaseLoaded),this.notifyEvent(o.SyncEvent.LocalDataIncrementalLoad),null!=t&&null!=r&&this.opStatus.setDatabaseLoadStatus(t,r,!1),await(0,d.sleep)(1,!1)}setLastSyncToken(e){return this.syncToken=e,this.storageService.setValue(o.StorageKey.LastSyncToken,e)}async setPaginationToken(e){return this.cursorToken=e,e?this.storageService.setValue(o.StorageKey.PaginationToken,e):this.storageService.removeValue(o.StorageKey.PaginationToken)}async getLastSyncToken(){return this.syncToken||(this.syncToken=await this.storageService.getValue(o.StorageKey.LastSyncToken)),this.syncToken}async getPaginationToken(){return this.cursorToken||(this.cursorToken=await this.storageService.getValue(o.StorageKey.PaginationToken)),this.cursorToken}async clearSyncPositionTokens(){this.syncToken=void 0,this.cursorToken=void 0,await this.storageService.removeValue(o.StorageKey.LastSyncToken),await this.storageService.removeValue(o.StorageKey.PaginationToken)}itemsNeedingSync(){return this.itemManager.getDirtyItems()}async markAllItemsAsNeedingSyncAndPersist(){this.log(\"Marking all items as needing sync\");const e=this.itemManager.items.map((e=>new i.DecryptedPayload(Wt(Wt({},e.payload.ejected()),{},{dirty:!0,dirtyIndex:(0,i.getIncrementedDirtyIndex)()}))));await this.payloadManager.emitPayloads(e,i.PayloadEmitSource.LocalChanged),await this.persistPayloads(e)}popPayloadsNeedingPreSyncSave(e){const t=this.dirtyIndexAtLastPresyncSave;if(null==t)return e;const r=e.filter((e=>!e.dirtyIndex||e.dirtyIndex>t));return this.dirtyIndexAtLastPresyncSave=(0,i.getCurrentDirtyIndex)(),r}queueStrategyResolveOnNext(){return new Promise(((e,t)=>{this.resolveQueue.push({resolve:e,reject:t})}))}queueStrategyForceSpawnNew(e){return new Promise(((t,r)=>{this.spawnQueue.push({resolve:t,reject:r,options:e})}))}popSpawnQueue(){if(0===this.spawnQueue.length)return null;const e=this.spawnQueue[0];return(0,d.removeFromIndex)(this.spawnQueue,0),this.log(\"Syncing again from spawn queue\"),this.sync(Wt({queueStrategy:o.SyncQueueStrategy.ForceSpawnNew,source:o.SyncSource.SpawnQueue},e.options)).then((()=>{e.resolve()})).catch((()=>{e.reject()}))}async payloadsByPreparingForServer(e){const t=(0,i.CreatePayloadSplit)(e),r=(0,j.SplitPayloadsByEncryptionType)(t.decrypted),n=(0,j.CreateEncryptionSplitWithKeyLookup)(r);return[...(await this.protocolService.encryptSplit(n)).map(i.CreateEncryptedServerSyncPushPayload),...t.deleted.map(i.CreateDeletedServerSyncPushPayload)]}async downloadFirstSync(e,t){for(let r=0;r<5;r++){if(await this.sync(Wt({mode:o.SyncMode.DownloadFirst,queueStrategy:o.SyncQueueStrategy.ForceSpawnNew,source:o.SyncSource.External},t)).catch(console.error),this.completedOnlineDownloadFirstSync)return;await(0,d.sleep)(e)}console.error(\"Failed downloadFirstSync after \".concat(5,\" tries\"))}async awaitCurrentSyncs(){await this.lastSyncInvokationPromise,await this.currentSyncRequestPromise}async sync(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this.clientLocked)return void this.log(\"Sync locked by client\");const t=Wt({source:o.SyncSource.External},e);return this.lastSyncInvokationPromise=this.performSync(t),this.lastSyncInvokationPromise}async prepareForSync(e){const t=this.itemsNeedingSync(),r=new Date,n=(0,i.getCurrentDirtyIndex)(),o=t.filter((e=>e.neverSynced&&(0,i.isDeletedItem)(e)));(0,d.subtractFromArray)(t,o);const s=t.map((e=>e.payloadRepresentation())),a=this.popPayloadsNeedingPreSyncSave(s);return await this.persistPayloads(a),e.onPresyncSave&&e.onPresyncSave(),{items:t,beginDate:r,frozenDirtyIndex:n,neverSyncedDeleted:o}}configureSyncLock(){const e=this.opStatus.syncInProgress,t=this.databaseLoaded,r=!this.syncLock,n=r&&t&&!e;return n?this.syncLock=!0:this.log(r?e?\"Attempting to sync while existing sync in progress.\":\"Attempting to sync before local database has loaded.\":\"Another function call has begun preparing for sync.\"),{shouldExecuteSync:n,releaseLock:()=>{this.syncLock=!1}}}deferSyncRequest(e){const t=(0,d.isNullOrUndefined)(e.queueStrategy)?o.SyncQueueStrategy.ResolveOnNext:e.queueStrategy;if(t===o.SyncQueueStrategy.ResolveOnNext)return this.queueStrategyResolveOnNext();if(t===o.SyncQueueStrategy.ForceSpawnNew)return this.queueStrategyForceSpawnNew({mode:e.mode,checkIntegrity:e.checkIntegrity,source:e.source});throw Error(\"Unhandled timing strategy \".concat(t))}async prepareForSyncExecution(e,t,r,n){return this.opStatus.setDidBegin(),await this.notifyEvent(o.SyncEvent.SyncWillBegin),(0,d.subtractFromArray)(this.resolveQueue,t),e.length>0?this.itemManager.setLastSyncBeganForItems(e,r,n):e}getPendingRequestsMadeInTimeToPiggyBackOnCurrentRequest(){return this.resolveQueue.slice()}getOfflineSyncParameters(e){return{uploadPayloads:(arguments.length>1&&void 0!==arguments[1]?arguments[1]:o.SyncMode.Default)===o.SyncMode.Default?e:[]}}createOfflineSyncOperation(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:o.SyncMode.Default;return this.log(\"Syncing offline user\",\"source:\",t,\"mode:\",r,\"payloads:\",e),new Dt(e,(async(e,t)=>{this.dealloced||e===Pt.Response&&t&&await this.handleOfflineResponse(t)}))}async getOnlineSyncParameters(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o.SyncMode.Default;const r=this.completedOnlineDownloadFirstSync?t:o.SyncMode.DownloadFirst;if(r===o.SyncMode.Default&&!this.completedOnlineDownloadFirstSync)throw Error(\"Attempting to default mode sync without having completed initial.\");return{uploadPayloads:r===o.SyncMode.Default?await this.payloadsByPreparingForServer(e):[],syncMode:r}}async createServerSyncOperation(e,t,r){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:o.SyncMode.Default;const i=await this.getLastSyncToken(),s=await this.getPaginationToken(),a=new Ct(e,(async(e,t,r)=>{switch(e){case Pt.Response:if(this.dealloced)return;null!=t&&t.hasError?this.handleErrorServerResponse(t):t&&await this.handleSuccessServerResponse(a,t);break;case Pt.StatusChanged:r&&this.opStatus.setUploadStatus(r.completedUploadCount,r.totalUploadCount)}}),i,s,this.apiService);return this.log(\"Syncing online user\",\"source\",o.SyncSource[r],\"operation id\",a.id,\"integrity check\",t,\"mode\",o.SyncMode[n],\"syncToken\",i,\"cursorToken\",s,\"payloads\",e),a}async createSyncOperation(e,t,r){if(t){const{uploadPayloads:t,syncMode:n}=await this.getOnlineSyncParameters(e,r.mode);return{operation:await this.createServerSyncOperation(t,(0,d.useBoolean)(r.checkIntegrity,!1),r.source,n),mode:n}}{const{uploadPayloads:t}=this.getOfflineSyncParameters(e,r.mode);return{operation:this.createOfflineSyncOperation(t,r.source,r.mode),mode:r.mode||o.SyncMode.Default}}}async performSync(e){const{shouldExecuteSync:t,releaseLock:r}=this.configureSyncLock(),{items:n,beginDate:i,frozenDirtyIndex:s,neverSyncedDeleted:a}=await this.prepareForSync(e),c=this.getPendingRequestsMadeInTimeToPiggyBackOnCurrentRequest();if(!t)return this.deferSyncRequest(e);if(this.dealloced)return;const l=await this.prepareForSyncExecution(n,c,i,s),u=this.sessionManager.online(),{operation:d,mode:p}=await this.createSyncOperation(l.map((e=>e.payloadRepresentation())),u,e),h=d.run();if(this.currentSyncRequestPromise=h,await h,this.dealloced)return;r();const{hasError:y}=await this.handleSyncOperationFinish(d,e,a,p);y||await this.potentiallySyncAgainAfterSyncCompletion(p,e,c,u)||(e.checkIntegrity&&await this.notifyEventSync(o.SyncEvent.SyncRequestsIntegrityCheck,{source:e.source}),await this.notifyEventSync(o.SyncEvent.SyncCompletedWithAllItemsUploadedAndDownloaded,{source:e.source}),this.resolvePendingSyncRequestsThatMadeItInTimeOfCurrentRequest(c))}async handleOfflineResponse(e){this.log(\"Offline Sync Response\",e);const t=this.payloadManager.getMasterCollection(),r=new i.DeltaOfflineSaved(t,e.savedPayloads).result(),n=await this.payloadManager.emitDeltaEmit(r);await this.persistPayloads(n),this.opStatus.clearError(),await this.notifyEvent(o.SyncEvent.SingleRoundTripSyncCompleted,e)}handleErrorServerResponse(e){var t;this.log(\"Sync Error\",e),401===e.status&&this.notifyEvent(o.SyncEvent.InvalidSession),null===(t=this.opStatus)||void 0===t||t.setError(e.error),this.notifyEvent(o.SyncEvent.SyncError,e)}async handleSuccessServerResponse(e,t){this._simulate_latency&&await(0,d.sleep)(this._simulate_latency.latency),this.opStatus.clearError(),this.opStatus.setDownloadStatus(t.retrievedPayloads.length);const r=this.payloadManager.getMasterCollection(),n=this.historyService.getHistoryMapCopy(),s=new Kt({retrievedPayloads:await this.processServerPayloads(t.retrievedPayloads,i.PayloadSource.RemoteRetrieved),savedPayloads:t.savedPayloads,uuidConflictPayloads:await this.processServerPayloads(t.uuidConflictPayloads,i.PayloadSource.RemoteRetrieved),dataConflictPayloads:await this.processServerPayloads(t.dataConflictPayloads,i.PayloadSource.RemoteRetrieved),rejectedPayloads:await this.processServerPayloads(t.rejectedPayloads,i.PayloadSource.RemoteRetrieved)},r,e.payloadsSavedOrSaving,n);this.log(\"Online Sync Response\",\"Operator ID\",e.id,t.rawResponse.data,\"Decrypted payloads\",s.payloadSet);const a=s.result();for(const e of a){const t=await this.payloadManager.emitDeltaEmit(e);await this.persistPayloads(t)}await Promise.all([this.setLastSyncToken(t.lastSyncToken),this.setPaginationToken(t.paginationToken),this.notifyEvent(o.SyncEvent.SingleRoundTripSyncCompleted,t)])}async processServerPayloads(e,t){const r=e.map((e=>Vt(e,t))),{encrypted:n,deleted:o}=(0,i.CreateNonDecryptedPayloadSplit)(r),s=[...o],{rootKeyEncryption:a,itemsKeyEncryption:c}=(0,j.SplitPayloadsByEncryptionType)(n),{results:l,map:u}=await this.decryptServerItemsKeys(a||[]);if((0,d.extendArray)(s,l),c){const e=await this.decryptProcessedServerPayloads(c,u);(0,d.extendArray)(s,e)}return s}async decryptServerItemsKeys(e){const t={};if(0===e.length)return{results:[],map:t};const r={usesRootKeyWithKeyLookup:{items:e}},o=await this.protocolService.decryptSplit(r);return o.forEach((e=>{(0,i.isDecryptedPayload)(e)&&e.content_type===n.ContentType.ItemsKey&&(t[e.uuid]=e)})),{results:o,map:t}}async decryptProcessedServerPayloads(e,t){return Promise.all(e.map((async e=>{const r=t[e.items_key_id],n=r?(0,i.CreateDecryptedItemFromPayload)(r):void 0,o={};return n?o.usesItemsKey={items:[e],key:n}:o.usesItemsKeyWithKeyLookup={items:[e]},this.protocolService.decryptSplitSingle(o)})))}async handleSyncOperationFinish(e,t,r,n){return this.opStatus.setDidEnd(),this.opStatus.hasError()?{hasError:!0}:(this.opStatus.reset(),this.lastSyncDate=new Date,e instanceof Ct&&e.numberOfItemsInvolved>=this.majorChangeThreshold&&this.notifyEvent(o.SyncEvent.MajorDataChange),r.length>0&&await this.handleNeverSyncedDeleted(r),n!==o.SyncMode.DownloadFirst&&await this.notifyEvent(o.SyncEvent.SyncCompletedWithAllItemsUploaded,{source:t.source}),{hasError:!1})}async handleDownloadFirstCompletionAndSyncAgain(e,t){e&&(this.completedOnlineDownloadFirstSync=!0),await this.notifyEvent(o.SyncEvent.DownloadFirstSyncCompleted),await this.sync({source:o.SyncSource.AfterDownloadFirst,checkIntegrity:!0,awaitAll:t.awaitAll})}async syncAgainByHandlingRequestsWaitingInResolveQueue(e){this.log(\"Syncing again from resolve queue\");const t=this.sync({source:o.SyncSource.ResolveQueue,checkIntegrity:e.checkIntegrity});e.awaitAll&&await t}async syncAgainByHandlingNewDirtyItems(e){await this.sync({source:o.SyncSource.MoreDirtyItems,checkIntegrity:e.checkIntegrity,awaitAll:e.awaitAll})}resolvePendingSyncRequestsThatMadeItInTimeOfCurrentRequest(e){for(const t of e)t.resolve()}async potentiallySyncAgainAfterSyncCompletion(e,t,r,n){if(e===o.SyncMode.DownloadFirst)return await this.handleDownloadFirstCompletionAndSyncAgain(n,t),this.resolvePendingSyncRequestsThatMadeItInTimeOfCurrentRequest(r),!0;const i=this.popSpawnQueue(),s=this.resolveQueue.length>0;return!i&&s?(await this.syncAgainByHandlingRequestsWaitingInResolveQueue(t),this.resolvePendingSyncRequestsThatMadeItInTimeOfCurrentRequest(r),!0):this.itemsNeedingSync().length>0&&(await this.syncAgainByHandlingNewDirtyItems(t),this.resolvePendingSyncRequestsThatMadeItInTimeOfCurrentRequest(r),!0)}async handleNeverSyncedDeleted(e){const t=e.map((e=>e.payloadRepresentation({dirty:!1})));await this.payloadManager.emitPayloads(t,i.PayloadEmitSource.LocalChanged),await this.persistPayloads(t)}async persistPayloads(e){if(0!==e.length&&!this.dealloced)return this.storageService.savePayloads(e).catch((e=>{this.notifyEvent(o.SyncEvent.DatabaseWriteError,e),ne.W.error(e)}))}setInSync(e){e!==!this.outOfSync&&(e?(this.outOfSync=!1,this.notifyEvent(o.SyncEvent.ExitOutOfSync)):(this.outOfSync=!0,this.notifyEvent(o.SyncEvent.EnterOutOfSync)))}async handleEvent(e){e.type===o.IntegrityEvent.IntegrityCheckCompleted&&await this.handleIntegrityCheckEventResponse(e.payload)}async handleIntegrityCheckEventResponse(e){const t=e.rawPayloads;if(0===t.length)return void this.setInSync(!0);const r=(0,i.FilterDisallowedRemotePayloadsAndMap)(t).map((e=>Vt(e,i.PayloadSource.RemoteRetrieved))),n=(0,i.CreateNonDecryptedPayloadSplit)(r),s=(0,j.SplitPayloadsByEncryptionType)(n.encrypted),a=(0,j.CreateDecryptionSplitWithKeyLookup)(s),c=await this.protocolService.decryptSplit(a);this.setInSync(!1),await this.emitOutOfSyncRemotePayloads([...c,...n.deleted]);const l=e.source!==o.SyncSource.ResolveOutOfSync;await this.sync({checkIntegrity:l,source:o.SyncSource.ResolveOutOfSync})}async emitOutOfSyncRemotePayloads(e){const t=new i.DeltaOutOfSync(this.payloadManager.getMasterCollection(),i.ImmutablePayloadCollection.WithPayloads(e),this.historyService.getHistoryMapCopy()).result();await this.payloadManager.emitDeltaEmit(t),await this.persistPayloads(t.emits)}async getDiagnostics(){const e=(0,d.Uuids)(this.itemsNeedingSync());return{sync:{syncToken:await this.getLastSyncToken(),cursorToken:await this.getPaginationToken(),dirtyIndexAtLastPresyncSave:this.dirtyIndexAtLastPresyncSave,lastSyncDate:this.lastSyncDate,outOfSync:this.outOfSync,completedOnlineDownloadFirstSync:this.completedOnlineDownloadFirstSync,clientLocked:this.clientLocked,databaseLoaded:this.databaseLoaded,syncLock:this.syncLock,dealloced:this.dealloced,itemsNeedingSync:e,itemsNeedingSyncCount:e.length,pendingRequestCount:this.resolveQueue.length+this.spawnQueue.length}}}ut_setDatabaseLoaded(e){this.databaseLoaded=e}ut_clearLastSyncDate(){this.lastSyncDate=void 0}ut_beginLatencySimulator(e){this._simulate_latency={latency:e||1e3,enabled:!0}}ut_endLatencySimulator(){this._simulate_latency=void 0}}},10715:(e,t,r)=>{r.d(t,{D8:()=>c,DU:()=>o,Oq:()=>s,in:()=>i,jV:()=>a});var n=r(21503);const i=\"2.147.1\",o=\"1.0.0\",s=\"2.0.0\";function a(e,t){return-1===c(e,t)}function c(e,t){return(0,n.eq)(e,t)?0:(0,n.gt)(e,t)?1:-1}},5056:(e,t)=>{Object.defineProperty(t,\"__esModule\",{value:!0}),t.Deferred=void 0,t.Deferred=()=>{let e,t;const r=new Promise(((r,n)=>{e=r,t=n}));return{resolve:e,reject:t,promise:r}}},85485:function(e,t,r){var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function s(e){try{c(n.next(e))}catch(e){o(e)}}function a(e){try{c(n.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,\"__esModule\",{value:!0}),t.isSameDay=t.assertUnreachable=t.sleep=t.truncateHexString=t.hasGetter=t.isValidUrl=t.deepFreeze=t.pickByCopy=t.deepMerge=t.Copy=t.joinPaths=t.omitByCopy=t.omitInPlace=t.withoutLastElement=t.jsonParseEmbeddedKeys=t.topLevelCompare=t.dateSorted=t.omitUndefinedCopy=t.sortByKey=t.sortedCopy=t.objectToValueArray=t.arrayByRemovingFromIndex=t.addAtIndex=t.removeFromIndex=t.compareValues=t.arrayByDifference=t.filterFromArray=t.addIfUnique=t.removeFromArray=t.subtractFromArray=t.extendArray=t.lastElement=t.uniqueArrayByKey=t.uniqueArray=t.uniqCombineObjArrays=t.greaterOfTwoDates=t.isString=t.isEmpty=t.isNotUndefined=t.isNullOrUndefined=t.isFunction=t.isObject=t.sureSearchArray=t.searchArray=t.findInArray=t.isReactNativeEnvironment=t.isWebCryptoAvailable=t.isWebEnvironment=t.dictToArray=t.getGlobalScope=void 0,t.useBoolean=t.assert=t.log=t.secondHalfOfString=t.firstHalfOfString=t.splitString=t.nonSecureRandomIdentifier=t.dateToLocalizedString=t.sanitizeHtmlString=t.convertTimestampToMilliseconds=t.arraysEqual=t.naturalSort=void 0;const i=r(66181),o=r(31773),s=\"undefined\"!=typeof Intl?new Intl.Collator(\"en\",{numeric:!0}):void 0;function a(){return\"undefined\"!=typeof window?window:void 0!==r.g?r.g:null}function c(){return null!==a()}function l(){return\"undefined\"!=typeof navigator&&\"ReactNative\"===navigator.product}function u(e,t){return(0,o.find)(e,t)}function d(e){return null!==e&&(\"function\"==typeof e||\"object\"==typeof e)}function p(e){return null==e}function h(e,t){const r=e.indexOf(t);-1!==r&&e.splice(r,1)}function y(e,t){e.splice(t,1)}function v(e,t){if(!e&&!t)return!0;if(!e||!t)return!1;const r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(const n of r)if(e[n]!==t[n])return!1;return!0}function f(e){return e instanceof Date?new Date(e):d(e)?JSON.parse(JSON.stringify(e)):e}var g;let m;function S(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];Function.prototype.apply.call(console.log,console,arguments)}t.getGlobalScope=a,t.dictToArray=function(e){return Object.values(e)},t.isWebEnvironment=c,t.isWebCryptoAvailable=function(){return c()&&!l()&&!(document&&document.documentMode)||/Edge/.test(navigator.userAgent)&&window.crypto&&!!window.crypto.subtle},t.isReactNativeEnvironment=l,t.findInArray=function(e,t,r){return e.find((e=>e[t]===r))},t.searchArray=u,t.sureSearchArray=function(e,t){return u(e,t)},t.isObject=d,t.isFunction=function(e){return null!==e&&\"function\"==typeof e},t.isNullOrUndefined=p,t.isNotUndefined=function(e){return null!=e},t.isEmpty=function(e){return!e||0===e.length},t.isString=function(e){return\"string\"==typeof e||e instanceof String},t.greaterOfTwoDates=function(e,t){return e>t?e:t},t.uniqCombineObjArrays=function(e,t,r){return(0,o.uniqWith)(e.concat(t),((e,t)=>{for(const n of r)if(e[n]!==t[n])return!1;return!0}))},t.uniqueArray=function(e){return(0,o.uniq)(e)},t.uniqueArrayByKey=function(e,t){return(0,o.uniqWith)(e,((e,r)=>e[t]===r[t]))},t.lastElement=function(e){return e[e.length-1]},t.extendArray=function(e,t){for(const r of t)e.push(r)},t.subtractFromArray=function(e,t){for(const r of t)h(e,r)},t.removeFromArray=h,t.addIfUnique=function(e,t){return!e.includes(t)&&(e.push(t),!0)},t.filterFromArray=function(e,t){(0,o.remove)(e,t)},t.arrayByDifference=function(e,t){return e.filter((e=>!t.includes(e))).concat(t.filter((t=>!e.includes(t))))},t.compareValues=function(e,t){return!(e&&!t||!e&&t)&&(e instanceof Date&&t instanceof Date?e.getTime()===t.getTime():e instanceof String&&t instanceof String?e===t:v(e,t))},t.removeFromIndex=y,t.addAtIndex=function(e,t,r){e.splice(r,0,t)},t.arrayByRemovingFromIndex=function(e,t){const r=e.slice();return y(r,t),r},t.objectToValueArray=function(e){const t=[];for(const r of Object.keys(e))t.push(e[r]);return t},t.sortedCopy=function(e){const t=Object.keys(e).sort(),r={};for(const n of t)r[n]=e[n];return f(r)},t.sortByKey=(e,t)=>{const r=[...e];return r.sort(((e,r)=>{const n=e[t],i=r[t];return n<i?-1:n>i?1:0})),r},t.omitUndefinedCopy=function(e){const t={};for(const r of Object.keys(e))p(e[r])||(t[r]=e[r]);return t},t.dateSorted=function(e,t){let r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return e.sort(((e,n)=>{const i=e[t].getTime(),o=n[t].getTime(),s=r?1:-1;return i<o?-1*s:i>o?1*s:0}))},t.topLevelCompare=v,t.jsonParseEmbeddedKeys=function(e){const t={};for(const r of Object.keys(e)){let n;try{n=JSON.parse(e[r])}catch(t){n=e[r]}t[r]=n}return t},t.withoutLastElement=e=>e.slice(0,-1),t.omitInPlace=function(e,t){if(e)for(const r of t)delete e[r]},t.omitByCopy=function(e,t){if(p(e))return;const r=Object.assign({},e);for(const e of t)delete r[e];return r},t.joinPaths=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.map(((e,t)=>0===t?e.trim().replace(/[/]*$/g,\"\"):e.trim().replace(/(^[/]*|[/]*$)/g,\"\"))).filter((e=>e.length)).join(\"/\")},t.Copy=f,t.deepMerge=function(e,t){if(!e||!t)throw\"Attempting to deepMerge with null values\";return(0,o.mergeWith)(e,t,((e,t)=>{if((0,o.isArray)(e))return t})),e},t.pickByCopy=function(e,t){const r={};for(const n of t)r[n]=e[n];return f(r)},t.deepFreeze=function e(t){const r=Object.getOwnPropertyNames(t);for(const n of r){const r=t[n];r&&\"object\"==typeof r&&!Object.isFrozen(r)?t[n]=e(r):t[n]=r}return Object.freeze(t)},t.isValidUrl=function(e){try{return new URL(e),!0}catch(e){return!1}},t.hasGetter=function(e,t){const r=Object.getOwnPropertyDescriptor(Object.getPrototypeOf(e),t);return r&&!p(r.get)},t.truncateHexString=function(e,t){const r=t/4;return e.substring(0,r)},t.sleep=function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return n(this,void 0,void 0,(function*(){return t&&console.warn(\"Sleeping for \".concat(e,\"ms\")),new Promise((t=>{setTimeout((function(){t()}),e)}))}))},t.assertUnreachable=function(e){throw Error(\"Unchecked case \"+e)},t.isSameDay=function(e,t){return e.getFullYear()===t.getFullYear()&&e.getMonth()===t.getMonth()&&e.getDate()===t.getDate()},t.naturalSort=function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:\"asc\";switch(r){case\"asc\":return[...e].sort(s?(e,r)=>s.compare(e[t],r[t]):(e,r)=>e[t].localeCompare(r[t],\"en\",{numeric:!0}));case\"desc\":return[...e].sort(s?(e,r)=>s.compare(r[t],e[t]):(e,r)=>r[t].localeCompare(e[t],\"en\",{numeric:!0}))}},t.arraysEqual=function(e,t){return e.length===t.length&&e.every((e=>t.includes(e)))&&t.every((t=>e.includes(t)))},function(e){e[e.Seconds=10]=\"Seconds\",e[e.Milliseconds=13]=\"Milliseconds\",e[e.Microseconds=16]=\"Microseconds\"}(g||(g={})),t.convertTimestampToMilliseconds=function(e){switch(String(e).length){case g.Seconds:return 1e3*e;case g.Milliseconds:return e;case g.Microseconds:return Math.floor(e/1e3);default:throw\"Unhandled timestamp precision: \".concat(e)}},t.sanitizeHtmlString=function(e){return(0,i.sanitize)(e)},t.dateToLocalizedString=function(e){if(\"undefined\"!=typeof Intl&&Intl.DateTimeFormat&&\"undefined\"!=typeof navigator){if(!m){const e=navigator.languages&&navigator.languages.length?navigator.languages[0]:navigator.language;m=new Intl.DateTimeFormat(e,{year:\"numeric\",month:\"short\",day:\"2-digit\",weekday:\"long\",hour:\"2-digit\",minute:\"2-digit\"})}return m.format(e)}return e.toDateString()+\" \"+e.toLocaleTimeString()},t.nonSecureRandomIdentifier=function(){return\"\".concat(100*Math.random()).replace(\".\",\"\")},t.splitString=function(e,t){const r=e.length/t,n=[];for(let i=0;i<t;i++){const t=e.slice(r*i,r*(i+1));n.push(t)}return n},t.firstHalfOfString=function(e){return e.substring(0,e.length/2)},t.secondHalfOfString=function(e){return e.substring(e.length/2,e.length)},t.log=function(e){const t=new Date,r=\"\".concat(t.toLocaleTimeString().replace(\" PM\",\"\").replace(\" AM\",\"\"),\".\").concat(t.getMilliseconds());for(var n=arguments.length,i=new Array(n>1?n-1:0),o=1;o<n;o++)i[o-1]=arguments[o];S(\"%c\".concat(e,\"%c\").concat(r),\"color: black; font-weight: bold; margin-right: 4px\",\"color: gray\",...i)},t.assert=function(e){if(void 0===e)throw new Error(\"Assertion failed; value must be defined\")},t.useBoolean=function(e,t){return null!=e?e:t}},42414:(e,t)=>{Object.defineProperty(t,\"__esModule\",{value:!0}),t.Uuids=void 0,t.Uuids=function(e){return e.map((e=>e.uuid))}},56221:(e,t)=>{Object.defineProperty(t,\"__esModule\",{value:!0}),t.UuidGenerator=void 0,t.UuidGenerator=class{static SetGenerator(e){this.syncUuidFunc=e}static GenerateUuid(){return this.syncUuidFunc()}}},29308:(e,t,r)=>{Object.defineProperty(t,\"__esModule\",{value:!0}),t.UuidMap=void 0;const n=r(85485);class i{constructor(){this.directMap={},this.inverseMap={}}makeCopy(){const e=new i;return e.directMap=Object.assign({},this.directMap),e.inverseMap=Object.assign({},this.inverseMap),e}getDirectRelationships(e){return this.directMap[e]||[]}getInverseRelationships(e){return this.inverseMap[e]||[]}establishRelationship(e,t){this.establishDirectRelationship(e,t),this.establishInverseRelationship(e,t)}deestablishRelationship(e,t){this.deestablishDirectRelationship(e,t),this.deestablishInverseRelationship(e,t)}setAllRelationships(e,t){const r=this.directMap[e]||[];this.directMap[e]=t;for(const t of r)this.deestablishInverseRelationship(e,t);for(const r of t)this.establishInverseRelationship(e,r)}removeFromMap(e){const t=this.directMap[e]||[];for(const r of t)(0,n.removeFromArray)(this.inverseMap[r]||[],e);delete this.directMap[e];const r=this.inverseMap[e]||[];for(const t of r)(0,n.removeFromArray)(this.directMap[t]||[],e);delete this.inverseMap[e]}establishDirectRelationship(e,t){const r=this.directMap[e]||[];(0,n.addIfUnique)(r,t),this.directMap[e]=r}establishInverseRelationship(e,t){const r=this.inverseMap[t]||[];(0,n.addIfUnique)(r,e),this.inverseMap[t]=r}deestablishDirectRelationship(e,t){const r=this.directMap[e]||[];(0,n.removeFromArray)(r,t),this.directMap[e]=r}deestablishInverseRelationship(e,t){const r=this.inverseMap[t]||[];(0,n.removeFromArray)(r,e),this.inverseMap[t]=r}}t.UuidMap=i},9314:function(e,t,r){var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!(\"get\"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)\"default\"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,\"__esModule\",{value:!0}),i(r(85485),t),i(r(56221),t),i(r(29308),t),i(r(42414),t),i(r(5056),t)},64657:function(e,t,r){var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!(\"get\"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)\"default\"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,\"__esModule\",{value:!0}),i(r(9314),t)}},t={};function r(n){var i=t[n];if(void 0!==i)return i.exports;var o=t[n]={id:n,loaded:!1,exports:{}};return e[n].call(o.exports,o,o.exports,r),o.loaded=!0,o.exports}r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.g=function(){if(\"object\"==typeof globalThis)return globalThis;try{return this||new Function(\"return this\")()}catch(e){if(\"object\"==typeof window)return window}}(),r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r.r=e=>{\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(e,\"__esModule\",{value:!0})},r.nmd=e=>(e.paths=[],e.children||(e.children=[]),e);var n={};return(()=>{r.r(n),r.d(n,{AccountSyncOperation:()=>a.U8,AllowedBatchContentTypes:()=>a.Jg,AllowedBatchStreaming:()=>a.h6,ApplicationGroupEvent:()=>t.$,ApplicationService:()=>a.IX,BaseMigration:()=>s._r,ChallengeOperation:()=>a.ne,ChallengeResponse:()=>a.ap,ChallengeService:()=>a.PJ,ComponentManagerEvent:()=>a.VG,ComponentViewer:()=>a.SV,DiskStorageService:()=>a.e5,FileViewController:()=>i.rp,GetSortedPayloadsByPriority:()=>a.xO,HttpVerb:()=>a.FH,IconsController:()=>i.iB,ItemGroupController:()=>i.Jj,ItemManager:()=>a.A,JwtSession:()=>a.jW,ListedService:()=>a.o8,LiveItem:()=>e.J5,MINIMUM_PASSWORD_LENGTH:()=>a.aM,Migration2_0_0:()=>s.ce,Migration2_0_15:()=>s.ly,Migration2_20_0:()=>s.kK,Migration2_36_0:()=>s.qW,Migration2_42_0:()=>s.Ni,Migration2_7_0:()=>s.pI,MigrationClasses:()=>s.R_,MissingAccountParams:()=>a.Sn,MutatorService:()=>a.Vu,NoteViewController:()=>i._p,OfflineSyncOperation:()=>a.Bi,Paths:()=>a.nB,PayloadManager:()=>a.Ot,PreviousSnjsVersion1_0_0:()=>c.DU,PreviousSnjsVersion2_0_0:()=>c.Oq,ProposedSecondsToDeferUILevelSessionExpirationDuringActiveInteraction:()=>a.Ps,ProtectionEvent:()=>a.Hh,ProtectionSessionDurations:()=>a.jg,ReactNativeToWebEvent:()=>i.Zw,SNActionsService:()=>a.UP,SNApiService:()=>a.QL,SNApplication:()=>e.UC,SNApplicationGroup:()=>t.R,SNComponentManager:()=>a.bJ,SNFeaturesService:()=>a.sX,SNHistoryManager:()=>a.Cv,SNHttpService:()=>a.aJ,SNKeyRecoveryService:()=>a.Mj,SNLog:()=>o.W,SNMfaService:()=>a.P$,SNMigrationService:()=>a.FR,SNPreferencesService:()=>a.J_,SNProtectionService:()=>a.Xr,SNSessionManager:()=>a.Lb,SNSettingsService:()=>a.kf,SNSingletonManager:()=>a.c5,SNSyncService:()=>a.xu,SNWebSocketsService:()=>a.g7,ServerSyncResponse:()=>a.Fi,ServerSyncResponseResolver:()=>a.y0,Session:()=>a.z_,SessionEvent:()=>a.Px,SessionFromRawStorageValue:()=>a.d6,SnjsVersion:()=>c.in,SyncEvent:()=>e.wM,SyncOpStatus:()=>a.BU,SyncUpDownLimit:()=>a.jH,TokenSession:()=>a.NA,UnprotectedAccessSecondsDuration:()=>a.Fr,WebSocketsServiceEvent:()=>a.fA,applicationEventForSyncEvent:()=>e.ie,compareSemVersions:()=>c.D8,environmentToString:()=>e.g,isEnvironmentMobile:()=>e.Im,isEnvironmentWebOrDesktop:()=>e.Ak,isRightVersionGreaterThanLeft:()=>c.jV,isValidProtectionSessionLength:()=>a.z4,platformFromString:()=>e.FB,platformToString:()=>e._e});var e=r(58364),t=r(82698),i=r(78338),o=r(44412),s=r(24431),a=r(65432),c=r(10715),l=r(10256),u={};for(const e in l)[\"default\",\"LiveItem\",\"SNApplication\",\"SyncEvent\",\"applicationEventForSyncEvent\",\"environmentToString\",\"isEnvironmentMobile\",\"isEnvironmentWebOrDesktop\",\"platformFromString\",\"platformToString\",\"ApplicationGroupEvent\",\"SNApplicationGroup\",\"FileViewController\",\"IconsController\",\"ItemGroupController\",\"NoteViewController\",\"ReactNativeToWebEvent\",\"SNLog\",\"BaseMigration\",\"Migration2_0_0\",\"Migration2_0_15\",\"Migration2_20_0\",\"Migration2_36_0\",\"Migration2_42_0\",\"Migration2_7_0\",\"MigrationClasses\",\"AccountSyncOperation\",\"AllowedBatchContentTypes\",\"AllowedBatchStreaming\",\"ApplicationService\",\"ChallengeOperation\",\"ChallengeResponse\",\"ChallengeService\",\"ComponentManagerEvent\",\"ComponentViewer\",\"DiskStorageService\",\"GetSortedPayloadsByPriority\",\"HttpVerb\",\"ItemManager\",\"JwtSession\",\"ListedService\",\"MINIMUM_PASSWORD_LENGTH\",\"MissingAccountParams\",\"MutatorService\",\"OfflineSyncOperation\",\"Paths\",\"PayloadManager\",\"ProposedSecondsToDeferUILevelSessionExpirationDuringActiveInteraction\",\"ProtectionEvent\",\"ProtectionSessionDurations\",\"SNActionsService\",\"SNApiService\",\"SNComponentManager\",\"SNFeaturesService\",\"SNHistoryManager\",\"SNHttpService\",\"SNKeyRecoveryService\",\"SNMfaService\",\"SNMigrationService\",\"SNPreferencesService\",\"SNProtectionService\",\"SNSessionManager\",\"SNSettingsService\",\"SNSingletonManager\",\"SNSyncService\",\"SNWebSocketsService\",\"ServerSyncResponse\",\"ServerSyncResponseResolver\",\"Session\",\"SessionEvent\",\"SessionFromRawStorageValue\",\"SyncOpStatus\",\"SyncUpDownLimit\",\"TokenSession\",\"UnprotectedAccessSecondsDuration\",\"WebSocketsServiceEvent\",\"isValidProtectionSessionLength\",\"PreviousSnjsVersion1_0_0\",\"PreviousSnjsVersion2_0_0\",\"SnjsVersion\",\"compareSemVersions\",\"isRightVersionGreaterThanLeft\"].indexOf(e)<0&&(u[e]=()=>l[e]);r.d(n,u);var d=r(75082);u={};for(const e in d)[\"default\",\"LiveItem\",\"SNApplication\",\"SyncEvent\",\"applicationEventForSyncEvent\",\"environmentToString\",\"isEnvironmentMobile\",\"isEnvironmentWebOrDesktop\",\"platformFromString\",\"platformToString\",\"ApplicationGroupEvent\",\"SNApplicationGroup\",\"FileViewController\",\"IconsController\",\"ItemGroupController\",\"NoteViewController\",\"ReactNativeToWebEvent\",\"SNLog\",\"BaseMigration\",\"Migration2_0_0\",\"Migration2_0_15\",\"Migration2_20_0\",\"Migration2_36_0\",\"Migration2_42_0\",\"Migration2_7_0\",\"MigrationClasses\",\"AccountSyncOperation\",\"AllowedBatchContentTypes\",\"AllowedBatchStreaming\",\"ApplicationService\",\"ChallengeOperation\",\"ChallengeResponse\",\"ChallengeService\",\"ComponentManagerEvent\",\"ComponentViewer\",\"DiskStorageService\",\"GetSortedPayloadsByPriority\",\"HttpVerb\",\"ItemManager\",\"JwtSession\",\"ListedService\",\"MINIMUM_PASSWORD_LENGTH\",\"MissingAccountParams\",\"MutatorService\",\"OfflineSyncOperation\",\"Paths\",\"PayloadManager\",\"ProposedSecondsToDeferUILevelSessionExpirationDuringActiveInteraction\",\"ProtectionEvent\",\"ProtectionSessionDurations\",\"SNActionsService\",\"SNApiService\",\"SNComponentManager\",\"SNFeaturesService\",\"SNHistoryManager\",\"SNHttpService\",\"SNKeyRecoveryService\",\"SNMfaService\",\"SNMigrationService\",\"SNPreferencesService\",\"SNProtectionService\",\"SNSessionManager\",\"SNSettingsService\",\"SNSingletonManager\",\"SNSyncService\",\"SNWebSocketsService\",\"ServerSyncResponse\",\"ServerSyncResponseResolver\",\"Session\",\"SessionEvent\",\"SessionFromRawStorageValue\",\"SyncOpStatus\",\"SyncUpDownLimit\",\"TokenSession\",\"UnprotectedAccessSecondsDuration\",\"WebSocketsServiceEvent\",\"isValidProtectionSessionLength\",\"PreviousSnjsVersion1_0_0\",\"PreviousSnjsVersion2_0_0\",\"SnjsVersion\",\"compareSemVersions\",\"isRightVersionGreaterThanLeft\"].indexOf(e)<0&&(u[e]=()=>d[e]);r.d(n,u);var p=r(70295);u={};for(const e in p)[\"default\",\"LiveItem\",\"SNApplication\",\"SyncEvent\",\"applicationEventForSyncEvent\",\"environmentToString\",\"isEnvironmentMobile\",\"isEnvironmentWebOrDesktop\",\"platformFromString\",\"platformToString\",\"ApplicationGroupEvent\",\"SNApplicationGroup\",\"FileViewController\",\"IconsController\",\"ItemGroupController\",\"NoteViewController\",\"ReactNativeToWebEvent\",\"SNLog\",\"BaseMigration\",\"Migration2_0_0\",\"Migration2_0_15\",\"Migration2_20_0\",\"Migration2_36_0\",\"Migration2_42_0\",\"Migration2_7_0\",\"MigrationClasses\",\"AccountSyncOperation\",\"AllowedBatchContentTypes\",\"AllowedBatchStreaming\",\"ApplicationService\",\"ChallengeOperation\",\"ChallengeResponse\",\"ChallengeService\",\"ComponentManagerEvent\",\"ComponentViewer\",\"DiskStorageService\",\"GetSortedPayloadsByPriority\",\"HttpVerb\",\"ItemManager\",\"JwtSession\",\"ListedService\",\"MINIMUM_PASSWORD_LENGTH\",\"MissingAccountParams\",\"MutatorService\",\"OfflineSyncOperation\",\"Paths\",\"PayloadManager\",\"ProposedSecondsToDeferUILevelSessionExpirationDuringActiveInteraction\",\"ProtectionEvent\",\"ProtectionSessionDurations\",\"SNActionsService\",\"SNApiService\",\"SNComponentManager\",\"SNFeaturesService\",\"SNHistoryManager\",\"SNHttpService\",\"SNKeyRecoveryService\",\"SNMfaService\",\"SNMigrationService\",\"SNPreferencesService\",\"SNProtectionService\",\"SNSessionManager\",\"SNSettingsService\",\"SNSingletonManager\",\"SNSyncService\",\"SNWebSocketsService\",\"ServerSyncResponse\",\"ServerSyncResponseResolver\",\"Session\",\"SessionEvent\",\"SessionFromRawStorageValue\",\"SyncOpStatus\",\"SyncUpDownLimit\",\"TokenSession\",\"UnprotectedAccessSecondsDuration\",\"WebSocketsServiceEvent\",\"isValidProtectionSessionLength\",\"PreviousSnjsVersion1_0_0\",\"PreviousSnjsVersion2_0_0\",\"SnjsVersion\",\"compareSemVersions\",\"isRightVersionGreaterThanLeft\"].indexOf(e)<0&&(u[e]=()=>p[e]);r.d(n,u);var h=r(14581);u={};for(const e in h)[\"default\",\"LiveItem\",\"SNApplication\",\"SyncEvent\",\"applicationEventForSyncEvent\",\"environmentToString\",\"isEnvironmentMobile\",\"isEnvironmentWebOrDesktop\",\"platformFromString\",\"platformToString\",\"ApplicationGroupEvent\",\"SNApplicationGroup\",\"FileViewController\",\"IconsController\",\"ItemGroupController\",\"NoteViewController\",\"ReactNativeToWebEvent\",\"SNLog\",\"BaseMigration\",\"Migration2_0_0\",\"Migration2_0_15\",\"Migration2_20_0\",\"Migration2_36_0\",\"Migration2_42_0\",\"Migration2_7_0\",\"MigrationClasses\",\"AccountSyncOperation\",\"AllowedBatchContentTypes\",\"AllowedBatchStreaming\",\"ApplicationService\",\"ChallengeOperation\",\"ChallengeResponse\",\"ChallengeService\",\"ComponentManagerEvent\",\"ComponentViewer\",\"DiskStorageService\",\"GetSortedPayloadsByPriority\",\"HttpVerb\",\"ItemManager\",\"JwtSession\",\"ListedService\",\"MINIMUM_PASSWORD_LENGTH\",\"MissingAccountParams\",\"MutatorService\",\"OfflineSyncOperation\",\"Paths\",\"PayloadManager\",\"ProposedSecondsToDeferUILevelSessionExpirationDuringActiveInteraction\",\"ProtectionEvent\",\"ProtectionSessionDurations\",\"SNActionsService\",\"SNApiService\",\"SNComponentManager\",\"SNFeaturesService\",\"SNHistoryManager\",\"SNHttpService\",\"SNKeyRecoveryService\",\"SNMfaService\",\"SNMigrationService\",\"SNPreferencesService\",\"SNProtectionService\",\"SNSessionManager\",\"SNSettingsService\",\"SNSingletonManager\",\"SNSyncService\",\"SNWebSocketsService\",\"ServerSyncResponse\",\"ServerSyncResponseResolver\",\"Session\",\"SessionEvent\",\"SessionFromRawStorageValue\",\"SyncOpStatus\",\"SyncUpDownLimit\",\"TokenSession\",\"UnprotectedAccessSecondsDuration\",\"WebSocketsServiceEvent\",\"isValidProtectionSessionLength\",\"PreviousSnjsVersion1_0_0\",\"PreviousSnjsVersion2_0_0\",\"SnjsVersion\",\"compareSemVersions\",\"isRightVersionGreaterThanLeft\"].indexOf(e)<0&&(u[e]=()=>h[e]);r.d(n,u);var y=r(16418);u={};for(const e in y)[\"default\",\"LiveItem\",\"SNApplication\",\"SyncEvent\",\"applicationEventForSyncEvent\",\"environmentToString\",\"isEnvironmentMobile\",\"isEnvironmentWebOrDesktop\",\"platformFromString\",\"platformToString\",\"ApplicationGroupEvent\",\"SNApplicationGroup\",\"FileViewController\",\"IconsController\",\"ItemGroupController\",\"NoteViewController\",\"ReactNativeToWebEvent\",\"SNLog\",\"BaseMigration\",\"Migration2_0_0\",\"Migration2_0_15\",\"Migration2_20_0\",\"Migration2_36_0\",\"Migration2_42_0\",\"Migration2_7_0\",\"MigrationClasses\",\"AccountSyncOperation\",\"AllowedBatchContentTypes\",\"AllowedBatchStreaming\",\"ApplicationService\",\"ChallengeOperation\",\"ChallengeResponse\",\"ChallengeService\",\"ComponentManagerEvent\",\"ComponentViewer\",\"DiskStorageService\",\"GetSortedPayloadsByPriority\",\"HttpVerb\",\"ItemManager\",\"JwtSession\",\"ListedService\",\"MINIMUM_PASSWORD_LENGTH\",\"MissingAccountParams\",\"MutatorService\",\"OfflineSyncOperation\",\"Paths\",\"PayloadManager\",\"ProposedSecondsToDeferUILevelSessionExpirationDuringActiveInteraction\",\"ProtectionEvent\",\"ProtectionSessionDurations\",\"SNActionsService\",\"SNApiService\",\"SNComponentManager\",\"SNFeaturesService\",\"SNHistoryManager\",\"SNHttpService\",\"SNKeyRecoveryService\",\"SNMfaService\",\"SNMigrationService\",\"SNPreferencesService\",\"SNProtectionService\",\"SNSessionManager\",\"SNSettingsService\",\"SNSingletonManager\",\"SNSyncService\",\"SNWebSocketsService\",\"ServerSyncResponse\",\"ServerSyncResponseResolver\",\"Session\",\"SessionEvent\",\"SessionFromRawStorageValue\",\"SyncOpStatus\",\"SyncUpDownLimit\",\"TokenSession\",\"UnprotectedAccessSecondsDuration\",\"WebSocketsServiceEvent\",\"isValidProtectionSessionLength\",\"PreviousSnjsVersion1_0_0\",\"PreviousSnjsVersion2_0_0\",\"SnjsVersion\",\"compareSemVersions\",\"isRightVersionGreaterThanLeft\"].indexOf(e)<0&&(u[e]=()=>y[e]);r.d(n,u);var v=r(84945);u={};for(const e in v)[\"default\",\"LiveItem\",\"SNApplication\",\"SyncEvent\",\"applicationEventForSyncEvent\",\"environmentToString\",\"isEnvironmentMobile\",\"isEnvironmentWebOrDesktop\",\"platformFromString\",\"platformToString\",\"ApplicationGroupEvent\",\"SNApplicationGroup\",\"FileViewController\",\"IconsController\",\"ItemGroupController\",\"NoteViewController\",\"ReactNativeToWebEvent\",\"SNLog\",\"BaseMigration\",\"Migration2_0_0\",\"Migration2_0_15\",\"Migration2_20_0\",\"Migration2_36_0\",\"Migration2_42_0\",\"Migration2_7_0\",\"MigrationClasses\",\"AccountSyncOperation\",\"AllowedBatchContentTypes\",\"AllowedBatchStreaming\",\"ApplicationService\",\"ChallengeOperation\",\"ChallengeResponse\",\"ChallengeService\",\"ComponentManagerEvent\",\"ComponentViewer\",\"DiskStorageService\",\"GetSortedPayloadsByPriority\",\"HttpVerb\",\"ItemManager\",\"JwtSession\",\"ListedService\",\"MINIMUM_PASSWORD_LENGTH\",\"MissingAccountParams\",\"MutatorService\",\"OfflineSyncOperation\",\"Paths\",\"PayloadManager\",\"ProposedSecondsToDeferUILevelSessionExpirationDuringActiveInteraction\",\"ProtectionEvent\",\"ProtectionSessionDurations\",\"SNActionsService\",\"SNApiService\",\"SNComponentManager\",\"SNFeaturesService\",\"SNHistoryManager\",\"SNHttpService\",\"SNKeyRecoveryService\",\"SNMfaService\",\"SNMigrationService\",\"SNPreferencesService\",\"SNProtectionService\",\"SNSessionManager\",\"SNSettingsService\",\"SNSingletonManager\",\"SNSyncService\",\"SNWebSocketsService\",\"ServerSyncResponse\",\"ServerSyncResponseResolver\",\"Session\",\"SessionEvent\",\"SessionFromRawStorageValue\",\"SyncOpStatus\",\"SyncUpDownLimit\",\"TokenSession\",\"UnprotectedAccessSecondsDuration\",\"WebSocketsServiceEvent\",\"isValidProtectionSessionLength\",\"PreviousSnjsVersion1_0_0\",\"PreviousSnjsVersion2_0_0\",\"SnjsVersion\",\"compareSemVersions\",\"isRightVersionGreaterThanLeft\"].indexOf(e)<0&&(u[e]=()=>v[e]);r.d(n,u);var f=r(20819);u={};for(const e in f)[\"default\",\"LiveItem\",\"SNApplication\",\"SyncEvent\",\"applicationEventForSyncEvent\",\"environmentToString\",\"isEnvironmentMobile\",\"isEnvironmentWebOrDesktop\",\"platformFromString\",\"platformToString\",\"ApplicationGroupEvent\",\"SNApplicationGroup\",\"FileViewController\",\"IconsController\",\"ItemGroupController\",\"NoteViewController\",\"ReactNativeToWebEvent\",\"SNLog\",\"BaseMigration\",\"Migration2_0_0\",\"Migration2_0_15\",\"Migration2_20_0\",\"Migration2_36_0\",\"Migration2_42_0\",\"Migration2_7_0\",\"MigrationClasses\",\"AccountSyncOperation\",\"AllowedBatchContentTypes\",\"AllowedBatchStreaming\",\"ApplicationService\",\"ChallengeOperation\",\"ChallengeResponse\",\"ChallengeService\",\"ComponentManagerEvent\",\"ComponentViewer\",\"DiskStorageService\",\"GetSortedPayloadsByPriority\",\"HttpVerb\",\"ItemManager\",\"JwtSession\",\"ListedService\",\"MINIMUM_PASSWORD_LENGTH\",\"MissingAccountParams\",\"MutatorService\",\"OfflineSyncOperation\",\"Paths\",\"PayloadManager\",\"ProposedSecondsToDeferUILevelSessionExpirationDuringActiveInteraction\",\"ProtectionEvent\",\"ProtectionSessionDurations\",\"SNActionsService\",\"SNApiService\",\"SNComponentManager\",\"SNFeaturesService\",\"SNHistoryManager\",\"SNHttpService\",\"SNKeyRecoveryService\",\"SNMfaService\",\"SNMigrationService\",\"SNPreferencesService\",\"SNProtectionService\",\"SNSessionManager\",\"SNSettingsService\",\"SNSingletonManager\",\"SNSyncService\",\"SNWebSocketsService\",\"ServerSyncResponse\",\"ServerSyncResponseResolver\",\"Session\",\"SessionEvent\",\"SessionFromRawStorageValue\",\"SyncOpStatus\",\"SyncUpDownLimit\",\"TokenSession\",\"UnprotectedAccessSecondsDuration\",\"WebSocketsServiceEvent\",\"isValidProtectionSessionLength\",\"PreviousSnjsVersion1_0_0\",\"PreviousSnjsVersion2_0_0\",\"SnjsVersion\",\"compareSemVersions\",\"isRightVersionGreaterThanLeft\"].indexOf(e)<0&&(u[e]=()=>f[e]);r.d(n,u);var g=r(9382);u={};for(const e in g)[\"default\",\"LiveItem\",\"SNApplication\",\"SyncEvent\",\"applicationEventForSyncEvent\",\"environmentToString\",\"isEnvironmentMobile\",\"isEnvironmentWebOrDesktop\",\"platformFromString\",\"platformToString\",\"ApplicationGroupEvent\",\"SNApplicationGroup\",\"FileViewController\",\"IconsController\",\"ItemGroupController\",\"NoteViewController\",\"ReactNativeToWebEvent\",\"SNLog\",\"BaseMigration\",\"Migration2_0_0\",\"Migration2_0_15\",\"Migration2_20_0\",\"Migration2_36_0\",\"Migration2_42_0\",\"Migration2_7_0\",\"MigrationClasses\",\"AccountSyncOperation\",\"AllowedBatchContentTypes\",\"AllowedBatchStreaming\",\"ApplicationService\",\"ChallengeOperation\",\"ChallengeResponse\",\"ChallengeService\",\"ComponentManagerEvent\",\"ComponentViewer\",\"DiskStorageService\",\"GetSortedPayloadsByPriority\",\"HttpVerb\",\"ItemManager\",\"JwtSession\",\"ListedService\",\"MINIMUM_PASSWORD_LENGTH\",\"MissingAccountParams\",\"MutatorService\",\"OfflineSyncOperation\",\"Paths\",\"PayloadManager\",\"ProposedSecondsToDeferUILevelSessionExpirationDuringActiveInteraction\",\"ProtectionEvent\",\"ProtectionSessionDurations\",\"SNActionsService\",\"SNApiService\",\"SNComponentManager\",\"SNFeaturesService\",\"SNHistoryManager\",\"SNHttpService\",\"SNKeyRecoveryService\",\"SNMfaService\",\"SNMigrationService\",\"SNPreferencesService\",\"SNProtectionService\",\"SNSessionManager\",\"SNSettingsService\",\"SNSingletonManager\",\"SNSyncService\",\"SNWebSocketsService\",\"ServerSyncResponse\",\"ServerSyncResponseResolver\",\"Session\",\"SessionEvent\",\"SessionFromRawStorageValue\",\"SyncOpStatus\",\"SyncUpDownLimit\",\"TokenSession\",\"UnprotectedAccessSecondsDuration\",\"WebSocketsServiceEvent\",\"isValidProtectionSessionLength\",\"PreviousSnjsVersion1_0_0\",\"PreviousSnjsVersion2_0_0\",\"SnjsVersion\",\"compareSemVersions\",\"isRightVersionGreaterThanLeft\"].indexOf(e)<0&&(u[e]=()=>g[e]);r.d(n,u);var m=r(64657);u={};for(const e in m)[\"default\",\"LiveItem\",\"SNApplication\",\"SyncEvent\",\"applicationEventForSyncEvent\",\"environmentToString\",\"isEnvironmentMobile\",\"isEnvironmentWebOrDesktop\",\"platformFromString\",\"platformToString\",\"ApplicationGroupEvent\",\"SNApplicationGroup\",\"FileViewController\",\"IconsController\",\"ItemGroupController\",\"NoteViewController\",\"ReactNativeToWebEvent\",\"SNLog\",\"BaseMigration\",\"Migration2_0_0\",\"Migration2_0_15\",\"Migration2_20_0\",\"Migration2_36_0\",\"Migration2_42_0\",\"Migration2_7_0\",\"MigrationClasses\",\"AccountSyncOperation\",\"AllowedBatchContentTypes\",\"AllowedBatchStreaming\",\"ApplicationService\",\"ChallengeOperation\",\"ChallengeResponse\",\"ChallengeService\",\"ComponentManagerEvent\",\"ComponentViewer\",\"DiskStorageService\",\"GetSortedPayloadsByPriority\",\"HttpVerb\",\"ItemManager\",\"JwtSession\",\"ListedService\",\"MINIMUM_PASSWORD_LENGTH\",\"MissingAccountParams\",\"MutatorService\",\"OfflineSyncOperation\",\"Paths\",\"PayloadManager\",\"ProposedSecondsToDeferUILevelSessionExpirationDuringActiveInteraction\",\"ProtectionEvent\",\"ProtectionSessionDurations\",\"SNActionsService\",\"SNApiService\",\"SNComponentManager\",\"SNFeaturesService\",\"SNHistoryManager\",\"SNHttpService\",\"SNKeyRecoveryService\",\"SNMfaService\",\"SNMigrationService\",\"SNPreferencesService\",\"SNProtectionService\",\"SNSessionManager\",\"SNSettingsService\",\"SNSingletonManager\",\"SNSyncService\",\"SNWebSocketsService\",\"ServerSyncResponse\",\"ServerSyncResponseResolver\",\"Session\",\"SessionEvent\",\"SessionFromRawStorageValue\",\"SyncOpStatus\",\"SyncUpDownLimit\",\"TokenSession\",\"UnprotectedAccessSecondsDuration\",\"WebSocketsServiceEvent\",\"isValidProtectionSessionLength\",\"PreviousSnjsVersion1_0_0\",\"PreviousSnjsVersion2_0_0\",\"SnjsVersion\",\"compareSemVersions\",\"isRightVersionGreaterThanLeft\"].indexOf(e)<0&&(u[e]=()=>m[e]);r.d(n,u)})(),n})(),e.exports=t()}},t={};function r(n){var i=t[n];if(void 0!==i)return i.exports;var o=t[n]={exports:{}};return e[n](o,o.exports,r),o.exports}r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var n={};return(()=>{\"use strict\";r.d(n,{default:()=>P});var e,t=r(109),i=new Uint8Array(16);function o(){if(!e&&!(e=\"undefined\"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||\"undefined\"!=typeof msCrypto&&\"function\"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error(\"crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported\");return e(i)}const s=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,a=function(e){return\"string\"==typeof e&&s.test(e)};for(var c=[],l=0;l<256;++l)c.push((l+256).toString(16).substr(1));const u=function(e,t,r){var n=(e=e||{}).random||(e.rng||o)();if(n[6]=15&n[6]|64,n[8]=63&n[8]|128,t){r=r||0;for(var i=0;i<16;++i)t[r+i]=n[i];return t}return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=(c[e[t+0]]+c[e[t+1]]+c[e[t+2]]+c[e[t+3]]+\"-\"+c[e[t+4]]+c[e[t+5]]+\"-\"+c[e[t+6]]+c[e[t+7]]+\"-\"+c[e[t+8]]+c[e[t+9]]+\"-\"+c[e[t+10]]+c[e[t+11]]+c[e[t+12]]+c[e[t+13]]+c[e[t+14]]+c[e[t+15]]).toLowerCase();if(!a(r))throw TypeError(\"Stringified UUID is invalid\");return r}(n)},d=e=>{var r;const n={[t.Environment.Web]:\"web\",[t.Environment.Desktop]:\"desktop\",[t.Environment.Mobile]:\"mobile\"};return null!==(r=n[e])&&void 0!==r?r:n[t.Environment.Web]},p=()=>{};class h{static get isSupported(){return!(!window.console&&!console)}static get info(){return h.isSupported&&this.enabled?console.log.bind(console):p}static get error(){return h.isSupported?console.error.bind(console):p}}var y,v;let f,g;function m(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function S(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?m(Object(r),!0).forEach((function(t){b(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):m(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function b(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}(v=\"enabled\")in(y=h)?Object.defineProperty(y,v,{value:false,enumerable:!0,configurable:!0,writable:!0}):y[v]=false,function(e){e.Shift=\"Shift\",e.Ctrl=\"Control\",e.Meta=\"Meta\"}(f||(f={})),function(e){e.Component=\"component\"}(g||(g={}));class P{constructor(e){var t,r;if(b(this,\"contentWindow\",void 0),b(this,\"component\",{activeThemes:[],acceptsThemes:!0}),b(this,\"sentMessages\",[]),b(this,\"messageQueue\",[]),b(this,\"lastStreamedItem\",void 0),b(this,\"pendingSaveItems\",void 0),b(this,\"pendingSaveTimeout\",void 0),b(this,\"pendingSaveParams\",void 0),b(this,\"messageHandler\",void 0),b(this,\"keyDownEventListener\",void 0),b(this,\"keyUpEventListener\",void 0),b(this,\"clickEventListener\",void 0),b(this,\"concernTimeouts\",[]),b(this,\"options\",void 0),b(this,\"params\",void 0),!e||!e.targetWindow)throw new Error(\"contentWindow must be a valid Window object.\");this.params=e,this.options=e.options||{},null==this.options.coallesedSaving&&(this.options.coallesedSaving=!0),null==this.options.coallesedSavingDelay&&(this.options.coallesedSavingDelay=250),null!=this.options.acceptsThemes&&(this.component.acceptsThemes=null===(r=this.options.acceptsThemes)||void 0===r||r),h.enabled=null!==(t=this.options.debug)&&void 0!==t&&t,this.contentWindow=e.targetWindow,this.registerMessageHandler(),this.registerKeyboardEventListeners(),this.registerMouseEventListeners()}deinit(){this.params.onReady=void 0,this.component={acceptsThemes:!0,activeThemes:[]},this.messageQueue=[],this.sentMessages=[],this.lastStreamedItem=void 0,this.pendingSaveItems=void 0,this.pendingSaveTimeout=void 0,this.pendingSaveParams=void 0,this.messageHandler&&(this.contentWindow.document.removeEventListener(\"message\",this.messageHandler),this.contentWindow.removeEventListener(\"message\",this.messageHandler)),this.keyDownEventListener&&this.contentWindow.removeEventListener(\"keydown\",this.keyDownEventListener),this.keyUpEventListener&&this.contentWindow.removeEventListener(\"keyup\",this.keyUpEventListener),this.clickEventListener&&this.contentWindow.removeEventListener(\"click\",this.clickEventListener)}registerMessageHandler(){this.messageHandler=e=>{if(h.info(\"Components API Message received:\",e.data),document.referrer&&new URL(document.referrer).origin!==new URL(e.origin).origin)return;const{data:r}=e,n=(e=>{if(\"string\"!=typeof e)return!1;try{const t=JSON.parse(e),r=Object.prototype.toString.call(t);return\"[object Object]\"===r||\"[object Array]\"===r}catch(e){return!1}})(r)?JSON.parse(r):r;if(n){if(void 0===this.component.origin&&n.action===t.ComponentAction.ComponentRegistered)this.component.origin=e.origin;else if(e.origin!==this.component.origin)return;this.handleMessage(n)}else h.error(\"Invalid data received. Skipping...\")},this.contentWindow.document.addEventListener(\"message\",this.messageHandler,!1),this.contentWindow.addEventListener(\"message\",this.messageHandler,!1),h.info(\"Waiting for messages...\")}registerKeyboardEventListeners(){this.keyDownEventListener=e=>{h.info(\"A key has been pressed: \".concat(e.key)),e.ctrlKey?this.keyDownEvent(f.Ctrl):e.shiftKey?this.keyDownEvent(f.Shift):(e.metaKey||\"Meta\"===e.key)&&this.keyDownEvent(f.Meta)},this.keyUpEventListener=e=>{h.info(\"A key has been released: \".concat(e.key)),\"Control\"===e.key?this.keyUpEvent(f.Ctrl):\"Shift\"===e.key?this.keyUpEvent(f.Shift):\"Meta\"===e.key&&this.keyUpEvent(f.Meta)},this.contentWindow.addEventListener(\"keydown\",this.keyDownEventListener,!1),this.contentWindow.addEventListener(\"keyup\",this.keyUpEventListener,!1)}registerMouseEventListeners(){this.clickEventListener=e=>{h.info(\"A click has been performed.\"),this.mouseClickEvent()},this.contentWindow.addEventListener(\"click\",this.clickEventListener,!1)}handleMessage(e){switch(e.action){case t.ComponentAction.ComponentRegistered:this.component.sessionKey=e.sessionKey,e.componentData&&(this.component.data=e.componentData),this.onReady(e.data),h.info(\"Component successfully registered with payload:\",e);break;case t.ComponentAction.ActivateThemes:this.activateThemes(e.data.themes);break;default:{var r,n;if(!e.original)return;const t=null===(r=this.sentMessages)||void 0===r?void 0:r.filter((t=>{var r;return t.messageId===(null===(r=e.original)||void 0===r?void 0:r.messageId)}))[0];if(!t){const e=this.contentWindow.document.title,t=(\"The extension '\".concat(e,\"' is attempting to communicate with Standard Notes, \")+\"but an error is preventing it from doing so. Please restart this extension and try again.\").replace(\"  \",\" \");return void h.info(t)}null==t||null===(n=t.callback)||void 0===n||n.call(t,e.data);break}}}onReady(e){this.component.environment=e.environment,this.component.platform=e.platform,this.component.uuid=e.uuid;for(const e of this.messageQueue)this.postMessage(e.action,e.data,e.callback);this.messageQueue=[],h.info(\"Data passed to onReady:\",e),this.activateThemes(e.activeThemeUrls||[]),this.postMessage(t.ComponentAction.ThemesActivated,{}),this.params.onReady&&this.params.onReady()}getSelfComponentUUID(){return this.component.uuid}isRunningInDesktopApplication(){return this.component.environment===d(t.Environment.Desktop)}isRunningInMobileApplication(){return this.component.environment===d(t.Environment.Mobile)}getComponentDataValueForKey(e){if(this.component.data)return this.component.data[e]}setComponentDataValueForKey(e,r){if(!this.component.data)throw new Error(\"The component has not been initialized.\");if(!e||e&&0===e.length)throw new Error(\"The key for the data value should be a valid string.\");this.component.data=S(S({},this.component.data),{},{[e]:r}),this.postMessage(t.ComponentAction.SetComponentData,{componentData:this.component.data})}clearComponentData(){this.component.data={},this.postMessage(t.ComponentAction.SetComponentData,{componentData:this.component.data})}postMessage(e,r,n){if(!this.component.sessionKey)return void this.messageQueue.push({action:e,data:r,api:g.Component,callback:n});e===t.ComponentAction.SaveItems&&(r.height=this.params.handleRequestForContentHeight());const i={action:e,data:r,messageId:this.generateUUID(),sessionKey:this.component.sessionKey,api:g.Component},o=JSON.parse(JSON.stringify(i));let s;o.callback=n,this.sentMessages.push(o),s=this.isRunningInMobileApplication()?JSON.stringify(i):i,h.info(\"Posting message:\",s),this.contentWindow.parent.postMessage(s,this.component.origin)}activateThemes(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if(!this.component.acceptsThemes)return;h.info(\"Incoming themes:\",e);const{activeThemes:t}=this.component;if(t&&t.sort().toString()==e.sort().toString())return;let r=e;const n=[];for(const i of t)e.includes(i)?r=r.filter((e=>e!==i)):n.push(i);h.info(\"Deactivating themes:\",n),h.info(\"Activating themes:\",r);for(const e of n)this.deactivateTheme(e);this.component.activeThemes=e;for(const e of r){if(!e)continue;const t=this.contentWindow.document.createElement(\"link\");t.id=btoa(e),t.href=e,t.type=\"text/css\",t.rel=\"stylesheet\",t.media=\"screen,print\",t.className=\"custom-theme\",this.contentWindow.document.getElementsByTagName(\"head\")[0].appendChild(t)}this.params.onThemesChange&&this.params.onThemesChange()}themeElementForUrl(e){return Array.from(this.contentWindow.document.getElementsByClassName(\"custom-theme\")).slice().find((t=>t.id==btoa(e)))}deactivateTheme(e){const t=this.themeElementForUrl(e);t&&t.parentNode&&(t.setAttribute(\"disabled\",\"true\"),t.parentNode.removeChild(t))}generateUUID(){return u()}get platform(){return this.component.platform}get environment(){return this.component.environment}streamItems(e,r){this.postMessage(t.ComponentAction.StreamItems,{content_types:e},(e=>{r(e.items)}))}streamContextItem(e){this.postMessage(t.ComponentAction.StreamContextItem,{},(t=>{const{item:r}=t;(!this.lastStreamedItem||this.lastStreamedItem.uuid!==r.uuid)&&this.pendingSaveTimeout&&(clearTimeout(this.pendingSaveTimeout),this.performSavingOfItems(this.pendingSaveParams),this.pendingSaveTimeout=void 0,this.pendingSaveParams=void 0),this.lastStreamedItem=r,e(this.lastStreamedItem)}))}selectItem(e){this.postMessage(t.ComponentAction.SelectItem,{item:this.jsonObjectForItem(e)})}clearSelection(){this.postMessage(t.ComponentAction.ClearSelection,{content_type:t.ContentType.Tag})}createItem(e,r){this.postMessage(t.ComponentAction.CreateItem,{item:this.jsonObjectForItem(e)},(e=>{let{item:t}=e;!t&&e.items&&e.items.length>0&&(t=e.items[0]),this.associateItem(t),r&&r(t)}))}createItems(e,r){const n=e.map((e=>this.jsonObjectForItem(e)));this.postMessage(t.ComponentAction.CreateItems,{items:n},(e=>{r&&r(e.items)}))}associateItem(e){this.postMessage(t.ComponentAction.AssociateItem,{item:this.jsonObjectForItem(e)})}deassociateItem(e){this.postMessage(t.ComponentAction.DeassociateItem,{item:this.jsonObjectForItem(e)})}deleteItem(e,t){this.deleteItems([e],t)}deleteItems(e,r){const n={items:e.map((e=>this.jsonObjectForItem(e)))};this.postMessage(t.ComponentAction.DeleteItems,n,(e=>{r&&r(e)}))}sendCustomEvent(e,t,r){this.postMessage(e,t,(e=>{r&&r(e)}))}saveItem(e,t){let r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];this.saveItems([e],t,r)}saveItemWithPresave(e,t,r){this.saveItemsWithPresave([e],t,r)}saveItemsWithPresave(e,t,r){this.saveItems(e,r,!1,t)}performSavingOfItems(e){let{items:r,presave:n,callback:i}=e;const o=setTimeout((()=>{this.concernTimeouts.forEach((e=>clearTimeout(e))),alert(\"This editor is unable to communicate with Standard Notes. Your changes may not be saved. Please backup your changes, then restart the application and try again.\")}),5e3);this.concernTimeouts.push(o),n&&n();const s=[];for(const e of r)s.push(this.jsonObjectForItem(e));this.postMessage(t.ComponentAction.SaveItems,{items:s},(()=>{this.concernTimeouts.forEach((e=>clearTimeout(e))),null==i||i()}))}saveItems(e,t){let r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=arguments.length>3?arguments[3]:void 0;if(this.pendingSaveItems||(this.pendingSaveItems=[]),this.options.coallesedSaving&&!r){this.pendingSaveTimeout&&clearTimeout(this.pendingSaveTimeout);const r=e.map((e=>e.uuid)),i=this.pendingSaveItems.filter((e=>!r.includes(e.uuid)));this.pendingSaveItems=i.concat(e),this.pendingSaveParams={items:this.pendingSaveItems,presave:n,callback:t},this.pendingSaveTimeout=setTimeout((()=>{this.performSavingOfItems(this.pendingSaveParams),this.pendingSaveItems=[],this.pendingSaveTimeout=void 0,this.pendingSaveParams=null}),this.options.coallesedSavingDelay)}else this.performSavingOfItems({items:e,presave:n,callback:t})}setSize(e,r){this.postMessage(t.ComponentAction.SetSize,{type:\"container\",width:e,height:r})}keyDownEvent(e){this.postMessage(t.ComponentAction.KeyDown,{keyboardModifier:e})}keyUpEvent(e){this.postMessage(t.ComponentAction.KeyUp,{keyboardModifier:e})}mouseClickEvent(){this.postMessage(t.ComponentAction.Click,{})}jsonObjectForItem(e){const t=Object.assign({},e);return t.children=null,t.parent=null,t}getItemAppDataValue(e,t){var r,n;const i=null==e||null===(r=e.content)||void 0===r||null===(n=r.appData)||void 0===n?void 0:n[\"org.standardnotes.sn\"];return null==i?void 0:i[t]}}})(),n.default})()));\n//# sourceMappingURL=dist.js.map","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","export const htmlToText = (html: string): string => {\n  const tmpDocument = document.implementation.createHTMLDocument().body\n  tmpDocument.innerHTML = html\n  return tmpDocument.textContent || tmpDocument.innerText || ''\n}\n\nexport const truncateString = (text: string, limit = 90): string => {\n  if (text.length <= limit) {\n    return text\n  }\n  return text.substring(0, limit) + '...'\n}\n\nexport const sleep = async (seconds: number): Promise<void> => {\n  await new Promise((resolve) => setTimeout(resolve, seconds * 1000))\n}\n","import ComponentRelay from '@standardnotes/component-relay'\nimport { truncateString, htmlToText } from './Utils'\nimport { OutgoingItemMessagePayload, NoteContent, DecryptedTransferPayload } from '@standardnotes/snjs'\nimport { EditorKitDelegate } from './EditorKitDelegate'\nimport { EditorKitOptions } from './EditorKitOptions'\n\ntype NoteMessagePayload = DecryptedTransferPayload<NoteContent> & OutgoingItemMessagePayload<NoteContent>\n\nexport default class EditorKit {\n  private componentRelay?: ComponentRelay\n  private note?: NoteMessagePayload\n  private ignoreNextTextChange?: boolean\n\n  constructor(private delegate: EditorKitDelegate, private options: EditorKitOptions) {\n    this.connectToBridge()\n  }\n\n  private connectToBridge() {\n    const { coallesedSaving, coallesedSavingDelay, mode } = this.options\n\n    this.componentRelay = new ComponentRelay({\n      targetWindow: window,\n      options: {\n        coallesedSaving,\n        /**\n         * The editor does some debouncing for us, so we'll lower the\n         * default debounce value from 250 to 150\n         */\n        coallesedSavingDelay,\n      },\n      onReady: () => {\n        const { platform } = this.componentRelay!\n\n        if (platform) {\n          document.documentElement.classList.add(platform)\n        }\n      },\n      onThemesChange: this.delegate.onThemesChange,\n      handleRequestForContentHeight: () => {\n        return this.delegate.handleRequestForContentHeight()\n      },\n    })\n\n    this.componentRelay.streamContextItem(async (note: NoteMessagePayload) => {\n      /**\n       * TODO: If note has changed, release previous temp object URLs.\n       */\n      let isNewNoteLoad = true\n      if (this.note && this.note.uuid == note.uuid) {\n        isNewNoteLoad = false\n      }\n\n      const previousNote = this.note\n\n      this.note = note\n\n      // Only update UI on non-metadata updates.\n      if (note.isMetadataUpdate) {\n        return\n      }\n\n      let text = note.content?.text || ''\n\n      /**\n       * If we're an HTML editor, and we're dealing with a new note,\n       * check to see if it's in html format.\n       * If it's not, we don't want to convert it to HTML until the user makes an explicit change\n       * so we'll ignore the next change event in this case.\n       */\n      if (mode === 'html' && isNewNoteLoad) {\n        const isHtml = /<[a-z][\\s\\S]*>/i.test(text)\n        if (!isHtml) {\n          this.ignoreNextTextChange = true\n        }\n      }\n\n      this.delegate.onNoteValueChange && (await this.delegate.onNoteValueChange(note))\n      this.delegate.setEditorRawText(text)\n\n      if (this.delegate.onNoteLockToggle) {\n        const previousLockState = this.componentRelay!.getItemAppDataValue(previousNote, 'locked') ?? false\n        const newLockState = this.componentRelay!.getItemAppDataValue(this.note, 'locked') ?? false\n\n        if (previousLockState !== newLockState) {\n          this.delegate.onNoteLockToggle(newLockState)\n        }\n      }\n\n      if (isNewNoteLoad) {\n        this.delegate.clearUndoHistory?.()\n      }\n    })\n  }\n\n  private configureFileSafe() {\n    const requiredDelegateFunctions = [\n      'getCurrentLineText',\n      'getPreviousLineText',\n      'replaceText',\n      'getElementsBySelector',\n      'insertElement',\n      'preprocessElement',\n      'insertRawText',\n    ]\n\n    for (const functionName of requiredDelegateFunctions) {\n      if (!this.delegate[functionName]) {\n        throw Error(`Missing ${functionName} delegate function.`)\n      }\n    }\n  }\n\n  /**\n   * Called by consumer when the editor has a change/input event.\n   */\n  public onEditorValueChanged(text: string): void {\n    const { mode } = this.options\n\n    if (this.ignoreNextTextChange) {\n      this.ignoreNextTextChange = false\n      return\n    }\n\n    if (!this.note) {\n      return\n    }\n\n    const note = this.note\n\n    this.componentRelay!.saveItemWithPresave<NoteContent>(note, () => {\n      note.content!.text = text\n\n      if (this.delegate.generateCustomPreview) {\n        const result = this.delegate.generateCustomPreview(text)\n\n        note.content.preview_plain = result.plain ?? ' '\n        note.content.preview_html = result.html\n      } else {\n        if (mode === 'html') {\n          let preview = text\n          preview = truncateString(htmlToText(preview))\n          /**\n           * If the preview has no length due to either being an empty note, or having just 1 FileSafe file\n           * that is stripped above, then we don't want to set to empty string, otherwise SN app will default to content\n           * for preview. We'll set a whitespace preview instead so SN doesn't go based on innate content.\n           */\n          note.content.preview_plain = preview.length > 0 ? preview : ' '\n        } else {\n          note.content.preview_plain = text\n        }\n\n        // We're only using plain in this block.\n        note.content.preview_html = undefined\n      }\n    })\n  }\n\n  /**\n   * saveItemWithPresave from the component relay.\n   */\n  public saveItemWithPresave(note: NoteMessagePayload, presave?: () => void): void {\n    this.componentRelay!.saveItemWithPresave(note, presave)\n  }\n\n  /**\n   * Gets the current platform where the component is running.\n   */\n  public get platform(): string | undefined {\n    return this.componentRelay!.platform\n  }\n\n  /**\n   * Gets the current environment where the component is running.\n   */\n  public get environment(): string | undefined {\n    return this.componentRelay!.environment\n  }\n\n  public getComponentDataValueForKey(key: string): any {\n    return this.componentRelay!.getComponentDataValueForKey(key)\n  }\n\n  public setComponentDataValueForKey(key: string, value: any): void {\n    this.componentRelay!.setComponentDataValueForKey(key, value)\n  }\n\n  public isRunningInMobileApplication(): boolean {\n    return this.componentRelay!.isRunningInMobileApplication()\n  }\n}\n"],"names":["htmlToText","html","tmpDocument","document","implementation","createHTMLDocument","body","innerHTML","textContent","innerText","truncateString","text","limit","length","substring","sleep","seconds","Promise","resolve","setTimeout","ComponentRelay","EditorKit","constructor","delegate","options","connectToBridge","coallesedSaving","coallesedSavingDelay","mode","componentRelay","targetWindow","window","onReady","platform","documentElement","classList","add","onThemesChange","handleRequestForContentHeight","streamContextItem","note","isNewNoteLoad","uuid","previousNote","isMetadataUpdate","content","isHtml","test","ignoreNextTextChange","onNoteValueChange","setEditorRawText","onNoteLockToggle","previousLockState","getItemAppDataValue","newLockState","clearUndoHistory","configureFileSafe","requiredDelegateFunctions","functionName","Error","onEditorValueChanged","saveItemWithPresave","generateCustomPreview","result","preview_plain","plain","preview_html","preview","undefined","presave","environment","getComponentDataValueForKey","key","setComponentDataValueForKey","value","isRunningInMobileApplication"],"sourceRoot":""}